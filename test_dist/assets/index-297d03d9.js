(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Xf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mu={exports:{}},Bs={},hu={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),Yf=Symbol.for("react.portal"),Zf=Symbol.for("react.fragment"),Jf=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),l0=Symbol.for("react.suspense"),s0=Symbol.for("react.memo"),o0=Symbol.for("react.lazy"),Wi=Symbol.iterator;function a0(e){return e===null||typeof e!="object"?null:(e=Wi&&e[Wi]||e["@@iterator"],typeof e=="function"?e:null)}var gu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_u=Object.assign,yu={};function Gr(e,t,n){this.props=e,this.context=t,this.refs=yu,this.updater=n||gu}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vu(){}vu.prototype=Gr.prototype;function Ga(e,t,n){this.props=e,this.context=t,this.refs=yu,this.updater=n||gu}var Va=Ga.prototype=new vu;Va.constructor=Ga;_u(Va,Gr.prototype);Va.isPureReactComponent=!0;var qi=Array.isArray,xu=Object.prototype.hasOwnProperty,Ka={current:null},wu={key:!0,ref:!0,__self:!0,__source:!0};function bu(e,t,n){var r,l={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)xu.call(t,r)&&!wu.hasOwnProperty(r)&&(l[r]=t[r]);var f=arguments.length-2;if(f===1)l.children=n;else if(1<f){for(var p=Array(f),v=0;v<f;v++)p[v]=arguments[v+2];l.children=p}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)l[r]===void 0&&(l[r]=f[r]);return{$$typeof:Cl,type:e,key:o,ref:i,props:l,_owner:Ka.current}}function i0(e,t){return{$$typeof:Cl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ha(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cl}function c0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qi=/\/+/g;function xo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?c0(""+e.key):t.toString(36)}function ss(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Cl:case Yf:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+xo(i,0):r,qi(l)?(n="",e!=null&&(n=e.replace(Qi,"$&/")+"/"),ss(l,t,n,"",function(v){return v})):l!=null&&(Ha(l)&&(l=i0(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Qi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",qi(e))for(var f=0;f<e.length;f++){o=e[f];var p=r+xo(o,f);i+=ss(o,t,n,p,l)}else if(p=a0(e),typeof p=="function")for(e=p.call(e),f=0;!(o=e.next()).done;)o=o.value,p=r+xo(o,f++),i+=ss(o,t,n,p,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ul(e,t,n){if(e==null)return e;var r=[],l=0;return ss(e,r,"","",function(o){return t.call(n,o,l++)}),r}function u0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},os={transition:null},d0={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:os,ReactCurrentOwner:Ka};function ku(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Ul,forEach:function(e,t,n){Ul(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ul(e,function(){t++}),t},toArray:function(e){return Ul(e,function(t){return t})||[]},only:function(e){if(!Ha(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Gr;be.Fragment=Zf;be.Profiler=e0;be.PureComponent=Ga;be.StrictMode=Jf;be.Suspense=l0;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d0;be.act=ku;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_u({},e.props),l=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Ka.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)xu.call(t,p)&&!wu.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){f=Array(p);for(var v=0;v<p;v++)f[v]=arguments[v+2];r.children=f}return{$$typeof:Cl,type:e.type,key:l,ref:o,props:r,_owner:i}};be.createContext=function(e){return e={$$typeof:n0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t0,_context:e},e.Consumer=e};be.createElement=bu;be.createFactory=function(e){var t=bu.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:r0,render:e}};be.isValidElement=Ha;be.lazy=function(e){return{$$typeof:o0,_payload:{_status:-1,_result:e},_init:u0}};be.memo=function(e,t){return{$$typeof:s0,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=os.transition;os.transition={};try{e()}finally{os.transition=t}};be.unstable_act=ku;be.useCallback=function(e,t){return ht.current.useCallback(e,t)};be.useContext=function(e){return ht.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};be.useEffect=function(e,t){return ht.current.useEffect(e,t)};be.useId=function(){return ht.current.useId()};be.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return ht.current.useMemo(e,t)};be.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};be.useRef=function(e){return ht.current.useRef(e)};be.useState=function(e){return ht.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return ht.current.useTransition()};be.version="18.3.1";hu.exports=be;var de=hu.exports;const _r=Xf(de);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=de,p0=Symbol.for("react.element"),m0=Symbol.for("react.fragment"),h0=Object.prototype.hasOwnProperty,g0=f0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_0={key:!0,ref:!0,__self:!0,__source:!0};function Nu(e,t,n){var r,l={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)h0.call(t,r)&&!_0.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:p0,type:e,key:o,ref:i,props:l,_owner:g0.current}}Bs.Fragment=m0;Bs.jsx=Nu;Bs.jsxs=Nu;mu.exports=Bs;var s=mu.exports,qo={},Eu={exports:{}},Tt={},ju={exports:{}},Mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,he){var ge=Y.length;Y.push(he);e:for(;0<ge;){var Ce=ge-1>>>1,Se=Y[Ce];if(0<l(Se,he))Y[Ce]=he,Y[ge]=Se,ge=Ce;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var he=Y[0],ge=Y.pop();if(ge!==he){Y[0]=ge;e:for(var Ce=0,Se=Y.length,Nt=Se>>>1;Ce<Nt;){var Ge=2*(Ce+1)-1,Et=Y[Ge],jt=Ge+1,Hn=Y[jt];if(0>l(Et,ge))jt<Se&&0>l(Hn,Et)?(Y[Ce]=Hn,Y[jt]=ge,Ce=jt):(Y[Ce]=Et,Y[Ge]=ge,Ce=Ge);else if(jt<Se&&0>l(Hn,ge))Y[Ce]=Hn,Y[jt]=ge,Ce=jt;else break e}}return he}function l(Y,he){var ge=Y.sortIndex-he.sortIndex;return ge!==0?ge:Y.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,f=i.now();e.unstable_now=function(){return i.now()-f}}var p=[],v=[],j=1,b=null,y=3,M=!1,$=!1,C=!1,te=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var he=n(v);he!==null;){if(he.callback===null)r(v);else if(he.startTime<=Y)r(v),he.sortIndex=he.expirationTime,t(p,he);else break;he=n(v)}}function F(Y){if(C=!1,E(Y),!$)if(n(p)!==null)$=!0,Ye(H);else{var he=n(v);he!==null&&Ze(F,he.startTime-Y)}}function H(Y,he){$=!1,C&&(C=!1,w(J),J=-1),M=!0;var ge=y;try{for(E(he),b=n(p);b!==null&&(!(b.expirationTime>he)||Y&&!qe());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,y=b.priorityLevel;var Se=Ce(b.expirationTime<=he);he=e.unstable_now(),typeof Se=="function"?b.callback=Se:b===n(p)&&r(p),E(he)}else r(p);b=n(p)}if(b!==null)var Nt=!0;else{var Ge=n(v);Ge!==null&&Ze(F,Ge.startTime-he),Nt=!1}return Nt}finally{b=null,y=ge,M=!1}}var D=!1,Q=null,J=-1,Ee=5,me=-1;function qe(){return!(e.unstable_now()-me<Ee)}function ln(){if(Q!==null){var Y=e.unstable_now();me=Y;var he=!0;try{he=Q(!0,Y)}finally{he?Xt():(D=!1,Q=null)}}else D=!1}var Xt;if(typeof _=="function")Xt=function(){_(ln)};else if(typeof MessageChannel<"u"){var Kn=new MessageChannel,dr=Kn.port2;Kn.port1.onmessage=ln,Xt=function(){dr.postMessage(null)}}else Xt=function(){te(ln,0)};function Ye(Y){Q=Y,D||(D=!0,Xt())}function Ze(Y,he){J=te(function(){Y(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){$||M||($=!0,Ye(H))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var he=3;break;default:he=y}var ge=y;y=he;try{return Y()}finally{y=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,he){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=y;y=Y;try{return he()}finally{y=ge}},e.unstable_scheduleCallback=function(Y,he,ge){var Ce=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ce+ge:Ce):ge=Ce,Y){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ge+Se,Y={id:j++,callback:he,priorityLevel:Y,startTime:ge,expirationTime:Se,sortIndex:-1},ge>Ce?(Y.sortIndex=ge,t(v,Y),n(p)===null&&Y===n(v)&&(C?(w(J),J=-1):C=!0,Ze(F,ge-Ce))):(Y.sortIndex=Se,t(p,Y),$||M||($=!0,Ye(H))),Y},e.unstable_shouldYield=qe,e.unstable_wrapCallback=function(Y){var he=y;return function(){var ge=y;y=he;try{return Y.apply(this,arguments)}finally{y=ge}}}})(Mu);ju.exports=Mu;var y0=ju.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=de,Ct=y0;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Su=new Set,hl={};function cr(e,t){Ir(e,t),Ir(e+"Capture",t)}function Ir(e,t){for(hl[e]=t,e=0;e<t.length;e++)Su.add(t[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=Object.prototype.hasOwnProperty,x0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xi={},Yi={};function w0(e){return Qo.call(Yi,e)?!0:Qo.call(Xi,e)?!1:x0.test(e)?Yi[e]=!0:(Xi[e]=!0,!1)}function b0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k0(e,t,n,r){if(t===null||typeof t>"u"||b0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gt(e,t,n,r,l,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wa=/[\-:]([a-z])/g;function qa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wa,qa);lt[t]=new gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wa,qa);lt[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wa,qa);lt[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new gt(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qa(e,t,n,r){var l=lt.hasOwnProperty(t)?lt[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k0(t,n,l,r)&&(n=null),r||l===null?w0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wn=v0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$l=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),Xa=Symbol.for("react.strict_mode"),Xo=Symbol.for("react.profiler"),Ru=Symbol.for("react.provider"),Lu=Symbol.for("react.context"),Ya=Symbol.for("react.forward_ref"),Yo=Symbol.for("react.suspense"),Zo=Symbol.for("react.suspense_list"),Za=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),Pu=Symbol.for("react.offscreen"),Zi=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=Zi&&e[Zi]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,wo;function tl(e){if(wo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wo=t&&t[1]||""}return`
`+wo+e}var bo=!1;function ko(e,t){if(!e||bo)return"";bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var l=v.stack.split(`
`),o=r.stack.split(`
`),i=l.length-1,f=o.length-1;1<=i&&0<=f&&l[i]!==o[f];)f--;for(;1<=i&&0<=f;i--,f--)if(l[i]!==o[f]){if(i!==1||f!==1)do if(i--,f--,0>f||l[i]!==o[f]){var p=`
`+l[i].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=i&&0<=f);break}}}finally{bo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tl(e):""}function N0(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=ko(e.type,!1),e;case 11:return e=ko(e.type.render,!1),e;case 1:return e=ko(e.type,!0),e;default:return""}}function Jo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vr:return"Fragment";case yr:return"Portal";case Xo:return"Profiler";case Xa:return"StrictMode";case Yo:return"Suspense";case Zo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lu:return(e.displayName||"Context")+".Consumer";case Ru:return(e._context.displayName||"Context")+".Provider";case Ya:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Za:return t=e.displayName||null,t!==null?t:Jo(e.type)||"Memo";case En:t=e._payload,e=e._init;try{return Jo(e(t))}catch{}}return null}function E0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jo(t);case 8:return t===Xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function j0(e){var t=Cu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bl(e){e._valueTracker||(e._valueTracker=j0(e))}function Tu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ea(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ji(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Au(e,t){t=t.checked,t!=null&&Qa(e,"checked",t,!1)}function ta(e,t){Au(e,t);var n=Un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?na(e,t.type,n):t.hasOwnProperty("defaultValue")&&na(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ec(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function na(e,t,n){(t!=="number"||_s(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nl=Array.isArray;function Lr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Un(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ra(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(nl(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Un(n)}}function zu(e,t){var n=Un(t.value),r=Un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Iu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function la(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Iu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gl,Du=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gl=Gl||document.createElement("div"),Gl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M0=["Webkit","ms","Moz","O"];Object.keys(sl).forEach(function(e){M0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sl[t]=sl[e]})});function Ou(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sl.hasOwnProperty(e)&&sl[e]?(""+t).trim():t+"px"}function Fu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Ou(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var S0=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(e,t){if(t){if(S0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function oa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function Ja(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ia=null,Pr=null,Cr=null;function rc(e){if(e=zl(e)){if(typeof ia!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Ws(t),ia(e.stateNode,e.type,t))}}function Uu(e){Pr?Cr?Cr.push(e):Cr=[e]:Pr=e}function $u(){if(Pr){var e=Pr,t=Cr;if(Cr=Pr=null,rc(e),t)for(e=0;e<t.length;e++)rc(t[e])}}function Bu(e,t){return e(t)}function Gu(){}var No=!1;function Vu(e,t,n){if(No)return e(t,n);No=!0;try{return Bu(e,t,n)}finally{No=!1,(Pr!==null||Cr!==null)&&(Gu(),$u())}}function _l(e,t){var n=e.stateNode;if(n===null)return null;var r=Ws(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var ca=!1;if(_n)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){ca=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{ca=!1}function R0(e,t,n,r,l,o,i,f,p){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(j){this.onError(j)}}var ol=!1,ys=null,vs=!1,ua=null,L0={onError:function(e){ol=!0,ys=e}};function P0(e,t,n,r,l,o,i,f,p){ol=!1,ys=null,R0.apply(L0,arguments)}function C0(e,t,n,r,l,o,i,f,p){if(P0.apply(this,arguments),ol){if(ol){var v=ys;ol=!1,ys=null}else throw Error(V(198));vs||(vs=!0,ua=v)}}function ur(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ku(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lc(e){if(ur(e)!==e)throw Error(V(188))}function T0(e){var t=e.alternate;if(!t){if(t=ur(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return lc(l),e;if(o===r)return lc(l),t;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=l,r=o;else{for(var i=!1,f=l.child;f;){if(f===n){i=!0,n=l,r=o;break}if(f===r){i=!0,r=l,n=o;break}f=f.sibling}if(!i){for(f=o.child;f;){if(f===n){i=!0,n=o,r=l;break}if(f===r){i=!0,r=o,n=l;break}f=f.sibling}if(!i)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Hu(e){return e=T0(e),e!==null?Wu(e):null}function Wu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wu(e);if(t!==null)return t;e=e.sibling}return null}var qu=Ct.unstable_scheduleCallback,sc=Ct.unstable_cancelCallback,A0=Ct.unstable_shouldYield,z0=Ct.unstable_requestPaint,Ke=Ct.unstable_now,I0=Ct.unstable_getCurrentPriorityLevel,ei=Ct.unstable_ImmediatePriority,Qu=Ct.unstable_UserBlockingPriority,xs=Ct.unstable_NormalPriority,D0=Ct.unstable_LowPriority,Xu=Ct.unstable_IdlePriority,Gs=null,nn=null;function O0(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Gs,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:$0,F0=Math.log,U0=Math.LN2;function $0(e){return e>>>=0,e===0?32:31-(F0(e)/U0|0)|0}var Vl=64,Kl=4194304;function rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ws(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var f=i&~l;f!==0?r=rl(f):(o&=i,o!==0&&(r=rl(o)))}else i=n&~l,i!==0?r=rl(i):o!==0&&(r=rl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),l=1<<n,r|=e[n],t&=~l;return r}function B0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Wt(o),f=1<<i,p=l[i];p===-1?(!(f&n)||f&r)&&(l[i]=B0(f,t)):p<=t&&(e.expiredLanes|=f),o&=~f}}function da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yu(){var e=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),e}function Eo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function V0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Wt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function ti(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Re=0;function Zu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ju,ni,ed,td,nd,fa=!1,Hl=[],Cn=null,Tn=null,An=null,yl=new Map,vl=new Map,Mn=[],K0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(t.pointerId)}}function qr(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=zl(t),t!==null&&ni(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function H0(e,t,n,r,l){switch(t){case"focusin":return Cn=qr(Cn,e,t,n,r,l),!0;case"dragenter":return Tn=qr(Tn,e,t,n,r,l),!0;case"mouseover":return An=qr(An,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return yl.set(o,qr(yl.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,vl.set(o,qr(vl.get(o)||null,e,t,n,r,l)),!0}return!1}function rd(e){var t=Jn(e.target);if(t!==null){var n=ur(t);if(n!==null){if(t=n.tag,t===13){if(t=Ku(n),t!==null){e.blockedOn=t,nd(e.priority,function(){ed(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function as(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);aa=r,n.target.dispatchEvent(r),aa=null}else return t=zl(n),t!==null&&ni(t),e.blockedOn=n,!1;t.shift()}return!0}function ac(e,t,n){as(e)&&n.delete(t)}function W0(){fa=!1,Cn!==null&&as(Cn)&&(Cn=null),Tn!==null&&as(Tn)&&(Tn=null),An!==null&&as(An)&&(An=null),yl.forEach(ac),vl.forEach(ac)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,fa||(fa=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,W0)))}function xl(e){function t(l){return Qr(l,e)}if(0<Hl.length){Qr(Hl[0],e);for(var n=1;n<Hl.length;n++){var r=Hl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Cn!==null&&Qr(Cn,e),Tn!==null&&Qr(Tn,e),An!==null&&Qr(An,e),yl.forEach(t),vl.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)rd(n),n.blockedOn===null&&Mn.shift()}var Tr=wn.ReactCurrentBatchConfig,bs=!0;function q0(e,t,n,r){var l=Re,o=Tr.transition;Tr.transition=null;try{Re=1,ri(e,t,n,r)}finally{Re=l,Tr.transition=o}}function Q0(e,t,n,r){var l=Re,o=Tr.transition;Tr.transition=null;try{Re=4,ri(e,t,n,r)}finally{Re=l,Tr.transition=o}}function ri(e,t,n,r){if(bs){var l=pa(e,t,n,r);if(l===null)zo(e,t,r,ks,n),oc(e,r);else if(H0(l,e,t,n,r))r.stopPropagation();else if(oc(e,r),t&4&&-1<K0.indexOf(e)){for(;l!==null;){var o=zl(l);if(o!==null&&Ju(o),o=pa(e,t,n,r),o===null&&zo(e,t,r,ks,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else zo(e,t,r,null,n)}}var ks=null;function pa(e,t,n,r){if(ks=null,e=Ja(r),e=Jn(e),e!==null)if(t=ur(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ku(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ks=e,null}function ld(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I0()){case ei:return 1;case Qu:return 4;case xs:case D0:return 16;case Xu:return 536870912;default:return 16}default:return 16}}var Rn=null,li=null,is=null;function sd(){if(is)return is;var e,t=li,n=t.length,r,l="value"in Rn?Rn.value:Rn.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[o-r];r++);return is=l.slice(e,1<r?1-r:void 0)}function cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wl(){return!0}function ic(){return!1}function At(e){function t(n,r,l,o,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wl:ic,this.isPropagationStopped=ic,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=At(Vr),Al=$e({},Vr,{view:0,detail:0}),X0=At(Al),jo,Mo,Xr,Vs=$e({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(jo=e.screenX-Xr.screenX,Mo=e.screenY-Xr.screenY):Mo=jo=0,Xr=e),jo)},movementY:function(e){return"movementY"in e?e.movementY:Mo}}),cc=At(Vs),Y0=$e({},Vs,{dataTransfer:0}),Z0=At(Y0),J0=$e({},Al,{relatedTarget:0}),So=At(J0),ep=$e({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),tp=At(ep),np=$e({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rp=At(np),lp=$e({},Vr,{data:0}),uc=At(lp),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ip(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ap[e])?!!t[e]:!1}function oi(){return ip}var cp=$e({},Al,{key:function(e){if(e.key){var t=sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oi,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),up=At(cp),dp=$e({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=At(dp),fp=$e({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oi}),pp=At(fp),mp=$e({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hp=At(mp),gp=$e({},Vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_p=At(gp),yp=[9,13,27,32],ai=_n&&"CompositionEvent"in window,al=null;_n&&"documentMode"in document&&(al=document.documentMode);var vp=_n&&"TextEvent"in window&&!al,od=_n&&(!ai||al&&8<al&&11>=al),fc=String.fromCharCode(32),pc=!1;function ad(e,t){switch(e){case"keyup":return yp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function xp(e,t){switch(e){case"compositionend":return id(t);case"keypress":return t.which!==32?null:(pc=!0,fc);case"textInput":return e=t.data,e===fc&&pc?null:e;default:return null}}function wp(e,t){if(xr)return e==="compositionend"||!ai&&ad(e,t)?(e=sd(),is=li=Rn=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return od&&t.locale!=="ko"?null:t.data;default:return null}}var bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bp[e.type]:t==="textarea"}function cd(e,t,n,r){Uu(r),t=Ns(t,"onChange"),0<t.length&&(n=new si("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var il=null,wl=null;function kp(e){xd(e,0)}function Ks(e){var t=kr(e);if(Tu(t))return e}function Np(e,t){if(e==="change")return t}var ud=!1;if(_n){var Ro;if(_n){var Lo="oninput"in document;if(!Lo){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),Lo=typeof hc.oninput=="function"}Ro=Lo}else Ro=!1;ud=Ro&&(!document.documentMode||9<document.documentMode)}function gc(){il&&(il.detachEvent("onpropertychange",dd),wl=il=null)}function dd(e){if(e.propertyName==="value"&&Ks(wl)){var t=[];cd(t,wl,e,Ja(e)),Vu(kp,t)}}function Ep(e,t,n){e==="focusin"?(gc(),il=t,wl=n,il.attachEvent("onpropertychange",dd)):e==="focusout"&&gc()}function jp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ks(wl)}function Mp(e,t){if(e==="click")return Ks(t)}function Sp(e,t){if(e==="input"||e==="change")return Ks(t)}function Rp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Rp;function bl(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Qo.call(t,l)||!Qt(e[l],t[l]))return!1}return!0}function _c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yc(e,t){var n=_c(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_c(n)}}function fd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pd(){for(var e=window,t=_s();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_s(e.document)}return t}function ii(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lp(e){var t=pd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fd(n.ownerDocument.documentElement,n)){if(r!==null&&ii(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=yc(n,o);var i=yc(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pp=_n&&"documentMode"in document&&11>=document.documentMode,wr=null,ma=null,cl=null,ha=!1;function vc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ha||wr==null||wr!==_s(r)||(r=wr,"selectionStart"in r&&ii(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cl&&bl(cl,r)||(cl=r,r=Ns(ma,"onSelect"),0<r.length&&(t=new si("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionend:ql("Transition","TransitionEnd")},Po={},md={};_n&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function Hs(e){if(Po[e])return Po[e];if(!br[e])return e;var t=br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in md)return Po[e]=t[n];return e}var hd=Hs("animationend"),gd=Hs("animationiteration"),_d=Hs("animationstart"),yd=Hs("transitionend"),vd=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){vd.set(e,t),cr(t,[e])}for(var Co=0;Co<xc.length;Co++){var To=xc[Co],Cp=To.toLowerCase(),Tp=To[0].toUpperCase()+To.slice(1);Bn(Cp,"on"+Tp)}Bn(hd,"onAnimationEnd");Bn(gd,"onAnimationIteration");Bn(_d,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(yd,"onTransitionEnd");Ir("onMouseEnter",["mouseout","mouseover"]);Ir("onMouseLeave",["mouseout","mouseover"]);Ir("onPointerEnter",["pointerout","pointerover"]);Ir("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function wc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,C0(r,t,void 0,e),e.currentTarget=null}function xd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var f=r[i],p=f.instance,v=f.currentTarget;if(f=f.listener,p!==o&&l.isPropagationStopped())break e;wc(l,f,v),o=p}else for(i=0;i<r.length;i++){if(f=r[i],p=f.instance,v=f.currentTarget,f=f.listener,p!==o&&l.isPropagationStopped())break e;wc(l,f,v),o=p}}}if(vs)throw e=ua,vs=!1,ua=null,e}function Ie(e,t){var n=t[xa];n===void 0&&(n=t[xa]=new Set);var r=e+"__bubble";n.has(r)||(wd(t,e,2,!1),n.add(r))}function Ao(e,t,n){var r=0;t&&(r|=4),wd(n,e,r,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function kl(e){if(!e[Ql]){e[Ql]=!0,Su.forEach(function(n){n!=="selectionchange"&&(Ap.has(n)||Ao(n,!1,e),Ao(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,Ao("selectionchange",!1,t))}}function wd(e,t,n,r){switch(ld(t)){case 1:var l=q0;break;case 4:l=Q0;break;default:l=ri}n=l.bind(null,t,n,e),l=void 0,!ca||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function zo(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var f=r.stateNode.containerInfo;if(f===l||f.nodeType===8&&f.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var p=i.tag;if((p===3||p===4)&&(p=i.stateNode.containerInfo,p===l||p.nodeType===8&&p.parentNode===l))return;i=i.return}for(;f!==null;){if(i=Jn(f),i===null)return;if(p=i.tag,p===5||p===6){r=o=i;continue e}f=f.parentNode}}r=r.return}Vu(function(){var v=o,j=Ja(n),b=[];e:{var y=vd.get(e);if(y!==void 0){var M=si,$=e;switch(e){case"keypress":if(cs(n)===0)break e;case"keydown":case"keyup":M=up;break;case"focusin":$="focus",M=So;break;case"focusout":$="blur",M=So;break;case"beforeblur":case"afterblur":M=So;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=Z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=pp;break;case hd:case gd:case _d:M=tp;break;case yd:M=hp;break;case"scroll":M=X0;break;case"wheel":M=_p;break;case"copy":case"cut":case"paste":M=rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=dc}var C=(t&4)!==0,te=!C&&e==="scroll",w=C?y!==null?y+"Capture":null:y;C=[];for(var _=v,E;_!==null;){E=_;var F=E.stateNode;if(E.tag===5&&F!==null&&(E=F,w!==null&&(F=_l(_,w),F!=null&&C.push(Nl(_,F,E)))),te)break;_=_.return}0<C.length&&(y=new M(y,$,null,n,j),b.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",y&&n!==aa&&($=n.relatedTarget||n.fromElement)&&(Jn($)||$[yn]))break e;if((M||y)&&(y=j.window===j?j:(y=j.ownerDocument)?y.defaultView||y.parentWindow:window,M?($=n.relatedTarget||n.toElement,M=v,$=$?Jn($):null,$!==null&&(te=ur($),$!==te||$.tag!==5&&$.tag!==6)&&($=null)):(M=null,$=v),M!==$)){if(C=cc,F="onMouseLeave",w="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(C=dc,F="onPointerLeave",w="onPointerEnter",_="pointer"),te=M==null?y:kr(M),E=$==null?y:kr($),y=new C(F,_+"leave",M,n,j),y.target=te,y.relatedTarget=E,F=null,Jn(j)===v&&(C=new C(w,_+"enter",$,n,j),C.target=E,C.relatedTarget=te,F=C),te=F,M&&$)t:{for(C=M,w=$,_=0,E=C;E;E=gr(E))_++;for(E=0,F=w;F;F=gr(F))E++;for(;0<_-E;)C=gr(C),_--;for(;0<E-_;)w=gr(w),E--;for(;_--;){if(C===w||w!==null&&C===w.alternate)break t;C=gr(C),w=gr(w)}C=null}else C=null;M!==null&&bc(b,y,M,C,!1),$!==null&&te!==null&&bc(b,te,$,C,!0)}}e:{if(y=v?kr(v):window,M=y.nodeName&&y.nodeName.toLowerCase(),M==="select"||M==="input"&&y.type==="file")var H=Np;else if(mc(y))if(ud)H=Sp;else{H=jp;var D=Ep}else(M=y.nodeName)&&M.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(H=Mp);if(H&&(H=H(e,v))){cd(b,H,n,j);break e}D&&D(e,y,v),e==="focusout"&&(D=y._wrapperState)&&D.controlled&&y.type==="number"&&na(y,"number",y.value)}switch(D=v?kr(v):window,e){case"focusin":(mc(D)||D.contentEditable==="true")&&(wr=D,ma=v,cl=null);break;case"focusout":cl=ma=wr=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,vc(b,n,j);break;case"selectionchange":if(Pp)break;case"keydown":case"keyup":vc(b,n,j)}var Q;if(ai)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else xr?ad(e,n)&&(J="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(J="onCompositionStart");J&&(od&&n.locale!=="ko"&&(xr||J!=="onCompositionStart"?J==="onCompositionEnd"&&xr&&(Q=sd()):(Rn=j,li="value"in Rn?Rn.value:Rn.textContent,xr=!0)),D=Ns(v,J),0<D.length&&(J=new uc(J,e,null,n,j),b.push({event:J,listeners:D}),Q?J.data=Q:(Q=id(n),Q!==null&&(J.data=Q)))),(Q=vp?xp(e,n):wp(e,n))&&(v=Ns(v,"onBeforeInput"),0<v.length&&(j=new uc("onBeforeInput","beforeinput",null,n,j),b.push({event:j,listeners:v}),j.data=Q))}xd(b,t)})}function Nl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ns(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=_l(e,n),o!=null&&r.unshift(Nl(e,o,l)),o=_l(e,t),o!=null&&r.push(Nl(e,o,l))),e=e.return}return r}function gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,n,r,l){for(var o=t._reactName,i=[];n!==null&&n!==r;){var f=n,p=f.alternate,v=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&v!==null&&(f=v,l?(p=_l(n,o),p!=null&&i.unshift(Nl(n,p,f))):l||(p=_l(n,o),p!=null&&i.push(Nl(n,p,f)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var zp=/\r\n?/g,Ip=/\u0000|\uFFFD/g;function kc(e){return(typeof e=="string"?e:""+e).replace(zp,`
`).replace(Ip,"")}function Xl(e,t,n){if(t=kc(t),kc(e)!==t&&n)throw Error(V(425))}function Es(){}var ga=null,_a=null;function ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var va=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,Nc=typeof Promise=="function"?Promise:void 0,Op=typeof queueMicrotask=="function"?queueMicrotask:typeof Nc<"u"?function(e){return Nc.resolve(null).then(e).catch(Fp)}:va;function Fp(e){setTimeout(function(){throw e})}function Io(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),xl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);xl(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ec(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),tn="__reactFiber$"+Kr,El="__reactProps$"+Kr,yn="__reactContainer$"+Kr,xa="__reactEvents$"+Kr,Up="__reactListeners$"+Kr,$p="__reactHandles$"+Kr;function Jn(e){var t=e[tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ec(e);e!==null;){if(n=e[tn])return n;e=Ec(e)}return t}e=n,n=e.parentNode}return null}function zl(e){return e=e[tn]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Ws(e){return e[El]||null}var wa=[],Nr=-1;function Gn(e){return{current:e}}function De(e){0>Nr||(e.current=wa[Nr],wa[Nr]=null,Nr--)}function Ae(e,t){Nr++,wa[Nr]=e.current,e.current=t}var $n={},ct=Gn($n),wt=Gn(!1),lr=$n;function Dr(e,t){var n=e.type.contextTypes;if(!n)return $n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function bt(e){return e=e.childContextTypes,e!=null}function js(){De(wt),De(ct)}function jc(e,t,n){if(ct.current!==$n)throw Error(V(168));Ae(ct,t),Ae(wt,n)}function bd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(V(108,E0(e)||"Unknown",l));return $e({},n,r)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$n,lr=ct.current,Ae(ct,e),Ae(wt,wt.current),!0}function Mc(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=bd(e,t,lr),r.__reactInternalMemoizedMergedChildContext=e,De(wt),De(ct),Ae(ct,e)):De(wt),Ae(wt,n)}var dn=null,qs=!1,Do=!1;function kd(e){dn===null?dn=[e]:dn.push(e)}function Bp(e){qs=!0,kd(e)}function Vn(){if(!Do&&dn!==null){Do=!0;var e=0,t=Re;try{var n=dn;for(Re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dn=null,qs=!1}catch(l){throw dn!==null&&(dn=dn.slice(e+1)),qu(ei,Vn),l}finally{Re=t,Do=!1}}return null}var Er=[],jr=0,Ss=null,Rs=0,It=[],Dt=0,sr=null,fn=1,pn="";function Xn(e,t){Er[jr++]=Rs,Er[jr++]=Ss,Ss=e,Rs=t}function Nd(e,t,n){It[Dt++]=fn,It[Dt++]=pn,It[Dt++]=sr,sr=e;var r=fn;e=pn;var l=32-Wt(r)-1;r&=~(1<<l),n+=1;var o=32-Wt(t)+l;if(30<o){var i=l-l%5;o=(r&(1<<i)-1).toString(32),r>>=i,l-=i,fn=1<<32-Wt(t)+l|n<<l|r,pn=o+e}else fn=1<<o|n<<l|r,pn=e}function ci(e){e.return!==null&&(Xn(e,1),Nd(e,1,0))}function ui(e){for(;e===Ss;)Ss=Er[--jr],Er[jr]=null,Rs=Er[--jr],Er[jr]=null;for(;e===sr;)sr=It[--Dt],It[Dt]=null,pn=It[--Dt],It[Dt]=null,fn=It[--Dt],It[Dt]=null}var Pt=null,Lt=null,Oe=!1,Ht=null;function Ed(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,Lt=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sr!==null?{id:fn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,Lt=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ka(e){if(Oe){var t=Lt;if(t){var n=t;if(!Sc(e,t)){if(ba(e))throw Error(V(418));t=zn(n.nextSibling);var r=Pt;t&&Sc(e,t)?Ed(r,n):(e.flags=e.flags&-4097|2,Oe=!1,Pt=e)}}else{if(ba(e))throw Error(V(418));e.flags=e.flags&-4097|2,Oe=!1,Pt=e}}}function Rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function Yl(e){if(e!==Pt)return!1;if(!Oe)return Rc(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ya(e.type,e.memoizedProps)),t&&(t=Lt)){if(ba(e))throw jd(),Error(V(418));for(;t;)Ed(e,t),t=zn(t.nextSibling)}if(Rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Pt?zn(e.stateNode.nextSibling):null;return!0}function jd(){for(var e=Lt;e;)e=zn(e.nextSibling)}function Or(){Lt=Pt=null,Oe=!1}function di(e){Ht===null?Ht=[e]:Ht.push(e)}var Gp=wn.ReactCurrentBatchConfig;function Yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var f=l.refs;i===null?delete f[o]:f[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Zl(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lc(e){var t=e._init;return t(e._payload)}function Md(e){function t(w,_){if(e){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function n(w,_){if(!e)return null;for(;_!==null;)t(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function l(w,_){return w=Fn(w,_),w.index=0,w.sibling=null,w}function o(w,_,E){return w.index=E,e?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function f(w,_,E,F){return _===null||_.tag!==6?(_=Vo(E,w.mode,F),_.return=w,_):(_=l(_,E),_.return=w,_)}function p(w,_,E,F){var H=E.type;return H===vr?j(w,_,E.props.children,F,E.key):_!==null&&(_.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===En&&Lc(H)===_.type)?(F=l(_,E.props),F.ref=Yr(w,_,E),F.return=w,F):(F=gs(E.type,E.key,E.props,null,w.mode,F),F.ref=Yr(w,_,E),F.return=w,F)}function v(w,_,E,F){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Ko(E,w.mode,F),_.return=w,_):(_=l(_,E.children||[]),_.return=w,_)}function j(w,_,E,F,H){return _===null||_.tag!==7?(_=rr(E,w.mode,F,H),_.return=w,_):(_=l(_,E),_.return=w,_)}function b(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Vo(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $l:return E=gs(_.type,_.key,_.props,null,w.mode,E),E.ref=Yr(w,null,_),E.return=w,E;case yr:return _=Ko(_,w.mode,E),_.return=w,_;case En:var F=_._init;return b(w,F(_._payload),E)}if(nl(_)||Hr(_))return _=rr(_,w.mode,E,null),_.return=w,_;Zl(w,_)}return null}function y(w,_,E,F){var H=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return H!==null?null:f(w,_,""+E,F);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $l:return E.key===H?p(w,_,E,F):null;case yr:return E.key===H?v(w,_,E,F):null;case En:return H=E._init,y(w,_,H(E._payload),F)}if(nl(E)||Hr(E))return H!==null?null:j(w,_,E,F,null);Zl(w,E)}return null}function M(w,_,E,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return w=w.get(E)||null,f(_,w,""+F,H);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case $l:return w=w.get(F.key===null?E:F.key)||null,p(_,w,F,H);case yr:return w=w.get(F.key===null?E:F.key)||null,v(_,w,F,H);case En:var D=F._init;return M(w,_,E,D(F._payload),H)}if(nl(F)||Hr(F))return w=w.get(E)||null,j(_,w,F,H,null);Zl(_,F)}return null}function $(w,_,E,F){for(var H=null,D=null,Q=_,J=_=0,Ee=null;Q!==null&&J<E.length;J++){Q.index>J?(Ee=Q,Q=null):Ee=Q.sibling;var me=y(w,Q,E[J],F);if(me===null){Q===null&&(Q=Ee);break}e&&Q&&me.alternate===null&&t(w,Q),_=o(me,_,J),D===null?H=me:D.sibling=me,D=me,Q=Ee}if(J===E.length)return n(w,Q),Oe&&Xn(w,J),H;if(Q===null){for(;J<E.length;J++)Q=b(w,E[J],F),Q!==null&&(_=o(Q,_,J),D===null?H=Q:D.sibling=Q,D=Q);return Oe&&Xn(w,J),H}for(Q=r(w,Q);J<E.length;J++)Ee=M(Q,w,J,E[J],F),Ee!==null&&(e&&Ee.alternate!==null&&Q.delete(Ee.key===null?J:Ee.key),_=o(Ee,_,J),D===null?H=Ee:D.sibling=Ee,D=Ee);return e&&Q.forEach(function(qe){return t(w,qe)}),Oe&&Xn(w,J),H}function C(w,_,E,F){var H=Hr(E);if(typeof H!="function")throw Error(V(150));if(E=H.call(E),E==null)throw Error(V(151));for(var D=H=null,Q=_,J=_=0,Ee=null,me=E.next();Q!==null&&!me.done;J++,me=E.next()){Q.index>J?(Ee=Q,Q=null):Ee=Q.sibling;var qe=y(w,Q,me.value,F);if(qe===null){Q===null&&(Q=Ee);break}e&&Q&&qe.alternate===null&&t(w,Q),_=o(qe,_,J),D===null?H=qe:D.sibling=qe,D=qe,Q=Ee}if(me.done)return n(w,Q),Oe&&Xn(w,J),H;if(Q===null){for(;!me.done;J++,me=E.next())me=b(w,me.value,F),me!==null&&(_=o(me,_,J),D===null?H=me:D.sibling=me,D=me);return Oe&&Xn(w,J),H}for(Q=r(w,Q);!me.done;J++,me=E.next())me=M(Q,w,J,me.value,F),me!==null&&(e&&me.alternate!==null&&Q.delete(me.key===null?J:me.key),_=o(me,_,J),D===null?H=me:D.sibling=me,D=me);return e&&Q.forEach(function(ln){return t(w,ln)}),Oe&&Xn(w,J),H}function te(w,_,E,F){if(typeof E=="object"&&E!==null&&E.type===vr&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case $l:e:{for(var H=E.key,D=_;D!==null;){if(D.key===H){if(H=E.type,H===vr){if(D.tag===7){n(w,D.sibling),_=l(D,E.props.children),_.return=w,w=_;break e}}else if(D.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===En&&Lc(H)===D.type){n(w,D.sibling),_=l(D,E.props),_.ref=Yr(w,D,E),_.return=w,w=_;break e}n(w,D);break}else t(w,D);D=D.sibling}E.type===vr?(_=rr(E.props.children,w.mode,F,E.key),_.return=w,w=_):(F=gs(E.type,E.key,E.props,null,w.mode,F),F.ref=Yr(w,_,E),F.return=w,w=F)}return i(w);case yr:e:{for(D=E.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(w,_.sibling),_=l(_,E.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else t(w,_);_=_.sibling}_=Ko(E,w.mode,F),_.return=w,w=_}return i(w);case En:return D=E._init,te(w,_,D(E._payload),F)}if(nl(E))return $(w,_,E,F);if(Hr(E))return C(w,_,E,F);Zl(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(w,_.sibling),_=l(_,E),_.return=w,w=_):(n(w,_),_=Vo(E,w.mode,F),_.return=w,w=_),i(w)):n(w,_)}return te}var Fr=Md(!0),Sd=Md(!1),Ls=Gn(null),Ps=null,Mr=null,fi=null;function pi(){fi=Mr=Ps=null}function mi(e){var t=Ls.current;De(Ls),e._currentValue=t}function Na(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){Ps=e,fi=Mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(fi!==e)if(e={context:e,memoizedValue:t,next:null},Mr===null){if(Ps===null)throw Error(V(308));Mr=e,Ps.dependencies={lanes:0,firstContext:e}}else Mr=Mr.next=e;return t}var er=null;function hi(e){er===null?er=[e]:er.push(e)}function Rd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,hi(t)):(n.next=l.next,l.next=n),t.interleaved=n,vn(e,r)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jn=!1;function gi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ld(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function In(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,vn(e,n)}return l=r.interleaved,l===null?(t.next=t,hi(r)):(t.next=l.next,l.next=t),r.interleaved=t,vn(e,n)}function us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ti(e,n)}}function Pc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cs(e,t,n,r){var l=e.updateQueue;jn=!1;var o=l.firstBaseUpdate,i=l.lastBaseUpdate,f=l.shared.pending;if(f!==null){l.shared.pending=null;var p=f,v=p.next;p.next=null,i===null?o=v:i.next=v,i=p;var j=e.alternate;j!==null&&(j=j.updateQueue,f=j.lastBaseUpdate,f!==i&&(f===null?j.firstBaseUpdate=v:f.next=v,j.lastBaseUpdate=p))}if(o!==null){var b=l.baseState;i=0,j=v=p=null,f=o;do{var y=f.lane,M=f.eventTime;if((r&y)===y){j!==null&&(j=j.next={eventTime:M,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var $=e,C=f;switch(y=t,M=n,C.tag){case 1:if($=C.payload,typeof $=="function"){b=$.call(M,b,y);break e}b=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=C.payload,y=typeof $=="function"?$.call(M,b,y):$,y==null)break e;b=$e({},b,y);break e;case 2:jn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,y=l.effects,y===null?l.effects=[f]:y.push(f))}else M={eventTime:M,lane:y,tag:f.tag,payload:f.payload,callback:f.callback,next:null},j===null?(v=j=M,p=b):j=j.next=M,i|=y;if(f=f.next,f===null){if(f=l.shared.pending,f===null)break;y=f,f=y.next,y.next=null,l.lastBaseUpdate=y,l.shared.pending=null}}while(1);if(j===null&&(p=b),l.baseState=p,l.firstBaseUpdate=v,l.lastBaseUpdate=j,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);ar|=i,e.lanes=i,e.memoizedState=b}}function Cc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(V(191,l));l.call(r)}}}var Il={},rn=Gn(Il),jl=Gn(Il),Ml=Gn(Il);function tr(e){if(e===Il)throw Error(V(174));return e}function _i(e,t){switch(Ae(Ml,t),Ae(jl,e),Ae(rn,Il),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:la(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=la(t,e)}De(rn),Ae(rn,t)}function Ur(){De(rn),De(jl),De(Ml)}function Pd(e){tr(Ml.current);var t=tr(rn.current),n=la(t,e.type);t!==n&&(Ae(jl,e),Ae(rn,n))}function yi(e){jl.current===e&&(De(rn),De(jl))}var Fe=Gn(0);function Ts(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oo=[];function vi(){for(var e=0;e<Oo.length;e++)Oo[e]._workInProgressVersionPrimary=null;Oo.length=0}var ds=wn.ReactCurrentDispatcher,Fo=wn.ReactCurrentBatchConfig,or=0,Ue=null,Qe=null,Je=null,As=!1,ul=!1,Sl=0,Vp=0;function ot(){throw Error(V(321))}function xi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function wi(e,t,n,r,l,o){if(or=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=e===null||e.memoizedState===null?qp:Qp,e=n(r,l),ul){o=0;do{if(ul=!1,Sl=0,25<=o)throw Error(V(301));o+=1,Je=Qe=null,t.updateQueue=null,ds.current=Xp,e=n(r,l)}while(ul)}if(ds.current=zs,t=Qe!==null&&Qe.next!==null,or=0,Je=Qe=Ue=null,As=!1,t)throw Error(V(300));return e}function bi(){var e=Sl!==0;return Sl=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ue.memoizedState=Je=e:Je=Je.next=e,Je}function $t(){if(Qe===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Je===null?Ue.memoizedState:Je.next;if(t!==null)Je=t,Qe=e;else{if(e===null)throw Error(V(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Je===null?Ue.memoizedState=Je=e:Je=Je.next=e}return Je}function Rl(e,t){return typeof t=="function"?t(e):t}function Uo(e){var t=$t(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Qe,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var i=l.next;l.next=o.next,o.next=i}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var f=i=null,p=null,v=o;do{var j=v.lane;if((or&j)===j)p!==null&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var b={lane:j,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};p===null?(f=p=b,i=r):p=p.next=b,Ue.lanes|=j,ar|=j}v=v.next}while(v!==null&&v!==o);p===null?i=r:p.next=f,Qt(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Ue.lanes|=o,ar|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $o(e){var t=$t(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do o=e(o,i.action),i=i.next;while(i!==l);Qt(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Cd(){}function Td(e,t){var n=Ue,r=$t(),l=t(),o=!Qt(r.memoizedState,l);if(o&&(r.memoizedState=l,xt=!0),r=r.queue,ki(Id.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Ll(9,zd.bind(null,n,r,l,t),void 0,null),et===null)throw Error(V(349));or&30||Ad(n,t,l)}return l}function Ad(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zd(e,t,n,r){t.value=n,t.getSnapshot=r,Dd(t)&&Od(e)}function Id(e,t,n){return n(function(){Dd(t)&&Od(e)})}function Dd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function Od(e){var t=vn(e,1);t!==null&&qt(t,e,1,-1)}function Tc(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:e},t.queue=e,e=e.dispatch=Wp.bind(null,Ue,e),[t.memoizedState,e]}function Ll(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fd(){return $t().memoizedState}function fs(e,t,n,r){var l=en();Ue.flags|=e,l.memoizedState=Ll(1|t,n,void 0,r===void 0?null:r)}function Qs(e,t,n,r){var l=$t();r=r===void 0?null:r;var o=void 0;if(Qe!==null){var i=Qe.memoizedState;if(o=i.destroy,r!==null&&xi(r,i.deps)){l.memoizedState=Ll(t,n,o,r);return}}Ue.flags|=e,l.memoizedState=Ll(1|t,n,o,r)}function Ac(e,t){return fs(8390656,8,e,t)}function ki(e,t){return Qs(2048,8,e,t)}function Ud(e,t){return Qs(4,2,e,t)}function $d(e,t){return Qs(4,4,e,t)}function Bd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gd(e,t,n){return n=n!=null?n.concat([e]):null,Qs(4,4,Bd.bind(null,t,e),n)}function Ni(){}function Vd(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Kd(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hd(e,t,n){return or&21?(Qt(n,t)||(n=Yu(),Ue.lanes|=n,ar|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function Kp(e,t){var n=Re;Re=n!==0&&4>n?n:4,e(!0);var r=Fo.transition;Fo.transition={};try{e(!1),t()}finally{Re=n,Fo.transition=r}}function Wd(){return $t().memoizedState}function Hp(e,t,n){var r=On(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qd(e))Qd(t,n);else if(n=Rd(e,t,n,r),n!==null){var l=mt();qt(n,e,r,l),Xd(n,t,r)}}function Wp(e,t,n){var r=On(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qd(e))Qd(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,f=o(i,n);if(l.hasEagerState=!0,l.eagerState=f,Qt(f,i)){var p=t.interleaved;p===null?(l.next=l,hi(t)):(l.next=p.next,p.next=l),t.interleaved=l;return}}catch{}finally{}n=Rd(e,t,l,r),n!==null&&(l=mt(),qt(n,e,r,l),Xd(n,t,r))}}function qd(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Qd(e,t){ul=As=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ti(e,n)}}var zs={readContext:Ut,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},qp={readContext:Ut,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:Ac,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fs(4194308,4,Bd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return fs(4,2,e,t)},useMemo:function(e,t){var n=en();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=en();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hp.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:Tc,useDebugValue:Ni,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=Tc(!1),t=e[0];return e=Kp.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,l=en();if(Oe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),et===null)throw Error(V(349));or&30||Ad(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Ac(Id.bind(null,r,o,e),[e]),r.flags|=2048,Ll(9,zd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=en(),t=et.identifierPrefix;if(Oe){var n=pn,r=fn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qp={readContext:Ut,useCallback:Vd,useContext:Ut,useEffect:ki,useImperativeHandle:Gd,useInsertionEffect:Ud,useLayoutEffect:$d,useMemo:Kd,useReducer:Uo,useRef:Fd,useState:function(){return Uo(Rl)},useDebugValue:Ni,useDeferredValue:function(e){var t=$t();return Hd(t,Qe.memoizedState,e)},useTransition:function(){var e=Uo(Rl)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Cd,useSyncExternalStore:Td,useId:Wd,unstable_isNewReconciler:!1},Xp={readContext:Ut,useCallback:Vd,useContext:Ut,useEffect:ki,useImperativeHandle:Gd,useInsertionEffect:Ud,useLayoutEffect:$d,useMemo:Kd,useReducer:$o,useRef:Fd,useState:function(){return $o(Rl)},useDebugValue:Ni,useDeferredValue:function(e){var t=$t();return Qe===null?t.memoizedState=e:Hd(t,Qe.memoizedState,e)},useTransition:function(){var e=$o(Rl)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Cd,useSyncExternalStore:Td,useId:Wd,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ea(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xs={isMounted:function(e){return(e=e._reactInternals)?ur(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),l=On(e),o=gn(r,l);o.payload=t,n!=null&&(o.callback=n),t=In(e,o,l),t!==null&&(qt(t,e,l,r),us(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),l=On(e),o=gn(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=In(e,o,l),t!==null&&(qt(t,e,l,r),us(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=On(e),l=gn(n,r);l.tag=2,t!=null&&(l.callback=t),t=In(e,l,r),t!==null&&(qt(t,e,r,n),us(t,e,r))}};function zc(e,t,n,r,l,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!bl(n,r)||!bl(l,o):!0}function Yd(e,t,n){var r=!1,l=$n,o=t.contextType;return typeof o=="object"&&o!==null?o=Ut(o):(l=bt(t)?lr:ct.current,r=t.contextTypes,o=(r=r!=null)?Dr(e,l):$n),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ic(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xs.enqueueReplaceState(t,t.state,null)}function ja(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},gi(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=Ut(o):(o=bt(t)?lr:ct.current,l.context=Dr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ea(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Xs.enqueueReplaceState(l,l.state,null),Cs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function $r(e,t){try{var n="",r=t;do n+=N0(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Bo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ma(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yp=typeof WeakMap=="function"?WeakMap:Map;function Zd(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ds||(Ds=!0,Da=r),Ma(e,t)},n}function Jd(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ma(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ma(e,t),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Dc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yp;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=dm.bind(null,e,t,n),t.then(e,e))}function Oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,In(n,t,1))),n.lanes|=1),e)}var Zp=wn.ReactCurrentOwner,xt=!1;function pt(e,t,n,r){t.child=e===null?Sd(t,null,n,r):Fr(t,e.child,n,r)}function Uc(e,t,n,r,l){n=n.render;var o=t.ref;return Ar(t,l),r=wi(e,t,n,r,o,l),n=bi(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,xn(e,t,l)):(Oe&&n&&ci(t),t.flags|=1,pt(e,t,r,l),t.child)}function $c(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Ci(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ef(e,t,o,r,l)):(e=gs(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(i,r)&&e.ref===t.ref)return xn(e,t,l)}return t.flags|=1,e=Fn(o,r),e.ref=t.ref,e.return=t,t.child=e}function ef(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(bl(o,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,xn(e,t,l)}return Sa(e,t,n,r,l)}function tf(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Rr,Rt),Rt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Rr,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ae(Rr,Rt),Rt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ae(Rr,Rt),Rt|=r;return pt(e,t,l,n),t.child}function nf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,r,l){var o=bt(n)?lr:ct.current;return o=Dr(t,o),Ar(t,l),n=wi(e,t,n,r,o,l),r=bi(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,xn(e,t,l)):(Oe&&r&&ci(t),t.flags|=1,pt(e,t,n,l),t.child)}function Bc(e,t,n,r,l){if(bt(n)){var o=!0;Ms(t)}else o=!1;if(Ar(t,l),t.stateNode===null)ps(e,t),Yd(t,n,r),ja(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,f=t.memoizedProps;i.props=f;var p=i.context,v=n.contextType;typeof v=="object"&&v!==null?v=Ut(v):(v=bt(n)?lr:ct.current,v=Dr(t,v));var j=n.getDerivedStateFromProps,b=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function";b||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f!==r||p!==v)&&Ic(t,i,r,v),jn=!1;var y=t.memoizedState;i.state=y,Cs(t,r,i,l),p=t.memoizedState,f!==r||y!==p||wt.current||jn?(typeof j=="function"&&(Ea(t,n,j,r),p=t.memoizedState),(f=jn||zc(t,n,f,r,y,p,v))?(b||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=v,r=f):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ld(e,t),f=t.memoizedProps,v=t.type===t.elementType?f:Vt(t.type,f),i.props=v,b=t.pendingProps,y=i.context,p=n.contextType,typeof p=="object"&&p!==null?p=Ut(p):(p=bt(n)?lr:ct.current,p=Dr(t,p));var M=n.getDerivedStateFromProps;(j=typeof M=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f!==b||y!==p)&&Ic(t,i,r,p),jn=!1,y=t.memoizedState,i.state=y,Cs(t,r,i,l);var $=t.memoizedState;f!==b||y!==$||wt.current||jn?(typeof M=="function"&&(Ea(t,n,M,r),$=t.memoizedState),(v=jn||zc(t,n,v,r,y,$,p)||!1)?(j||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,$,p),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,$,p)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||f===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=$),i.props=r,i.state=$,i.context=p,r=v):(typeof i.componentDidUpdate!="function"||f===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,o,l)}function Ra(e,t,n,r,l,o){nf(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Mc(t,n,!1),xn(e,t,o);r=t.stateNode,Zp.current=t;var f=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Fr(t,e.child,null,o),t.child=Fr(t,null,f,o)):pt(e,t,f,o),t.memoizedState=r.state,l&&Mc(t,n,!0),t.child}function rf(e){var t=e.stateNode;t.pendingContext?jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jc(e,t.context,!1),_i(e,t.containerInfo)}function Gc(e,t,n,r,l){return Or(),di(l),t.flags|=256,pt(e,t,n,r),t.child}var La={dehydrated:null,treeContext:null,retryLane:0};function Pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function lf(e,t,n){var r=t.pendingProps,l=Fe.current,o=!1,i=(t.flags&128)!==0,f;if((f=i)||(f=e!==null&&e.memoizedState===null?!1:(l&2)!==0),f?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ae(Fe,l&1),e===null)return ka(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Js(i,r,0,null),e=rr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Pa(n),t.memoizedState=La,e):Ei(t,i));if(l=e.memoizedState,l!==null&&(f=l.dehydrated,f!==null))return Jp(e,t,i,r,f,l,n);if(o){o=r.fallback,i=t.mode,l=e.child,f=l.sibling;var p={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Fn(l,p),r.subtreeFlags=l.subtreeFlags&14680064),f!==null?o=Fn(f,o):(o=rr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Pa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=La,r}return o=e.child,e=o.sibling,r=Fn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ei(e,t){return t=Js({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jl(e,t,n,r){return r!==null&&di(r),Fr(t,e.child,null,n),e=Ei(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jp(e,t,n,r,l,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Bo(Error(V(422))),Jl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Js({mode:"visible",children:r.children},l,0,null),o=rr(o,l,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Fr(t,e.child,null,i),t.child.memoizedState=Pa(i),t.memoizedState=La,o);if(!(t.mode&1))return Jl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var f=r.dgst;return r=f,o=Error(V(419)),r=Bo(o,r,void 0),Jl(e,t,i,r)}if(f=(i&e.childLanes)!==0,xt||f){if(r=et,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,vn(e,l),qt(r,e,l,-1))}return Pi(),r=Bo(Error(V(421))),Jl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=fm.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Lt=zn(l.nextSibling),Pt=t,Oe=!0,Ht=null,e!==null&&(It[Dt++]=fn,It[Dt++]=pn,It[Dt++]=sr,fn=e.id,pn=e.overflow,sr=t),t=Ei(t,r.children),t.flags|=4096,t)}function Vc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Na(e.return,t,n)}function Go(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function sf(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(pt(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vc(e,n,t);else if(e.tag===19)Vc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ae(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ts(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Go(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ts(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Go(t,!0,n,null,o);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ps(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ar|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function em(e,t,n){switch(t.tag){case 3:rf(t),Or();break;case 5:Pd(t);break;case 1:bt(t.type)&&Ms(t);break;case 4:_i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Ae(Ls,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?lf(e,t,n):(Ae(Fe,Fe.current&1),e=xn(e,t,n),e!==null?e.sibling:null);Ae(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ae(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,tf(e,t,n)}return xn(e,t,n)}var of,Ca,af,cf;of=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ca=function(){};af=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,tr(rn.current);var o=null;switch(n){case"input":l=ea(e,l),r=ea(e,r),o=[];break;case"select":l=$e({},l,{value:void 0}),r=$e({},r,{value:void 0}),o=[];break;case"textarea":l=ra(e,l),r=ra(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Es)}sa(n,r);var i;n=null;for(v in l)if(!r.hasOwnProperty(v)&&l.hasOwnProperty(v)&&l[v]!=null)if(v==="style"){var f=l[v];for(i in f)f.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(hl.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in r){var p=r[v];if(f=l!=null?l[v]:void 0,r.hasOwnProperty(v)&&p!==f&&(p!=null||f!=null))if(v==="style")if(f){for(i in f)!f.hasOwnProperty(i)||p&&p.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in p)p.hasOwnProperty(i)&&f[i]!==p[i]&&(n||(n={}),n[i]=p[i])}else n||(o||(o=[]),o.push(v,n)),n=p;else v==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(o=o||[]).push(v,p)):v==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(v,""+p):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(hl.hasOwnProperty(v)?(p!=null&&v==="onScroll"&&Ie("scroll",e),o||f===p||(o=[])):(o=o||[]).push(v,p))}n&&(o=o||[]).push("style",n);var v=o;(t.updateQueue=v)&&(t.flags|=4)}};cf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zr(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tm(e,t,n){var r=t.pendingProps;switch(ui(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return bt(t.type)&&js(),at(t),null;case 3:return r=t.stateNode,Ur(),De(wt),De(ct),vi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(Ua(Ht),Ht=null))),Ca(e,t),at(t),null;case 5:yi(t);var l=tr(Ml.current);if(n=t.type,e!==null&&t.stateNode!=null)af(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return at(t),null}if(e=tr(rn.current),Yl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[tn]=t,r[El]=o,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(l=0;l<ll.length;l++)Ie(ll[l],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ji(r,o),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",r);break;case"textarea":tc(r,o),Ie("invalid",r)}sa(n,o),l=null;for(var i in o)if(o.hasOwnProperty(i)){var f=o[i];i==="children"?typeof f=="string"?r.textContent!==f&&(o.suppressHydrationWarning!==!0&&Xl(r.textContent,f,e),l=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(o.suppressHydrationWarning!==!0&&Xl(r.textContent,f,e),l=["children",""+f]):hl.hasOwnProperty(i)&&f!=null&&i==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Bl(r),ec(r,o,!0);break;case"textarea":Bl(r),nc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Es)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Iu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[tn]=t,e[El]=r,of(e,t,!1,!1),t.stateNode=e;e:{switch(i=oa(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),l=r;break;case"iframe":case"object":case"embed":Ie("load",e),l=r;break;case"video":case"audio":for(l=0;l<ll.length;l++)Ie(ll[l],e);l=r;break;case"source":Ie("error",e),l=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),l=r;break;case"details":Ie("toggle",e),l=r;break;case"input":Ji(e,r),l=ea(e,r),Ie("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=$e({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":tc(e,r),l=ra(e,r),Ie("invalid",e);break;default:l=r}sa(n,l),f=l;for(o in f)if(f.hasOwnProperty(o)){var p=f[o];o==="style"?Fu(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Du(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&gl(e,p):typeof p=="number"&&gl(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hl.hasOwnProperty(o)?p!=null&&o==="onScroll"&&Ie("scroll",e):p!=null&&Qa(e,o,p,i))}switch(n){case"input":Bl(e),ec(e,r,!1);break;case"textarea":Bl(e),nc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Un(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Lr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Es)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)cf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=tr(Ml.current),tr(rn.current),Yl(t)){if(r=t.stateNode,n=t.memoizedProps,r[tn]=t,(o=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:Xl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=t,t.stateNode=r}return at(t),null;case 13:if(De(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Lt!==null&&t.mode&1&&!(t.flags&128))jd(),Or(),t.flags|=98560,o=!1;else if(o=Yl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[tn]=t}else Or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),o=!1}else Ht!==null&&(Ua(Ht),Ht=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?Xe===0&&(Xe=3):Pi())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return Ur(),Ca(e,t),e===null&&kl(t.stateNode.containerInfo),at(t),null;case 10:return mi(t.type._context),at(t),null;case 17:return bt(t.type)&&js(),at(t),null;case 19:if(De(Fe),o=t.memoizedState,o===null)return at(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Zr(o,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ts(e),i!==null){for(t.flags|=128,Zr(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ae(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ke()>Br&&(t.flags|=128,r=!0,Zr(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ts(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Oe)return at(t),null}else 2*Ke()-o.renderingStartTime>Br&&n!==1073741824&&(t.flags|=128,r=!0,Zr(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,n=Fe.current,Ae(Fe,r?n&1|2:n&1),t):(at(t),null);case 22:case 23:return Li(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rt&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function nm(e,t){switch(ui(t),t.tag){case 1:return bt(t.type)&&js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),De(wt),De(ct),vi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yi(t),null;case 13:if(De(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Fe),null;case 4:return Ur(),null;case 10:return mi(t.type._context),null;case 22:case 23:return Li(),null;case 24:return null;default:return null}}var es=!1,it=!1,rm=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function Ta(e,t,n){try{n()}catch(r){Be(e,t,r)}}var Kc=!1;function lm(e,t){if(ga=bs,e=pd(),ii(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,f=-1,p=-1,v=0,j=0,b=e,y=null;t:for(;;){for(var M;b!==n||l!==0&&b.nodeType!==3||(f=i+l),b!==o||r!==0&&b.nodeType!==3||(p=i+r),b.nodeType===3&&(i+=b.nodeValue.length),(M=b.firstChild)!==null;)y=b,b=M;for(;;){if(b===e)break t;if(y===n&&++v===l&&(f=i),y===o&&++j===r&&(p=i),(M=b.nextSibling)!==null)break;b=y,y=b.parentNode}b=M}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(_a={focusedElem:e,selectionRange:n},bs=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var $=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if($!==null){var C=$.memoizedProps,te=$.memoizedState,w=t.stateNode,_=w.getSnapshotBeforeUpdate(t.elementType===t.type?C:Vt(t.type,C),te);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(F){Be(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return $=Kc,Kc=!1,$}function dl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Ta(t,n,o)}l=l.next}while(l!==r)}}function Ys(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Aa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[El],delete t[xa],delete t[Up],delete t[$p])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function df(e){return e.tag===5||e.tag===3||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function za(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Es));else if(r!==4&&(e=e.child,e!==null))for(za(e,t,n),e=e.sibling;e!==null;)za(e,t,n),e=e.sibling}function Ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ia(e,t,n),e=e.sibling;e!==null;)Ia(e,t,n),e=e.sibling}var nt=null,Kt=!1;function kn(e,t,n){for(n=n.child;n!==null;)ff(e,t,n),n=n.sibling}function ff(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Gs,n)}catch{}switch(n.tag){case 5:it||Sr(n,t);case 6:var r=nt,l=Kt;nt=null,kn(e,t,n),nt=r,Kt=l,nt!==null&&(Kt?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(Kt?(e=nt,n=n.stateNode,e.nodeType===8?Io(e.parentNode,n):e.nodeType===1&&Io(e,n),xl(e)):Io(nt,n.stateNode));break;case 4:r=nt,l=Kt,nt=n.stateNode.containerInfo,Kt=!0,kn(e,t,n),nt=r,Kt=l;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Ta(n,t,i),l=l.next}while(l!==r)}kn(e,t,n);break;case 1:if(!it&&(Sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){Be(n,t,f)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,kn(e,t,n),it=r):kn(e,t,n);break;default:kn(e,t,n)}}function Wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rm),t.forEach(function(r){var l=pm.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,i=t,f=i;e:for(;f!==null;){switch(f.tag){case 5:nt=f.stateNode,Kt=!1;break e;case 3:nt=f.stateNode.containerInfo,Kt=!0;break e;case 4:nt=f.stateNode.containerInfo,Kt=!0;break e}f=f.return}if(nt===null)throw Error(V(160));ff(o,i,l),nt=null,Kt=!1;var p=l.alternate;p!==null&&(p.return=null),l.return=null}catch(v){Be(l,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pf(t,e),t=t.sibling}function pf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),Jt(e),r&4){try{dl(3,e,e.return),Ys(3,e)}catch(C){Be(e,e.return,C)}try{dl(5,e,e.return)}catch(C){Be(e,e.return,C)}}break;case 1:Gt(t,e),Jt(e),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(Gt(t,e),Jt(e),r&512&&n!==null&&Sr(n,n.return),e.flags&32){var l=e.stateNode;try{gl(l,"")}catch(C){Be(e,e.return,C)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&o.type==="radio"&&o.name!=null&&Au(l,o),oa(f,i);var v=oa(f,o);for(i=0;i<p.length;i+=2){var j=p[i],b=p[i+1];j==="style"?Fu(l,b):j==="dangerouslySetInnerHTML"?Du(l,b):j==="children"?gl(l,b):Qa(l,j,b,v)}switch(f){case"input":ta(l,o);break;case"textarea":zu(l,o);break;case"select":var y=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var M=o.value;M!=null?Lr(l,!!o.multiple,M,!1):y!==!!o.multiple&&(o.defaultValue!=null?Lr(l,!!o.multiple,o.defaultValue,!0):Lr(l,!!o.multiple,o.multiple?[]:"",!1))}l[El]=o}catch(C){Be(e,e.return,C)}}break;case 6:if(Gt(t,e),Jt(e),r&4){if(e.stateNode===null)throw Error(V(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(C){Be(e,e.return,C)}}break;case 3:if(Gt(t,e),Jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xl(t.containerInfo)}catch(C){Be(e,e.return,C)}break;case 4:Gt(t,e),Jt(e);break;case 13:Gt(t,e),Jt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Si=Ke())),r&4&&Wc(e);break;case 22:if(j=n!==null&&n.memoizedState!==null,e.mode&1?(it=(v=it)||j,Gt(t,e),it=v):Gt(t,e),Jt(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!j&&e.mode&1)for(ne=e,j=e.child;j!==null;){for(b=ne=j;ne!==null;){switch(y=ne,M=y.child,y.tag){case 0:case 11:case 14:case 15:dl(4,y,y.return);break;case 1:Sr(y,y.return);var $=y.stateNode;if(typeof $.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,$.props=t.memoizedProps,$.state=t.memoizedState,$.componentWillUnmount()}catch(C){Be(r,n,C)}}break;case 5:Sr(y,y.return);break;case 22:if(y.memoizedState!==null){Qc(b);continue}}M!==null?(M.return=y,ne=M):Qc(b)}j=j.sibling}e:for(j=null,b=e;;){if(b.tag===5){if(j===null){j=b;try{l=b.stateNode,v?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(f=b.stateNode,p=b.memoizedProps.style,i=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=Ou("display",i))}catch(C){Be(e,e.return,C)}}}else if(b.tag===6){if(j===null)try{b.stateNode.nodeValue=v?"":b.memoizedProps}catch(C){Be(e,e.return,C)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;j===b&&(j=null),b=b.return}j===b&&(j=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:Gt(t,e),Jt(e),r&4&&Wc(e);break;case 21:break;default:Gt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(df(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(gl(l,""),r.flags&=-33);var o=Hc(e);Ia(e,o,l);break;case 3:case 4:var i=r.stateNode.containerInfo,f=Hc(e);za(e,f,i);break;default:throw Error(V(161))}}catch(p){Be(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sm(e,t,n){ne=e,mf(e)}function mf(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var l=ne,o=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||es;if(!i){var f=l.alternate,p=f!==null&&f.memoizedState!==null||it;f=es;var v=it;if(es=i,(it=p)&&!v)for(ne=l;ne!==null;)i=ne,p=i.child,i.tag===22&&i.memoizedState!==null?Xc(l):p!==null?(p.return=i,ne=p):Xc(l);for(;o!==null;)ne=o,mf(o),o=o.sibling;ne=l,es=f,it=v}qc(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,ne=o):qc(e)}}function qc(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Ys(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Vt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Cc(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cc(t,i,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var j=v.memoizedState;if(j!==null){var b=j.dehydrated;b!==null&&xl(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}it||t.flags&512&&Aa(t)}catch(y){Be(t,t.return,y)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Qc(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Xc(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ys(4,t)}catch(p){Be(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(p){Be(t,l,p)}}var o=t.return;try{Aa(t)}catch(p){Be(t,o,p)}break;case 5:var i=t.return;try{Aa(t)}catch(p){Be(t,i,p)}}}catch(p){Be(t,t.return,p)}if(t===e){ne=null;break}var f=t.sibling;if(f!==null){f.return=t.return,ne=f;break}ne=t.return}}var om=Math.ceil,Is=wn.ReactCurrentDispatcher,ji=wn.ReactCurrentOwner,Ft=wn.ReactCurrentBatchConfig,je=0,et=null,We=null,rt=0,Rt=0,Rr=Gn(0),Xe=0,Pl=null,ar=0,Zs=0,Mi=0,fl=null,vt=null,Si=0,Br=1/0,un=null,Ds=!1,Da=null,Dn=null,ts=!1,Ln=null,Os=0,pl=0,Oa=null,ms=-1,hs=0;function mt(){return je&6?Ke():ms!==-1?ms:ms=Ke()}function On(e){return e.mode&1?je&2&&rt!==0?rt&-rt:Gp.transition!==null?(hs===0&&(hs=Yu()),hs):(e=Re,e!==0||(e=window.event,e=e===void 0?16:ld(e.type)),e):1}function qt(e,t,n,r){if(50<pl)throw pl=0,Oa=null,Error(V(185));Tl(e,n,r),(!(je&2)||e!==et)&&(e===et&&(!(je&2)&&(Zs|=n),Xe===4&&Sn(e,rt)),kt(e,r),n===1&&je===0&&!(t.mode&1)&&(Br=Ke()+500,qs&&Vn()))}function kt(e,t){var n=e.callbackNode;G0(e,t);var r=ws(e,e===et?rt:0);if(r===0)n!==null&&sc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sc(n),t===1)e.tag===0?Bp(Yc.bind(null,e)):kd(Yc.bind(null,e)),Op(function(){!(je&6)&&Vn()}),n=null;else{switch(Zu(r)){case 1:n=ei;break;case 4:n=Qu;break;case 16:n=xs;break;case 536870912:n=Xu;break;default:n=xs}n=bf(n,hf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hf(e,t){if(ms=-1,hs=0,je&6)throw Error(V(327));var n=e.callbackNode;if(zr()&&e.callbackNode!==n)return null;var r=ws(e,e===et?rt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fs(e,r);else{t=r;var l=je;je|=2;var o=_f();(et!==e||rt!==t)&&(un=null,Br=Ke()+500,nr(e,t));do try{cm();break}catch(f){gf(e,f)}while(1);pi(),Is.current=o,je=l,We!==null?t=0:(et=null,rt=0,t=Xe)}if(t!==0){if(t===2&&(l=da(e),l!==0&&(r=l,t=Fa(e,l))),t===1)throw n=Pl,nr(e,0),Sn(e,r),kt(e,Ke()),n;if(t===6)Sn(e,r);else{if(l=e.current.alternate,!(r&30)&&!am(l)&&(t=Fs(e,r),t===2&&(o=da(e),o!==0&&(r=o,t=Fa(e,o))),t===1))throw n=Pl,nr(e,0),Sn(e,r),kt(e,Ke()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Yn(e,vt,un);break;case 3:if(Sn(e,r),(r&130023424)===r&&(t=Si+500-Ke(),10<t)){if(ws(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=va(Yn.bind(null,e,vt,un),t);break}Yn(e,vt,un);break;case 4:if(Sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Wt(r);o=1<<i,i=t[i],i>l&&(l=i),r&=~o}if(r=l,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*om(r/1960))-r,10<r){e.timeoutHandle=va(Yn.bind(null,e,vt,un),r);break}Yn(e,vt,un);break;case 5:Yn(e,vt,un);break;default:throw Error(V(329))}}}return kt(e,Ke()),e.callbackNode===n?hf.bind(null,e):null}function Fa(e,t){var n=fl;return e.current.memoizedState.isDehydrated&&(nr(e,t).flags|=256),e=Fs(e,t),e!==2&&(t=vt,vt=n,t!==null&&Ua(t)),e}function Ua(e){vt===null?vt=e:vt.push.apply(vt,e)}function am(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Qt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t){for(t&=~Mi,t&=~Zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function Yc(e){if(je&6)throw Error(V(327));zr();var t=ws(e,0);if(!(t&1))return kt(e,Ke()),null;var n=Fs(e,t);if(e.tag!==0&&n===2){var r=da(e);r!==0&&(t=r,n=Fa(e,r))}if(n===1)throw n=Pl,nr(e,0),Sn(e,t),kt(e,Ke()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,vt,un),kt(e,Ke()),null}function Ri(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Br=Ke()+500,qs&&Vn())}}function ir(e){Ln!==null&&Ln.tag===0&&!(je&6)&&zr();var t=je;je|=1;var n=Ft.transition,r=Re;try{if(Ft.transition=null,Re=1,e)return e()}finally{Re=r,Ft.transition=n,je=t,!(je&6)&&Vn()}}function Li(){Rt=Rr.current,De(Rr)}function nr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dp(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(ui(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&js();break;case 3:Ur(),De(wt),De(ct),vi();break;case 5:yi(r);break;case 4:Ur();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:mi(r.type._context);break;case 22:case 23:Li()}n=n.return}if(et=e,We=e=Fn(e.current,null),rt=Rt=t,Xe=0,Pl=null,Mi=Zs=ar=0,vt=fl=null,er!==null){for(t=0;t<er.length;t++)if(n=er[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=l,r.next=i}n.pending=r}er=null}return e}function gf(e,t){do{var n=We;try{if(pi(),ds.current=zs,As){for(var r=Ue.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}As=!1}if(or=0,Je=Qe=Ue=null,ul=!1,Sl=0,ji.current=null,n===null||n.return===null){Xe=1,Pl=t,We=null;break}e:{var o=e,i=n.return,f=n,p=t;if(t=rt,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var v=p,j=f,b=j.tag;if(!(j.mode&1)&&(b===0||b===11||b===15)){var y=j.alternate;y?(j.updateQueue=y.updateQueue,j.memoizedState=y.memoizedState,j.lanes=y.lanes):(j.updateQueue=null,j.memoizedState=null)}var M=Oc(i);if(M!==null){M.flags&=-257,Fc(M,i,f,o,t),M.mode&1&&Dc(o,v,t),t=M,p=v;var $=t.updateQueue;if($===null){var C=new Set;C.add(p),t.updateQueue=C}else $.add(p);break e}else{if(!(t&1)){Dc(o,v,t),Pi();break e}p=Error(V(426))}}else if(Oe&&f.mode&1){var te=Oc(i);if(te!==null){!(te.flags&65536)&&(te.flags|=256),Fc(te,i,f,o,t),di($r(p,f));break e}}o=p=$r(p,f),Xe!==4&&(Xe=2),fl===null?fl=[o]:fl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Zd(o,p,t);Pc(o,w);break e;case 1:f=p;var _=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Dn===null||!Dn.has(E)))){o.flags|=65536,t&=-t,o.lanes|=t;var F=Jd(o,f,t);Pc(o,F);break e}}o=o.return}while(o!==null)}vf(n)}catch(H){t=H,We===n&&n!==null&&(We=n=n.return);continue}break}while(1)}function _f(){var e=Is.current;return Is.current=zs,e===null?zs:e}function Pi(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),et===null||!(ar&268435455)&&!(Zs&268435455)||Sn(et,rt)}function Fs(e,t){var n=je;je|=2;var r=_f();(et!==e||rt!==t)&&(un=null,nr(e,t));do try{im();break}catch(l){gf(e,l)}while(1);if(pi(),je=n,Is.current=r,We!==null)throw Error(V(261));return et=null,rt=0,Xe}function im(){for(;We!==null;)yf(We)}function cm(){for(;We!==null&&!A0();)yf(We)}function yf(e){var t=wf(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?vf(e):We=t,ji.current=null}function vf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nm(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,We=null;return}}else if(n=tm(n,t,Rt),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Xe===0&&(Xe=5)}function Yn(e,t,n){var r=Re,l=Ft.transition;try{Ft.transition=null,Re=1,um(e,t,n,r)}finally{Ft.transition=l,Re=r}return null}function um(e,t,n,r){do zr();while(Ln!==null);if(je&6)throw Error(V(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(V0(e,o),e===et&&(We=et=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ts||(ts=!0,bf(xs,function(){return zr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ft.transition,Ft.transition=null;var i=Re;Re=1;var f=je;je|=4,ji.current=null,lm(e,n),pf(n,e),Lp(_a),bs=!!ga,_a=ga=null,e.current=n,sm(n),z0(),je=f,Re=i,Ft.transition=o}else e.current=n;if(ts&&(ts=!1,Ln=e,Os=l),o=e.pendingLanes,o===0&&(Dn=null),O0(n.stateNode),kt(e,Ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ds)throw Ds=!1,e=Da,Da=null,e;return Os&1&&e.tag!==0&&zr(),o=e.pendingLanes,o&1?e===Oa?pl++:(pl=0,Oa=e):pl=0,Vn(),null}function zr(){if(Ln!==null){var e=Zu(Os),t=Ft.transition,n=Re;try{if(Ft.transition=null,Re=16>e?16:e,Ln===null)var r=!1;else{if(e=Ln,Ln=null,Os=0,je&6)throw Error(V(331));var l=je;for(je|=4,ne=e.current;ne!==null;){var o=ne,i=o.child;if(ne.flags&16){var f=o.deletions;if(f!==null){for(var p=0;p<f.length;p++){var v=f[p];for(ne=v;ne!==null;){var j=ne;switch(j.tag){case 0:case 11:case 15:dl(8,j,o)}var b=j.child;if(b!==null)b.return=j,ne=b;else for(;ne!==null;){j=ne;var y=j.sibling,M=j.return;if(uf(j),j===v){ne=null;break}if(y!==null){y.return=M,ne=y;break}ne=M}}}var $=o.alternate;if($!==null){var C=$.child;if(C!==null){$.child=null;do{var te=C.sibling;C.sibling=null,C=te}while(C!==null)}}ne=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ne=i;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:dl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ne=w;break e}ne=o.return}}var _=e.current;for(ne=_;ne!==null;){i=ne;var E=i.child;if(i.subtreeFlags&2064&&E!==null)E.return=i,ne=E;else e:for(i=_;ne!==null;){if(f=ne,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Ys(9,f)}}catch(H){Be(f,f.return,H)}if(f===i){ne=null;break e}var F=f.sibling;if(F!==null){F.return=f.return,ne=F;break e}ne=f.return}}if(je=l,Vn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Gs,e)}catch{}r=!0}return r}finally{Re=n,Ft.transition=t}}return!1}function Zc(e,t,n){t=$r(n,t),t=Zd(e,t,1),e=In(e,t,1),t=mt(),e!==null&&(Tl(e,1,t),kt(e,t))}function Be(e,t,n){if(e.tag===3)Zc(e,e,n);else for(;t!==null;){if(t.tag===3){Zc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){e=$r(n,e),e=Jd(t,e,1),t=In(t,e,1),e=mt(),t!==null&&(Tl(t,1,e),kt(t,e));break}}t=t.return}}function dm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(rt&n)===n&&(Xe===4||Xe===3&&(rt&130023424)===rt&&500>Ke()-Si?nr(e,0):Mi|=n),kt(e,t)}function xf(e,t){t===0&&(e.mode&1?(t=Kl,Kl<<=1,!(Kl&130023424)&&(Kl=4194304)):t=1);var n=mt();e=vn(e,t),e!==null&&(Tl(e,t,n),kt(e,n))}function fm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xf(e,n)}function pm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),xf(e,n)}var wf;wf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,em(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Oe&&t.flags&1048576&&Nd(t,Rs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ps(e,t),e=t.pendingProps;var l=Dr(t,ct.current);Ar(t,n),l=wi(null,t,r,e,l,n);var o=bi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(r)?(o=!0,Ms(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,gi(t),l.updater=Xs,t.stateNode=l,l._reactInternals=t,ja(t,r,e,n),t=Ra(null,t,r,!0,o,n)):(t.tag=0,Oe&&o&&ci(t),pt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ps(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=hm(r),e=Vt(r,e),l){case 0:t=Sa(null,t,r,e,n);break e;case 1:t=Bc(null,t,r,e,n);break e;case 11:t=Uc(null,t,r,e,n);break e;case 14:t=$c(null,t,r,Vt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Vt(r,l),Sa(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Vt(r,l),Bc(e,t,r,l,n);case 3:e:{if(rf(t),e===null)throw Error(V(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Ld(e,t),Cs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=$r(Error(V(423)),t),t=Gc(e,t,r,n,l);break e}else if(r!==l){l=$r(Error(V(424)),t),t=Gc(e,t,r,n,l);break e}else for(Lt=zn(t.stateNode.containerInfo.firstChild),Pt=t,Oe=!0,Ht=null,n=Sd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Or(),r===l){t=xn(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return Pd(t),e===null&&ka(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,i=l.children,ya(r,l)?i=null:o!==null&&ya(r,o)&&(t.flags|=32),nf(e,t),pt(e,t,i,n),t.child;case 6:return e===null&&ka(t),null;case 13:return lf(e,t,n);case 4:return _i(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fr(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Vt(r,l),Uc(e,t,r,l,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,i=l.value,Ae(Ls,r._currentValue),r._currentValue=i,o!==null)if(Qt(o.value,i)){if(o.children===l.children&&!wt.current){t=xn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){i=o.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=gn(-1,n&-n),p.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var j=v.pending;j===null?p.next=p:(p.next=j.next,j.next=p),v.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Na(o.return,n,t),f.lanes|=n;break}p=p.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(V(341));i.lanes|=n,f=i.alternate,f!==null&&(f.lanes|=n),Na(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}pt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Ar(t,n),l=Ut(l),r=r(l),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,l=Vt(r,t.pendingProps),l=Vt(r.type,l),$c(e,t,r,l,n);case 15:return ef(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Vt(r,l),ps(e,t),t.tag=1,bt(r)?(e=!0,Ms(t)):e=!1,Ar(t,n),Yd(t,r,l),ja(t,r,l,n),Ra(null,t,r,!0,e,n);case 19:return sf(e,t,n);case 22:return tf(e,t,n)}throw Error(V(156,t.tag))};function bf(e,t){return qu(e,t)}function mm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,r){return new mm(e,t,n,r)}function Ci(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hm(e){if(typeof e=="function")return Ci(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ya)return 11;if(e===Za)return 14}return 2}function Fn(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gs(e,t,n,r,l,o){var i=2;if(r=e,typeof e=="function")Ci(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vr:return rr(n.children,l,o,t);case Xa:i=8,l|=8;break;case Xo:return e=Ot(12,n,t,l|2),e.elementType=Xo,e.lanes=o,e;case Yo:return e=Ot(13,n,t,l),e.elementType=Yo,e.lanes=o,e;case Zo:return e=Ot(19,n,t,l),e.elementType=Zo,e.lanes=o,e;case Pu:return Js(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ru:i=10;break e;case Lu:i=9;break e;case Ya:i=11;break e;case Za:i=14;break e;case En:i=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Ot(i,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function rr(e,t,n,r){return e=Ot(7,e,r,t),e.lanes=n,e}function Js(e,t,n,r){return e=Ot(22,e,r,t),e.elementType=Pu,e.lanes=n,e.stateNode={isHidden:!1},e}function Vo(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function Ko(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gm(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ti(e,t,n,r,l,o,i,f,p){return e=new gm(e,t,n,f,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ot(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gi(o),e}function _m(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kf(e){if(!e)return $n;e=e._reactInternals;e:{if(ur(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(bt(n))return bd(e,n,t)}return t}function Nf(e,t,n,r,l,o,i,f,p){return e=Ti(n,r,!0,e,l,o,i,f,p),e.context=kf(null),n=e.current,r=mt(),l=On(n),o=gn(r,l),o.callback=t??null,In(n,o,l),e.current.lanes=l,Tl(e,l,r),kt(e,r),e}function eo(e,t,n,r){var l=t.current,o=mt(),i=On(l);return n=kf(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=In(l,t,i),e!==null&&(qt(e,l,i,o),us(e,l,i)),i}function Us(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ai(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}function ym(){return null}var Ef=typeof reportError=="function"?reportError:function(e){console.error(e)};function zi(e){this._internalRoot=e}to.prototype.render=zi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));eo(e,t,null,null)};to.prototype.unmount=zi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ir(function(){eo(null,e,null,null)}),t[yn]=null}};function to(e){this._internalRoot=e}to.prototype.unstable_scheduleHydration=function(e){if(e){var t=td();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&rd(e)}};function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function no(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eu(){}function vm(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var v=Us(i);o.call(v)}}var i=Nf(t,r,e,0,null,!1,!1,"",eu);return e._reactRootContainer=i,e[yn]=i.current,kl(e.nodeType===8?e.parentNode:e),ir(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var f=r;r=function(){var v=Us(p);f.call(v)}}var p=Ti(e,0,!1,null,null,!1,!1,"",eu);return e._reactRootContainer=p,e[yn]=p.current,kl(e.nodeType===8?e.parentNode:e),ir(function(){eo(t,p,n,r)}),p}function ro(e,t,n,r,l){var o=n._reactRootContainer;if(o){var i=o;if(typeof l=="function"){var f=l;l=function(){var p=Us(i);f.call(p)}}eo(t,i,e,l)}else i=vm(n,t,e,l,r);return Us(i)}Ju=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rl(t.pendingLanes);n!==0&&(ti(t,n|1),kt(t,Ke()),!(je&6)&&(Br=Ke()+500,Vn()))}break;case 13:ir(function(){var r=vn(e,1);if(r!==null){var l=mt();qt(r,e,1,l)}}),Ai(e,1)}};ni=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=mt();qt(t,e,134217728,n)}Ai(e,134217728)}};ed=function(e){if(e.tag===13){var t=On(e),n=vn(e,t);if(n!==null){var r=mt();qt(n,e,t,r)}Ai(e,t)}};td=function(){return Re};nd=function(e,t){var n=Re;try{return Re=e,t()}finally{Re=n}};ia=function(e,t,n){switch(t){case"input":if(ta(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Ws(r);if(!l)throw Error(V(90));Tu(r),ta(r,l)}}}break;case"textarea":zu(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}};Bu=Ri;Gu=ir;var xm={usingClientEntryPoint:!1,Events:[zl,kr,Ws,Uu,$u,Ri]},Jr={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wm={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hu(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||ym,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{Gs=ns.inject(wm),nn=ns}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm;Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ii(t))throw Error(V(200));return _m(e,t,null,n)};Tt.createRoot=function(e,t){if(!Ii(e))throw Error(V(299));var n=!1,r="",l=Ef;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ti(e,1,!1,null,null,n,!1,r,l),e[yn]=t.current,kl(e.nodeType===8?e.parentNode:e),new zi(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Hu(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return ir(e)};Tt.hydrate=function(e,t,n){if(!no(t))throw Error(V(200));return ro(null,e,t,!0,n)};Tt.hydrateRoot=function(e,t,n){if(!Ii(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",i=Ef;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Nf(t,null,e,1,n??null,l,!1,o,i),e[yn]=t.current,kl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new to(t)};Tt.render=function(e,t,n){if(!no(t))throw Error(V(200));return ro(null,e,t,!1,n)};Tt.unmountComponentAtNode=function(e){if(!no(e))throw Error(V(40));return e._reactRootContainer?(ir(function(){ro(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};Tt.unstable_batchedUpdates=Ri;Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!no(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return ro(e,t,n,!1,r)};Tt.version="18.3.1-next-f1338f8080-20240426";function jf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jf)}catch(e){console.error(e)}}jf(),Eu.exports=Tt;var bm=Eu.exports,tu=bm;qo.createRoot=tu.createRoot,qo.hydrateRoot=tu.hydrateRoot;var R=(e=>(e.P1="P1",e.P2="P2",e))(R||{}),h=(e=>(e.GENERAL="General",e.MINESWEEPER="Sweeper",e.RANGER="Ranger",e.MAKER="Maker",e.DEFUSER="Defuser",e))(h||{}),ie=(e=>(e.NORMAL="Normal",e.SLOW="Slow",e.SMOKE="Smoke",e.NUKE="Nuke",e.CHAIN="Chain",e))(ie||{});const ft=7,zt=24,Qn=50,rs=35,nu=10,ru=.3333,km=45,lu=15,su=30,ou=3,Nm=5,Ve={0:10,1:20,2:30},St={[h.GENERAL]:{maxHp:28,moveCost:3,flagMoveCost:5,attackCost:8,attackDmg:4},[h.MINESWEEPER]:{maxHp:14,moveCost:3,scanCost:4},[h.RANGER]:{maxHp:16,moveCost:2},[h.MAKER]:{maxHp:12,moveCost:3,makeCost:5},[h.DEFUSER]:{maxHp:18,moveCost:3,disarmCost:3}},ls=8,au={small:4,medium:7,large:10},mn={r:3,c:0},hn={r:3,c:23},Zn={[h.GENERAL]:{a:{description:"evol_gen_a_desc",thresholds:[4,12,20],rewardText:["evol_gen_a_r1","evol_gen_a_r2","evol_gen_a_r3_1","evol_gen_a_r3_2"]},b:{description:"evol_gen_b_desc",thresholds:[6,13,20],rewardText:["evol_gen_b_r1","evol_gen_b_r2","evol_gen_b_r3_1","evol_gen_b_r3_2"]}},[h.MINESWEEPER]:{a:{description:"evol_swp_a_desc",thresholds:[2,5,8],rewardText:["evol_swp_a_r1","evol_swp_a_r2","evol_swp_a_r3_1","evol_swp_a_r3_2"]},b:{description:"evol_swp_b_desc",thresholds:[2,4,6],rewardText:["evol_swp_b_r1","evol_swp_b_r2","evol_swp_b_r3_1","evol_swp_b_r3_2"]}},[h.RANGER]:{a:{description:"evol_rng_a_desc",thresholds:[8,18,28],rewardText:["evol_rng_a_r1","evol_rng_a_r2","evol_rng_a_r3_1","evol_rng_a_r3_2"]},b:{description:"evol_rng_b_desc",thresholds:[3,7,12],rewardText:["evol_rng_b_r1","evol_rng_b_r2","evol_rng_b_r3_1","evol_rng_b_r3_2"]}},[h.MAKER]:{a:{description:"evol_mkr_a_desc",thresholds:[2,5,8],rewardText:["evol_mkr_a_r1","evol_mkr_a_r2","evol_mkr_a_r3_1","evol_mkr_a_r3_2"]},b:{description:"evol_mkr_b_desc",thresholds:[3,6,9],rewardText:["evol_mkr_b_r1","evol_mkr_b_r2","evol_mkr_b_r3_1","evol_mkr_b_r3_2"]}},[h.DEFUSER]:{a:{description:"evol_def_a_desc",thresholds:[2,5,8],rewardText:["evol_def_a_r1","evol_def_a_r2","evol_def_a_r3_1","evol_def_a_r3_2"]},b:{description:"evol_def_b_desc",thresholds:[2,5,8],rewardText:["evol_def_b_r1","evol_def_b_r2","evol_def_b_r3_1","evol_def_b_r3_2"]}}};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mf=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=de.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:i,...f},p)=>de.createElement("svg",{ref:p,...jm,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Mf("lucide",l),...f},[...i.map(([v,j])=>de.createElement(v,j)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,t)=>{const n=de.forwardRef(({className:r,...l},o)=>de.createElement(Mm,{ref:o,iconNode:t,className:Mf(`lucide-${Em(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ke("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ke("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ke("Bomb",[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=ke("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ke("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ke("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=ke("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ke("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ke("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ke("Dna",[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=ke("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ke("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ke("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ke("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ke("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ke("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=ke("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ke("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=ke("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ke("Radiation",[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M7.5 4.2c-.3-.5-.9-.7-1.3-.4C3.9 5.5 2.3 8.1 2 11c-.1.5.4 1 1 1h5c0-1.5.8-2.8 2-3.4-1.1-1.9-2-3.5-2.5-4.4z",key:"wy49g3"}],["path",{d:"M21 12c.6 0 1-.4 1-1-.3-2.9-1.8-5.5-4.1-7.1-.4-.3-1.1-.2-1.3.3-.6.9-1.5 2.5-2.6 4.3 1.2.7 2 2 2 3.5h5z",key:"vklnvr"}],["path",{d:"M7.5 19.8c-.3.5-.1 1.1.4 1.3 2.6 1.2 5.6 1.2 8.2 0 .5-.2.7-.8.4-1.3-.5-.9-1.4-2.5-2.5-4.3-1.2.7-2.8.7-4 0-1.1 1.8-2 3.4-2.5 4.3z",key:"wkdf1o"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=ke("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);const $m=({size:e,oreSize:t="small"})=>{const n=({d:l,className:o="crystal-facet-main"})=>s.jsx("path",{d:l,className:`crystal-facet ${o}`,strokeLinecap:"round",strokeLinejoin:"round"}),r=({d:l})=>s.jsx("path",{d:l,className:"crystal-outline",strokeLinecap:"round",strokeLinejoin:"round"});return s.jsxs("svg",{width:e,height:e,viewBox:"0 0 100 100",className:"energy-crystal-container overflow-visible",children:[t==="small"&&s.jsxs("g",{transform:"translate(5, 5) scale(0.9)",children:[s.jsx(r,{d:"M50 5 L80 45 L50 95 L20 45 Z"}),s.jsx(n,{d:"M50 5 L80 45 L50 95 L20 45 Z",className:"crystal-facet-main"}),s.jsx(n,{d:"M50 5 L50 95",className:"crystal-facet-light"}),s.jsx(n,{d:"M20 45 L80 45",className:"crystal-facet-dark"})]}),t==="medium"&&s.jsxs("g",{transform:"translate(5, 5) scale(0.9)",children:[s.jsx(r,{d:"M50 0 L80 40 L50 95 L20 40 Z"}),s.jsx(n,{d:"M50 0 L80 40 L50 95 L20 40 Z",className:"crystal-facet-main"}),s.jsx(n,{d:"M50 0 L50 95",className:"crystal-facet-light"}),s.jsx(n,{d:"M30 30 L45 50 L35 80 L15 60 Z",className:"crystal-facet-dark"}),s.jsx(n,{d:"M70 30 L55 50 L65 80 L85 60 Z",className:"crystal-facet-dark"})]}),t==="large"&&s.jsxs("g",{children:[s.jsx(r,{d:"M50 5 L85 40 L50 95 L15 40 Z"}),s.jsx(n,{d:"M30 40 L45 20 L60 40 L45 70 Z",className:"crystal-facet-dark"}),s.jsx(n,{d:"M70 40 L55 20 L40 40 L55 70 Z",className:"crystal-facet-dark"}),s.jsx(n,{d:"M50 5 L85 40 L50 95 L15 40 Z",className:"crystal-facet-main"}),s.jsx(n,{d:"M50 5 L50 95",className:"crystal-facet-light"}),s.jsx("path",{d:"M15 40 L85 40 L50 65 Z",className:"crystal-hollow-center"}),s.jsx("circle",{cx:"50",cy:"50",r:"8",className:"crystal-core"}),s.jsx(n,{d:"M20 60 L35 75 L25 90 L10 80 Z",className:"crystal-facet-light"}),s.jsx(n,{d:"M80 60 L65 75 L75 90 L90 80 Z",className:"crystal-facet-light"})]})]})},Bm=({cell:e,unit:t,mine:n,building:r,isSelected:l,isValidMove:o,isAttackTarget:i,isSkillTarget:f,currentPlayer:p,onClick:v,p1FlagLoc:j,p2FlagLoc:b,targetMode:y,selectedUnit:M,selectedGeneralLevelA:$=0,evolutionLevelA:C=0,evolutionLevelB:te=0,p1GeneralLevelB:w=0,p2GeneralLevelB:_=0,p1GeneralVariantB:E=null,p2GeneralVariantB:F=null,evolutionVariantA:H=null,evolutionVariantB:D=null,buildings:Q=[],isSmoked:J=!1,smokeOwner:Ee,forceShowMines:me=!1,isUnitStealthed:qe=!1})=>{const[ln,Xt]=_r.useState([]),Kn=_r.useRef(C),dr=_r.useRef(te);_r.useEffect(()=>{const ce=C>Kn.current,O=te>dr.current;if(ce||O){const se=[],yt=ce?"blue":"orange";for(let ut=0;ut<12;ut++){const Pe=ut/12*Math.PI*2,tt=30+Math.random()*20,Bt=Math.cos(Pe)*tt,ao=Math.sin(Pe)*tt;se.push({id:`${Date.now()}-${ut}`,x:Bt,y:ao,color:yt,delay:ut*.06})}Xt(se);const sn=setTimeout(()=>Xt([]),1200);return()=>clearTimeout(sn)}Kn.current=C,dr.current=te},[C,te]);let Ye=!1,Ze="";if(M&&y){const ce=Math.abs(M.r-e.r)+Math.abs(M.c-e.c),O=Math.max(Math.abs(M.r-e.r),Math.abs(M.c-e.c));if(y==="move"&&ce===1)Ye=!0,Ze="border-emerald-400 shadow-[0_0_10px_rgba(16,185,129,0.6)]";else if(y==="scan"&&O<=1)Ye=!0,Ze="border-emerald-400 shadow-[0_0_10px_rgba(16,185,129,0.6)]";else if((y==="place_tower"||y==="place_hub"||y==="place_factory")&&ce===0)Ye=!0,Ze="action-range-on-spot";else if(y==="throw_mine"&&O<=1)Ye=!0,Ze="border-emerald-400 shadow-[0_0_10px_rgba(16,185,129,0.6)]";else if(y==="place_mine"&&ce===1)Ye=!0,Ze="border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.6)]";else if(y==="disarm"){const se=Math.abs(M.r-e.r),Mt=Math.abs(M.c-e.c);(O<=1||O===2&&(se===0||Mt===0))&&(Ye=!0,Ze="border-orange-400 shadow-[0_0_10px_rgba(249,115,22,0.6)]")}else if(y==="attack"&&M){let se=1;M.type===h.GENERAL&&(se=$>=2?2:1);const Mt=Math.abs(M.r-e.r),yt=Math.abs(M.c-e.c),sn=Mt===0||yt===0;ce<=se&&sn&&(Ye=!0,Ze="border-red-400 shadow-[0_0_10px_rgba(239,68,68,0.6)]")}else if(y==="place_mine"){const se=te,Mt=Q.filter(Pe=>Pe.owner===M.owner&&Pe.type==="factory");let yt=!1;Math.abs(M.r-e.r)+Math.abs(M.c-e.c)<=1&&(yt=!0),se>=1&&Math.max(Math.abs(M.r-e.r),Math.abs(M.c-e.c))<=1&&(yt=!0),Mt.some(Pe=>Math.max(Math.abs(Pe.r-e.r),Math.abs(Pe.c-e.c))<=(Pe.level>=2?2:1))&&(yt=!0),yt&&(Ye=!0,Ze="border-orange-400 shadow-[0_0_10px_rgba(251,146,60,0.6)]")}else if(y==="move_mine_start"||y==="move_mine_end"||y==="convert_mine"){const se=Math.abs(M.r-e.r),Mt=Math.abs(M.c-e.c);se<=2&&Mt<=2&&(Ye=!0,Ze=y==="convert_mine"?"border-indigo-400 shadow-[0_0_10px_rgba(129,140,248,0.6)]":"border-amber-400 shadow-[0_0_10px_rgba(245,158,11,0.6)]")}}let Y="bg-slate-900 border border-slate-700/30";e.c<12?Y="bg-blue-950/80 border border-cyan-500/30 shadow-[inset_0_0_4px_#22d3ee,0_0_6px_rgba(34,211,238,0.1)]":Y="bg-red-950/80 border border-red-500/30 shadow-[inset_0_0_4px_#ef4444,0_0_6px_rgba(239,68,68,0.1)]",e.isObstacle&&(Y="bg-slate-700 border-2 border-white/70 shadow-[0_0_6px_rgba(255,255,255,0.3),inset_0_0_6px_rgba(255,255,255,0.1)] animate-breathe pattern-diagonal-lines"),Ye&&y==="scan"?Y=`bg-slate-900 border-2 ${Ze}`:l&&y!=="scan"?Y="bg-yellow-900/60 ring-2 ring-yellow-400 border-2 border-yellow-400 shadow-lg shadow-yellow-500/50":o?Y="bg-emerald-900/60 ring-2 ring-emerald-400 border-2 border-emerald-400 cursor-pointer animate-pulse shadow-lg shadow-emerald-500/40":i?Y="bg-red-900/60 ring-2 ring-red-400 border-2 border-red-400 cursor-pointer shadow-lg shadow-red-500/40":f?Y="bg-purple-900/60 ring-2 ring-purple-400 border-2 border-purple-400 cursor-pointer animate-pulse shadow-lg shadow-purple-500/40":Ye&&(Y=`bg-slate-900 border-2 ${Ze}`);const he=e.r===mn.r&&e.c===mn.c,ge=e.r===hn.r&&e.c===hn.c,Ce=j.r===e.r&&j.c===e.c,Se=b.r===e.r&&b.c===e.c,Nt=w>=3&&E===2&&Math.abs(e.r-j.r)<=1&&Math.abs(e.c-j.c)<=1,Ge=_>=3&&F===2&&Math.abs(e.r-b.r)<=1&&Math.abs(e.c-b.c)<=1,Et=w>=2&&Math.abs(e.r-j.r)<=2&&Math.abs(e.c-j.c)<=2,jt=_>=2&&Math.abs(e.r-b.r)<=2&&Math.abs(e.c-b.c)<=2,lo=!!Q.find(ce=>ce.type==="factory"&&Math.abs(e.r-ce.r)<=(ce.level>=2?2:1)&&Math.abs(e.c-ce.c)<=(ce.level>=2?2:1)),_t=Q.find(ce=>ce.type==="hub"&&Math.abs(e.r-ce.r)<=1&&Math.abs(e.c-ce.c)<=1),Wn=!!_t,fr=_t&&_t.level===3&&_t.variant===1;Wn&&!e.isObstacle&&(Y=`${Y} border-2 border-dashed ${_t.owner===R.P1?"border-cyan-500/50":"border-red-500/50"}`);const so=me||!!n&&(n.owner===p||n.revealedTo.includes(p))&&!(J&&Ee!==p||fr&&(_t==null?void 0:_t.owner)!==p),oo=ce=>{const se={[h.GENERAL]:"text-yellow-300",[h.MINESWEEPER]:"text-cyan-300",[h.RANGER]:"text-emerald-300",[h.MAKER]:"text-red-300",[h.DEFUSER]:"text-blue-300"}[ce]||"text-white";switch(ce){case h.GENERAL:return s.jsx(Oi,{size:18,strokeWidth:3,className:`${se} drop-shadow-lg animate-pulse`,style:{filter:"drop-shadow(0 0 6px rgba(253, 224, 71, 0.8))"}});case h.MINESWEEPER:return s.jsx(Di,{size:18,strokeWidth:3,className:`${se} drop-shadow-lg animate-pulse`,style:{filter:"drop-shadow(0 0 6px rgba(34, 211, 238, 0.8))"}});case h.RANGER:return s.jsx(Lf,{size:18,strokeWidth:3,className:`${se} drop-shadow-lg animate-pulse`,style:{filter:"drop-shadow(0 0 6px rgba(52, 211, 153, 0.8))"}});case h.MAKER:return s.jsx(Pn,{size:18,strokeWidth:3,className:`${se} drop-shadow-lg animate-pulse`,style:{filter:"drop-shadow(0 0 6px rgba(252, 165, 165, 0.8))"}});case h.DEFUSER:return s.jsx(Rf,{size:18,strokeWidth:3,className:`${se} drop-shadow-lg animate-pulse`,style:{filter:"drop-shadow(0 0 6px rgba(147, 197, 253, 0.8))"}});default:return null}},pe=()=>{if(!r)return null;const ce=r.owner===R.P1?"text-cyan-400":"text-red-400",O=r.owner===R.P1?"#22d3ee":"#ef4444",se=r.level>=1,Mt=r.level>=2;if(r.type==="tower")return s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-20 overflow-visible",children:[s.jsx("div",{className:"building-range-indicator",style:{borderColor:`${O}20`}}),s.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center",children:[s.jsxs("svg",{viewBox:"0 0 40 40",className:"w-full h-full drop-shadow-lg",children:[s.jsx("rect",{x:"18",y:"15",width:"4",height:"20",rx:"1",fill:"#475569"}),s.jsx("rect",{x:"10",y:"32",width:"20",height:"4",rx:"1",fill:"#1e293b",stroke:"#475569"}),se&&s.jsx("ellipse",{cx:"20",cy:"20",rx:"15",ry:"6",fill:"none",stroke:O,strokeWidth:"1",strokeDasharray:"4 2",className:"animate-[towerRotate_4s_linear_infinite]"}),Mt&&s.jsxs(s.Fragment,{children:[s.jsx("circle",{cx:"20",cy:"12",r:"6",fill:"none",stroke:O,strokeWidth:"0.5",className:"animate-pulse"}),s.jsx("path",{d:"M12 10 L8 6",stroke:O,strokeWidth:"1.5",strokeLinecap:"round",className:"animate-pulse"}),s.jsx("path",{d:"M28 10 L32 6",stroke:O,strokeWidth:"1.5",strokeLinecap:"round",className:"animate-pulse"})]}),s.jsx("circle",{cx:"20",cy:"12",r:"3",fill:O,className:"tower-core-glow"}),s.jsx("rect",{x:"19.5",y:"4",width:"1",height:"8",fill:O,className:"animate-pulse"}),s.jsx("circle",{cx:"20",cy:"12",r:"8",fill:"none",stroke:O,className:"tower-antenna-signal",style:{animationDelay:"0s"}}),s.jsx("circle",{cx:"20",cy:"12",r:"14",fill:"none",stroke:O,className:"tower-antenna-signal",style:{animationDelay:"0.5s"}})]}),(r.duration??0)>0&&s.jsx("div",{className:`absolute -top-1 -right-1 w-3.5 h-3.5 rounded-full bg-slate-800 border border-${r.owner===R.P1?"cyan":"red"}-400 flex items-center justify-center text-[8px] font-black text-white shadow-lg z-30`,children:r.duration})]})]});if(r.type==="hub")return s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-20 overflow-visible",children:[s.jsx("div",{className:"building-range-indicator hub-range-indicator",style:{borderColor:`${O}40`,borderStyle:"dashed"}}),s.jsx("div",{className:"relative w-8 h-8 flex items-center justify-center animate-[towerFloat_3s_ease-in-out_infinite]",children:s.jsxs("svg",{viewBox:"0 0 40 40",className:"w-full h-full drop-shadow-xl",children:[s.jsx("rect",{x:"8",y:"8",width:"24",height:"24",rx:"4",fill:"#1e293b",stroke:O,strokeWidth:"2"}),s.jsx("path",{d:"M12 20 L28 20 M20 12 L20 28",stroke:O,strokeWidth:"1",opacity:"0.3"}),s.jsx("circle",{cx:"20",cy:"20",r:"6",fill:"none",stroke:O,strokeWidth:"1",strokeDasharray:"2 2",className:"animate-spin"}),se&&s.jsx("rect",{x:"14",y:"14",width:"12",height:"12",rx:"1",fill:"none",stroke:O,className:"animate-pulse"}),Mt&&s.jsx("circle",{cx:"20",cy:"20",r:"2",fill:O,className:"animate-ping"}),s.jsx(Fi,{size:16,className:`${ce} absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2`})]})})]});if(r.type==="factory"){const yt=r.owner===R.P1?"#3b82f6":"#ef4444",sn=r.owner===R.P1?"#22d3ee":"#f87171";return s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-20 overflow-visible",children:s.jsx("div",{className:"relative w-8 h-8 flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 40 40",className:"w-full h-full drop-shadow-[0_0_8px_rgba(30,41,59,0.5)]",children:[s.jsx("path",{d:"M5 35 L35 35 L35 25 L30 20 L30 15 L25 15 L25 20 L15 15 L15 10 L10 10 L10 15 L5 25 Z",fill:yt,stroke:"#1e293b",strokeWidth:"1.5",className:"transition-colors duration-500"}),s.jsx("rect",{x:"12",y:"5",width:"4",height:"10",fill:"#475569",stroke:"#1e293b"}),r.level>=2&&s.jsx("rect",{x:"22",y:"5",width:"4",height:"10",fill:"#475569",stroke:"#1e293b"}),s.jsxs("g",{className:"smoke-container",children:[s.jsx("circle",{cx:"14",cy:"2",r:"2.5",fill:"#94a3b8",className:"animate-[smoke_2s_infinite_ease-out]"}),r.level>=2&&s.jsx("circle",{cx:"24",cy:"2",r:"2.5",fill:"#94a3b8",className:"animate-[smoke_2s_infinite_0.7s_ease-out]"})]}),s.jsx("circle",{cx:"20",cy:"27",r:"6",fill:sn,opacity:"0.3",className:"animate-ping"}),s.jsx(Ui,{size:14,className:"text-white absolute top-[22px] left-1/2 -translate-x-1/2 -translate-y-1/2 drop-shadow-md"})]})})})}return null};return s.jsxs("div",{onClick:v,className:`
        relative w-full aspect-square flex items-center justify-center text-xs font-bold transition-all duration-300
        ${Y}
        ${e.isObstacle?"":"hover:bg-opacity-90 hover:scale-[1.02] hover:z-30"}
        ${t?C>=1||te>=1||l?"z-50":"z-20":n?"z-10":""}
        group overflow-visible rounded-sm
      `,id:`cell-${e.r}-${e.c}`,children:[pe(),he&&s.jsx("div",{className:"absolute inset-0 border-4 border-cyan-500/40 pointer-events-none shadow-inset shadow-cyan-500/20"}),ge&&s.jsx("div",{className:"absolute inset-0 border-4 border-red-500/40 pointer-events-none shadow-inset shadow-red-500/20"}),e.hasEnergyOre&&s.jsx("div",{className:`absolute ${t?"bottom-0.5 right-0.5 z-30":"inset-0 flex items-center justify-center"} transition-all`,children:s.jsx($m,{size:t?16:e.oreSize==="large"?32:e.oreSize==="medium"?24:18,oreSize:e.oreSize||"small"})}),n&&so&&s.jsxs("div",{className:`absolute opacity-95 drop-shadow-2xl animate-pulse ${t?"bottom-0.5 left-0.5 z-10":"inset-0 flex items-center justify-center"} ${(n==null?void 0:n.owner)===R.P1?"text-cyan-400":"text-red-400"}`,children:[n.owner===p&&!t&&s.jsx("div",{className:`absolute inset-0 rounded-full border-2 ${n.owner===R.P1?"border-cyan-400/50 shadow-[0_0_8px_rgba(34,211,238,0.4)]":"border-red-400/50 shadow-[0_0_8px_rgba(239,68,68,0.4)]"}`,style:{transform:"scale(1.2)",zIndex:100}}),s.jsx("div",{className:`text-[11px] font-black text-center ${t?"hidden":"absolute -top-4 left-0 right-0"} text-white`,children:n.type===ie.NORMAL?"":n.type===ie.SLOW?"":n.type===ie.SMOKE?"":n.type===ie.CHAIN?"":n.type===ie.NUKE?"":""}),n.type===ie.NORMAL&&s.jsx(Pn,{size:t?16:28,className:"drop-shadow-lg"}),n.type===ie.SMOKE&&s.jsx(el,{size:t?16:28,className:"drop-shadow-lg text-slate-300"}),n.type===ie.SLOW&&s.jsx(Um,{size:t?16:28,className:"drop-shadow-lg text-blue-200"}),n.type===ie.CHAIN&&s.jsx(Om,{size:t?16:28,className:"drop-shadow-lg text-purple-400"}),n.type===ie.NUKE&&s.jsx(Fm,{size:t?16:28,className:"drop-shadow-lg text-emerald-400"})]}),fr&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10 opacity-70",children:s.jsx(el,{size:24,className:`drop-shadow-lg ${(_t==null?void 0:_t.owner)===R.P1?"text-cyan-200":"text-red-200"}`})}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-visible",children:[Ce&&!t&&s.jsx(ml,{size:20,className:"text-cyan-400 absolute z-10 drop-shadow-lg animate-pulse",fill:"currentColor"}),Ce&&w>=3&&E===2&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flag-pulse-wave flag-pulse-wave-p1 flag-pulse-wave-1"}),s.jsx("div",{className:"flag-pulse-wave flag-pulse-wave-p1 flag-pulse-wave-2"}),s.jsx("div",{className:"flag-pulse-wave flag-pulse-wave-p1 flag-pulse-wave-3"})]})]}),Et&&s.jsx("div",{className:"absolute inset-0 shield-domain-p1 pointer-events-none",style:{zIndex:0}}),Nt&&s.jsx("div",{className:"absolute inset-0 damage-domain-p1 pointer-events-none",style:{zIndex:0}}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-visible",children:[Se&&!t&&s.jsx(ml,{size:20,className:"text-red-400 absolute z-10 drop-shadow-lg animate-pulse",fill:"currentColor"}),Se&&_>=3&&F===2&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flag-pulse-wave flag-pulse-wave-p2 flag-pulse-wave-1"}),s.jsx("div",{className:"flag-pulse-wave flag-pulse-wave-p2 flag-pulse-wave-2"}),s.jsx("div",{className:"flag-pulse-wave flag-pulse-wave-p2 flag-pulse-wave-3"})]})]}),jt&&s.jsx("div",{className:"absolute inset-0 shield-domain-p2 pointer-events-none",style:{zIndex:0}}),Ge&&s.jsx("div",{className:"absolute inset-0 damage-domain-p2 pointer-events-none",style:{zIndex:0}}),lo&&s.jsx("div",{className:"absolute inset-0 factory-domain pointer-events-none",style:{zIndex:0}}),t&&!t.isDead&&s.jsxs("div",{className:`
            relative z-20 w-10 h-10 rounded-full flex flex-col items-center justify-center overflow-visible
            ${(t==null?void 0:t.owner)===R.P1?"bg-gradient-to-br from-cyan-600 to-blue-700 text-cyan-100 border-2 border-cyan-400":"bg-gradient-to-br from-red-600 to-pink-700 text-red-100 border-2 border-red-400"}
            transition-all
            ${t.hasActedThisRound?"opacity-90":""} 
            ${t.hasActedThisRound?"[&>.unit-body]:grayscale [&>.unit-icon]:grayscale":""} 
            ${e.hasEnergyOre?"ring-2 ring-purple-500":""}
            ${(t==null?void 0:t.owner)===R.P1?"before:absolute before:inset-0 before:bg-cyan-400/20 before:rounded-full before:-z-10 before:blur-md":"before:absolute before:inset-0 before:bg-red-400/20 before:rounded-full before:-z-10 before:blur-md"}
            ${C>0&&te===0?C===1?"evolution-aura-a-lv1":C===2?"evolution-aura-a-lv2":"evolution-aura-a-lv3":""}
            ${te>0&&C===0?te===1?"evolution-aura-b-lv1":te===2?"evolution-aura-b-lv2":"evolution-aura-b-lv3":""}
            ${C>0&&te>0?Math.max(C,te)===1?"evolution-aura-gold-lv1":Math.max(C,te)===2?"evolution-aura-gold-lv2":"evolution-aura-gold-lv3":""}
          `,style:{animation:C>0&&te>0?"spin 2s linear infinite, spinReverse 2s linear infinite":C>0?"spin 2s linear infinite":te>0?"spinReverse 2s linear infinite":"none",boxShadow:(t==null?void 0:t.owner)===R.P1?"0 0 12px rgba(34, 211, 238, 0.6)":"0 0 12px rgba(239, 68, 68, 0.6)"},children:[s.jsx("div",{className:`unit-body absolute inset-0 rounded-full -z-10 ${(t==null?void 0:t.owner)===R.P1?"bg-gradient-to-br from-cyan-600 to-blue-700":"bg-gradient-to-br from-red-600 to-pink-700"}`}),s.jsx("div",{className:"unit-icon relative z-20",children:s.jsx("div",{className:`p-1 rounded-full ${qe?"stealth-overlay bg-white/5 blur-[0.5px]":""}`,children:oo(t.type)})}),C>0&&s.jsxs(s.Fragment,{children:[C===1&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%) rotate(45deg)",width:"8px",height:"8px",backgroundColor:"rgb(96, 165, 250)",borderRadius:"2px",boxShadow:"0 0 4px rgba(96, 165, 250, 0.8)"}}),s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"38px",height:"38px",border:"1px solid rgba(96, 165, 250, 0.4)",borderRadius:"50%",pointerEvents:"none"}})]}),C===2&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"absolute",top:"-15px",left:"calc(50% - 4px)",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:"rgb(96, 165, 250)",borderRadius:"2px",boxShadow:"0 0 4px rgba(96, 165, 250, 0.8)",animation:"accessoryBreatheTop 2s ease-in-out infinite"}}),s.jsx("div",{style:{position:"absolute",bottom:"-8px",left:"-8px",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:"rgb(96, 165, 250)",borderRadius:"2px",boxShadow:"0 0 4px rgba(96, 165, 250, 0.8)",animation:"accessoryBreatheBottomLeft 2s ease-in-out infinite"}}),s.jsx("div",{style:{position:"absolute",bottom:"-8px",right:"-8px",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:"rgb(96, 165, 250)",borderRadius:"2px",boxShadow:"0 0 4px rgba(96, 165, 250, 0.8)",animation:"accessoryBreatheBottomRight 2s ease-in-out infinite"}})]}),C===3&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"calc(50% - 38px)",left:"calc(50% - 4px)",width:"8px",height:"8px",backgroundColor:H===2?"rgb(168, 85, 247)":"rgb(147, 197, 253)",borderRadius:"2px",boxShadow:`0 0 4px ${H===2?"rgba(168, 85, 247, 0.8)":"rgba(147, 197, 253, 0.8)"}`,animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"0px","--breathe-y":"-5px",transform:"rotate(45deg)"}}),s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"calc(50% - 14.5px)",left:"calc(50% + 28.3px)",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:H===2?"rgb(168, 85, 247)":"rgb(147, 197, 253)",borderRadius:"2px",boxShadow:`0 0 4px ${H===2?"rgba(168, 85, 247, 0.8)":"rgba(147, 197, 253, 0.8)"}`,animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"4px","--breathe-y":"-2px"}}),s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"calc(50% + 23.5px)",left:"calc(50% + 16px)",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:H===2?"rgb(168, 85, 247)":"rgb(147, 197, 253)",borderRadius:"2px",boxShadow:`0 0 4px ${H===2?"rgba(168, 85, 247, 0.8)":"rgba(147, 197, 253, 0.8)"}`,animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"3px","--breathe-y":"4px"}}),s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"calc(50% + 23.5px)",left:"calc(50% - 24px)",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:H===2?"rgb(168, 85, 247)":"rgb(147, 197, 253)",borderRadius:"2px",boxShadow:`0 0 4px ${H===2?"rgba(168, 85, 247, 0.8)":"rgba(147, 197, 253, 0.8)"}`,animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"-3px","--breathe-y":"4px"}}),s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"calc(50% - 14.5px)",left:"calc(50% - 36.3px)",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:H===2?"rgb(168, 85, 247)":"rgb(147, 197, 253)",borderRadius:"2px",boxShadow:`0 0 4px ${H===2?"rgba(168, 85, 247, 0.8)":"rgba(147, 197, 253, 0.8)"}`,animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"-4px","--breathe-y":"-2px"}})]})]}),te>0&&s.jsxs(s.Fragment,{children:[te===1&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"absolute",bottom:"-12px",left:"calc(50% - 4px)",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:"rgb(251, 146, 60)",borderRadius:"2px",boxShadow:"0 0 4px rgba(251, 146, 60, 0.8)",animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"0px","--breathe-y":"5px"}}),s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"38px",height:"38px",border:"1px solid rgba(251, 146, 60, 0.4)",borderRadius:"50%",pointerEvents:"none"}})]}),te===2&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"absolute",bottom:"-15px",left:"calc(50% - 4px)",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:"rgb(251, 146, 60)",borderRadius:"2px",boxShadow:"0 0 4px rgba(251, 146, 60, 0.8)",animation:"accessoryBreatheTop 2s ease-in-out infinite"}}),s.jsx("div",{style:{position:"absolute",top:"-8px",left:"-8px",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:"rgb(251, 146, 60)",borderRadius:"2px",boxShadow:"0 0 4px rgba(251, 146, 60, 0.8)",animation:"accessoryBreatheBottomLeft 2s ease-in-out infinite"}}),s.jsx("div",{style:{position:"absolute",top:"-8px",right:"-8px",transform:"rotate(45deg)",width:"8px",height:"8px",backgroundColor:"rgb(251, 146, 60)",borderRadius:"2px",boxShadow:"0 0 4px rgba(251, 146, 60, 0.8)",animation:"accessoryBreatheBottomRight 2s ease-in-out infinite"}})]}),te===3&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"calc(50% + 30px)",left:"calc(50% - 4px)",width:"8px",height:"8px",backgroundColor:D===2?"rgb(239, 68, 68)":"rgb(250, 204, 21)",borderRadius:"2px",boxShadow:`0 0 4px ${D===2?"rgba(239, 68, 68, 0.8)":"rgba(250, 204, 21, 0.8)"}`,animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"0px","--breathe-y":"5px",transform:"rotate(45deg)"}}),s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"calc(50% + 6.5px)",left:"calc(50% + 28.3px)",width:"8px",height:"8px",backgroundColor:D===2?"rgb(239, 68, 68)":"rgb(250, 204, 21)",borderRadius:"2px",boxShadow:`0 0 4px ${D===2?"rgba(239, 68, 68, 0.8)":"rgba(250, 204, 21, 0.8)"}`,animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"4px","--breathe-y":"2px",transform:"rotate(45deg)"}}),s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"calc(50% - 31.5px)",left:"calc(50% + 16px)",width:"8px",height:"8px",backgroundColor:D===2?"rgb(239, 68, 68)":"rgb(250, 204, 21)",borderRadius:"2px",boxShadow:`0 0 4px ${D===2?"rgba(239, 68, 68, 0.8)":"rgba(250, 204, 21, 0.8)"}`,animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"3px","--breathe-y":"-4px",transform:"rotate(45deg)"}}),s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"calc(50% - 31.5px)",left:"calc(50% - 24px)",width:"8px",height:"8px",backgroundColor:D===2?"rgb(239, 68, 68)":"rgb(250, 204, 21)",borderRadius:"2px",boxShadow:`0 0 4px ${D===2?"rgba(239, 68, 68, 0.8)":"rgba(250, 204, 21, 0.8)"}`,animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"-3px","--breathe-y":"-4px",transform:"rotate(45deg)"}}),s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"calc(50% + 6.5px)",left:"calc(50% - 36.3px)",width:"8px",height:"8px",backgroundColor:D===2?"rgb(239, 68, 68)":"rgb(250, 204, 21)",borderRadius:"2px",boxShadow:`0 0 4px ${D===2?"rgba(239, 68, 68, 0.8)":"rgba(250, 204, 21, 0.8)"}`,animation:"accessoryBreathe 2s ease-in-out infinite","--breathe-x":"-4px","--breathe-y":"2px",transform:"rotate(45deg)"}}),s.jsx("div",{className:"evolution-accessory",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40px",height:"40px",border:`1px solid ${D===2?"rgba(239, 68, 68, 0.4)":"rgba(250, 204, 21, 0.4)"}`,borderRadius:"50%",pointerEvents:"none"}})]})]}),ln.map(ce=>s.jsx("div",{className:`evolution-particle ${ce.color==="blue"?"evolution-particle-blue":"evolution-particle-orange"}`,style:{"--tx":`${ce.x}px`,"--ty":`${ce.y}px`,animation:`${ce.delay%2===0?"particleFloat":"particleFloatAlt"} 1s ease-out forwards`,animationDelay:`${ce.delay}s`,left:"50%",top:"50%",marginLeft:"-2px",marginTop:"-2px"}},ce.id)),s.jsx("div",{className:"absolute -bottom-1 w-8 h-2 bg-slate-950 rounded-full overflow-hidden border-2 border-slate-700 shadow-lg",children:s.jsx("div",{className:`h-full transition-all ${t.hp<t.maxHp*.3?"bg-red-500 shadow-lg shadow-red-500/50":"bg-emerald-500 shadow-lg shadow-emerald-500/50"}`,style:{width:`${t.hp/t.maxHp*100}%`}})}),t.hasFlag&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-black rounded-full p-0.5 animate-pulse border-2 border-yellow-300 shadow-lg shadow-yellow-500/50",children:s.jsx(ml,{size:10,fill:"currentColor"})}),t.hasActedThisRound&&s.jsx("div",{className:"absolute inset-0 z-30 pointer-events-none",children:s.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full opacity-80",children:s.jsx("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#ef4444",strokeWidth:"15",strokeLinecap:"round"})})})]}),t&&t.isDead&&s.jsx("div",{className:"absolute inset-0 z-20 bg-slate-700/80 flex items-center justify-center rounded-full border-2 border-red-500",children:s.jsx("span",{className:"text-2xl font-black text-red-400",children:"DEAD"})}),(J||fr)&&s.jsxs("div",{className:"absolute inset-0 z-40 pointer-events-none overflow-hidden rounded-sm",children:[s.jsx("div",{className:`absolute inset-0 ${(fr?_t.owner:Ee)===R.P1?"bg-cyan-900/40":"bg-red-900/40"} mix-blend-overlay`}),s.jsx("div",{className:"absolute inset-[-20%] bg-slate-400/40 blur-2xl animate-pulse"}),s.jsx(el,{size:44,className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white/50 drop-shadow-[0_0_8px_rgba(255,255,255,0.4)]"}),s.jsx(el,{size:32,className:"absolute top-0 left-0 text-slate-200/40 animate-[towerFloat_4s_infinite]"}),s.jsx(el,{size:28,className:"absolute bottom-0 right-0 text-slate-300/40 animate-[towerFloat_5s_infinite_reverse]"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/20 to-transparent"})]})]})},Gm=_r.memo(Bm,(e,t)=>!(e.selectedGeneralLevelA!==t.selectedGeneralLevelA||e.evolutionLevelA!==t.evolutionLevelA||e.evolutionLevelB!==t.evolutionLevelB||e.targetMode!==t.targetMode||e.selectedUnit!==t.selectedUnit||e.isSelected!==t.isSelected||e.isValidMove!==t.isValidMove||e.isAttackTarget!==t.isAttackTarget||e.isSkillTarget!==t.isSkillTarget||e.cell!==t.cell||e.unit!==t.unit||e.mine!==t.mine||e.building!==t.building||e.buildings!==t.buildings||e.p1FlagLoc!==t.p1FlagLoc||e.p2FlagLoc!==t.p2FlagLoc||e.evolutionVariantA!==t.evolutionVariantA||e.evolutionVariantB!==t.evolutionVariantB||e.p1GeneralLevelB!==t.p1GeneralLevelB||e.p2GeneralLevelB!==t.p2GeneralLevelB||e.isSmoked!==t.isSmoked||e.smokeOwner!==t.smokeOwner||e.forceShowMines!==t.forceShowMines||e.isUnitStealthed!==t.isUnitStealthed||e.currentPlayer!==t.currentPlayer)),Vm={en:{app_title:"MINE CHESS",lobby_desc:"A strategic turn-based game featuring mines, evolution, and capture-the-flag mechanics.",pvp_mode:"PvP (2 Players)",pve_mode:"PvE (Vs AI)",sandbox_mode:"Single Player Sandbox",sandbox_desc:"Developer testing mode with shortcuts.",exit:"Exit",pause:"Pause",resume:"Resume",round:"Round",current:"Current",game_over:"GAME OVER",wins:"Wins!",play_again:"Play Again",exit_lobby:"Exit to Lobby",squad_status:"Squad Status",placement_phase:"Placement Phase",planning_phase:"Thinking Phase",action_phase:"Action Phase",placement_guide:"Swap units or place setup mines (3 Max).",confirm_placement:"Confirm Formation",ready:"Ready",ai_thinking:"AI THINKING",wait:"Wait...",move:"Move",attack:"Attack",pick_up:"Pick Up",drop_flag:"Drop Flag",take_mine:"Take Mine",drop_mine:"Drop Mine",place:"Place",place_setup_mine:"Set Mine",drop:"Drop",take:"Take",place_mine:"Place Mine",disarm:"Disarm",scan:"Scan",finish:"Finish",pass:"Pass",end_turn:"End Turn",skip_turn:"Skip Turn",evolve_a:"Evolve A",evolve_b:"Evolve B",evolution_tree:"Evolution Tree",unit_acted:"Unit has already acted.",select_unit:"Select Unit",select_action:"Select Action",paused:"PAUSED",next_round_income:"Income",base:"Base",int:"Int",stn:"Stn",kill:"Kill",path_a:"Path A",path_b:"Path B",max:"MAX",changelog:"Changes",evol_gen_a_desc:"Weapon Damage",evol_gen_a_req:"Deal 4/12/20 Dmg",evol_gen_a_r1:"Dmg 6, Mine Dmg +2",evol_gen_a_r2:"Range +1, Enemy Move +2",evol_gen_a_r3_1:"Flag Attack, Lifesteal 2",evol_gen_a_r3_2:"Attack Shift & Knockback",evol_gen_b_desc:"Flag Bonus",evol_gen_b_req:"Carry 6/13/20 Steps",evol_gen_b_r1:"Behind Flag Heal 1/Turn",evol_gen_b_r2:"Flag 5x5 Dmg Reduce 30%",evol_gen_b_r3_1:"All Carry Flag, Cost 4",evol_gen_b_r3_2:"Flag 3x3 Damage Zone",evol_swp_a_desc:"Detection Tower",evol_swp_a_req:"Mark 2/5/8 Mines",evol_swp_a_r1:"3x3 Tower, 2 Turns",evol_swp_a_r2:"Tower Permanent, Enemy Disarm",evol_swp_a_r3_1:"Two Towers Simultaneous",evol_swp_a_r3_2:"Detonate Tower Mines",evol_swp_b_desc:"Scan Mode",evol_swp_b_req:"Safe 2/4/6 Rounds",evol_swp_b_r1:"Show Mine Count, 1 Turn",evol_swp_b_r2:"Show Exact Location, Cost 4",evol_swp_b_r3_1:"Scan Two, Foot Cost 3",evol_swp_b_r3_2:"Pull Mines to Center",evol_rng_a_desc:"Energy Hub",evol_rng_a_req:"Move 8/18/28 Steps",evol_rng_a_r1:"3x3 Hub, Move Cost -1",evol_rng_a_r2:"Teleport to Hub, Destroy",evol_rng_a_r3_1:"Hub Fog, Block Detection",evol_rng_a_r3_2:"All Teleport, Ranger Cost 4",evol_rng_b_desc:"Mine Control",evol_rng_b_req:"Move 3/7/11 Mines",evol_rng_b_r1:"Pickup Range 3x3",evol_rng_b_r2:"Stealth 3 Cost, Reveal on Hit",evol_rng_b_r3_1:"Permanent Stealth, Cost 2",evol_rng_b_r3_2:"Throw Mines 3x3, Cost 4",evol_mkr_a_desc:"Special Mines",evol_mkr_a_req:"Trigger 2/5/8 Mines",evol_mkr_a_r1:"Slow Mine, Cost 2",evol_mkr_a_r2:"Smoke Mine, Block Vision",evol_mkr_a_r3_1:"Chain Mine 5x5 Range",evol_mkr_a_r3_2:"Ultimate Mine, Damage All",evol_mkr_b_desc:"Auto Factory",evol_mkr_b_req:"Place 3/6/9 Mines",evol_mkr_b_r1:"Tower Plant, Cost 6",evol_mkr_b_r2:"5x5 Range, Max 2 Mines",evol_mkr_b_r3_1:"Free Mine, Max 3",evol_mkr_b_r3_2:"Dual Tower, Cost 3",evol_def_a_desc:"Mine Bonus",evol_def_a_req:"Hit 2/5/8 Mines",evol_def_a_r1:"Mine Dmg -1, -2 Low HP",evol_def_a_r2:"Hit Mine Heal & Max HP",evol_def_a_r3_1:"Hit Mine Damage Enemy",evol_def_a_r3_2:"Dmg -3, -4 Low HP, 75%",evol_def_b_desc:"Remote Disarm",evol_def_b_req:"Disarm 2/5/8 Mines",evol_def_b_r1:"Disarm Range +1",evol_def_b_r2:"Move Enemy Mine, Cost 2",evol_def_b_r3_1:"Convert Mine, Cost 5",evol_def_b_r3_2:"Move to Enemy, Damage 40%",evol_gen_a_detail:"Tier 1: 6+2Tier 2: +2Tier 3-1: 2Tier 3-2: 11",evol_gen_b_detail:"Tier 1: 1Tier 2: 5X530%Tier 3-1: 14Tier 3-2: 3X34",evol_swp_a_detail:"Tier 1: 3X38Tier 2: 4Tier 3-1: Tier 3-2: 2",evol_swp_b_detail:"Tier 1: 5Tier 2: ()4Tier 3-1: 3Tier 3-2: 3X36",evol_rng_a_detail:"Tier 1: 3x3  -184Tier 2: Tier 3-1: 3X3Tier 3-2: 64",evol_rng_b_detail:"Tier 1: 3X3Tier 2: 3Tier 3-1: 2Tier 3-2: 3X34",evol_mkr_a_detail:"Tier 1: 2Tier 2: 3Tier 3-1: 5*53*35Tier 3-2: 3X33X3(3X3)",evol_mkr_b_detail:"Tier 1: 3X31(5)63Tier 2: 5X52Tier 3-1: 3Tier 3-2: 5X523",evol_def_a_detail:"Tier 1: 150%2Tier 2: 1Tier 3-1: 24Tier 3-2: 350%475%",evol_def_b_detail:"Tier 1: Tier 2: 2Tier 3-1: 15Tier 3-2: 40%5",log_planning_phase:"Round {{round}}: Planning Phase Start",log_placement_phase:"Placement Phase: Setup squad & mines.",log_placement_mines:"Initial mines deployed at {{mines}}.",log_placement_units:"Unit positions established: {{units}}.",log_action_phase:"Action Phase Started!",log_timeout:"{{player}} timed out!",log_pass:"{{player}} passed. {{unit}} lost turn.",log_skip:"{{unit}} skipped this turn.",log_pass_turn:"{{unit}} passed without action.",log_round_start:"--- Round {{round}} Start ---",log_victory:"{{player}} captured the base! Victory!",log_unit_acted:"Unit has already acted this round.",log_committed:"You are committed to the current unit!",log_low_energy:"Not enough energy! Need {{cost}}",log_energy_cap:"Energy Cap! Unit max: {{cap}}.",log_max_mines:"Max 5 mines allowed on board!",log_defuser_reduce:"Defuser reduced mine damage!",log_hit_mine:"BOOM! {{unit}} hit a mine for {{dmg}} dmg!",log_out_of_range:"Target out of range!",log_low_energy_attack:"Not enough energy to attack!",log_attack_hit:"{{attacker}} hit {{target}} for {{dmg}} damage!",log_steal_energy:"Stole {{amount}} energy from enemy!",log_kill_reward:"Kill! Gained {{amount}} Energy!",log_passive_heal:"{{unit}} recovered {{amount}} HP.",log_move_action:"{{unit}} moved from ({{fromR}}, {{fromC}}) to ({{toR}}, {{toC}}).",log_flag_pickup:"General picked up the flag at ({{r}}, {{c}})!",log_flag_drop:"General dropped the flag at ({{r}}, {{c}})!",log_hidden_mine:"Cannot pick up hidden enemy mine!",log_pickup_mine:"Ranger picked up a mine at ({{r}}, {{c}})!",log_space_has_mine:"Space already has a mine!",log_place_mine:"Ranger placed a mine at ({{r}}, {{c}})!",log_scan_range:"Target out of range (Max 5)",log_scan_area:"Scanned area around ({{r}}, {{c}})!",log_maker_range:"Can only place mines on self or adjacent cells!",log_obstacle:"Cannot place mine on obstacle!",log_mined_ore:"Mined Ore! Spent {{cost}}, Gained {{reward}} Energy!",log_mine_placed:"Mine placed at ({{r}}, {{c}})!",log_mine_limit:"Mine limit (3) reached!",log_mine_zone:"Can only place setup mines in your territory!",log_swap:"Swapped unit positions.",log_low_energy_evolve:"Not enough energy to evolve!",log_evolved:"Evolved {{unit}} Branch {{branch}} to Lv{{level}}!",log_evol_gen_b_heal:"Flag Aura healed allies for 1 HP.",log_evol_gen_a_heal:"General healed 2 HP from flag attack.",log_evol_debuff:"Target debuffed: Mine Vuln & Heavy Steps.",log_evol_gen_a_debuff_lv1:"Target debuffed: Mine Vulnerability.",log_evol_gen_a_debuff_lv2:"Target debuffed: Heavy Steps.",log_evol_gen_b_dmg_reduce:"Flag Aura reduced incoming damage!",log_evol_gen_a_knockback:"General shifted forward and knocked back the enemy!",log_evol_gen_a_mine_vuln:"Unit gained permanent mine vulnerability!",log_evol_gen_b_damage_zone:"Flag damage zone dealt {{dmg}} damage to {{unit}}!",log_defuser_self_heal:"Defuser healed {{amount}} HP.",log_disarm_range:"Mine out of range (Max 2)!",log_no_mine:"No mine at target location!",log_own_mine:"Cannot disarm own mine!",log_mine_not_revealed:"Mine not revealed by sweeper!",log_mine_disarmed:"Mine disarmed at ({{r}}, {{c}})!",log_unit_died:"{{unit}} died and will resurrect in {{rounds}} round(s).",log_unit_resurrected:"{{unit}} has resurrected at ({{r}}, {{c}})!",log_general_flag_move_limit:"General with flag has reached movement limit (5 moves) this turn!",log_flag_move_limit:"{{unit}} with flag has reached movement limit (5 moves) this turn!",log_scan_count:"Scan result: Found {{count}} mines around ({{r}}, {{c}}).",log_smoke_deployed:"Smoke Deployed at ({{r}}, {{c}})! Vision Impaired."},zh_tw:{app_title:"",lobby_desc:"",pvp_mode:" (2)",pve_mode:" (Vs AI)",sandbox_mode:"",sandbox_desc:"",exit:"",pause:"",resume:"",round:"",current:"",game_over:"",wins:"",play_again:"",exit_lobby:"",squad_status:"",placement_phase:"",planning_phase:"",action_phase:"",placement_guide:"(3)",confirm_placement:"",ready:"",ai_thinking:"AI ",wait:"...",move:"",attack:"",pick_up:"",drop_flag:"",take_mine:"",drop_mine:"",place:"",place_setup_mine:"",drop:"",take:"",place_mine:"",disarm:"",scan:"",finish:"",pass:"",end_turn:"",skip_turn:"",evolve_a:" A",evolve_b:" B",evolution_tree:"",unit_acted:"",select_unit:"",select_action:"",paused:"",next_round_income:"",base:"",int:"",stn:"",kill:"",path_a:" A",path_b:" B",max:"MAX",changelog:"",evol_gen_a_desc:"",evol_gen_a_subtitle:"",evol_gen_a_req:" 4/12/20 ",evol_gen_a_r1_req:" 4 ",evol_gen_a_r2_req:" 12 ",evol_gen_a_r3_req:" 20 ",evol_gen_a_r1:"",evol_gen_a_r2:"",evol_gen_a_r3_1:"",evol_gen_a_r3_2:"",evol_gen_b_desc:"",evol_gen_b_subtitle:"",evol_gen_b_req:" 6/13/20 ",evol_gen_b_r1_req:" 6 ",evol_gen_b_r2_req:" 13 ",evol_gen_b_r3_req:" 20 ",evol_gen_b_r1:"",evol_gen_b_r2:"",evol_gen_b_r3_1:"",evol_gen_b_r3_2:"",evol_swp_a_desc:"",evol_swp_a_subtitle:"",evol_swp_a_req:" 2/5/8 ",evol_swp_a_r1_req:" 2 ",evol_swp_a_r2_req:" 5 ",evol_swp_a_r3_req:" 8 ",evol_swp_a_r1:"",evol_swp_a_r2:"",evol_swp_a_r3_1:"",evol_swp_a_r3_2:"",evol_swp_b_desc:"",evol_swp_b_subtitle:"",evol_swp_b_req:" 2/4/6 ",evol_swp_b_r1_req:" 2 ",evol_swp_b_r2_req:" 4 ",evol_swp_b_r3_req:" 6 ",evol_swp_b_r1:"",evol_swp_b_r2:"",evol_swp_b_r3_1:"",evol_swp_b_r3_2:"",evol_rng_a_desc:"",evol_rng_a_subtitle:"",evol_rng_a_req:" 8/18/28 ",evol_rng_a_r1_req:" 8 ",evol_rng_a_r2_req:" 18 ",evol_rng_a_r3_req:" 28 ",evol_rng_a_r1:"",evol_rng_a_r2:"",evol_rng_a_r3_1:"",evol_rng_a_r3_2:"",evol_rng_b_desc:"",evol_rng_b_subtitle:"",evol_rng_b_req:" 3/7/12 ",evol_rng_b_r1_req:" 3 ",evol_rng_b_r2_req:" 7 ",evol_rng_b_r3_req:" 12 ",evol_rng_b_r1:"",evol_rng_b_r2:"",evol_rng_b_r3_1:"",evol_rng_b_r3_2:"",evol_mkr_a_desc:"",evol_mkr_a_subtitle:"",evol_mkr_a_req:" 2/5/8 ",evol_mkr_a_r1_req:" 2 ",evol_mkr_a_r2_req:" 5 ",evol_mkr_a_r3_req:" 8 ",evol_mkr_a_r1:"",evol_mkr_a_r2:"",evol_mkr_a_r3_1:"",evol_mkr_a_r3_2:"",evol_mkr_b_desc:"",evol_mkr_b_subtitle:"",evol_mkr_b_req:" 3/6/9 ",evol_mkr_b_r1_req:" 3 ",evol_mkr_b_r2_req:" 6 ",evol_mkr_b_r3_req:" 9 ",evol_mkr_b_r1:"",evol_mkr_b_r2:"",evol_mkr_b_r3_1:"",evol_mkr_b_r3_2:"",evol_def_a_desc:"",evol_def_a_subtitle:"",evol_def_a_req:" 2/5/8 ",evol_def_a_r1_req:" 2 ",evol_def_a_r2_req:" 5 ",evol_def_a_r3_req:" 8 ",evol_def_a_r1:"",evol_def_a_r2:"",evol_def_a_r3_1:"",evol_def_a_r3_2:"",evol_def_b_desc:"",evol_def_b_subtitle:"",evol_def_b_req:" 2/5/8 ",evol_def_b_r1_req:" 2 ",evol_def_b_r2_req:" 5 ",evol_def_b_r3_req:" 8 ",evol_def_b_r1:"",evol_def_b_r2:"",evol_def_b_r3_1:"",evol_def_b_r3_2:"",evol_gen_a_r1_detail:" 6 +2 ()",evol_gen_a_r2_detail:"( 2 ) +2 ",evol_gen_a_r3_1_detail:" 2 ",evol_gen_a_r3_2_detail:" 1  1 ()",evol_gen_b_r1_detail:"() 1 ",evol_gen_b_r2_detail:" 5x5  30% ",evol_gen_b_r3_1_detail:" 4 ",evol_gen_b_r3_2_detail:" 3x3  4 ",evol_swp_a_r1_detail:" 3x3  8  2 ",evol_swp_a_r2_detail:"() 4 ",evol_swp_a_r3_1_detail:" 2 ",evol_swp_a_r3_2_detail:" 2 ",evol_swp_b_r1_detail:" 5 () 5 ",evol_swp_b_r2_detail:" 3x3  4 ",evol_swp_b_r3_1_detail:" 3 ",evol_swp_b_r3_2_detail:" 3x3  6 ",evol_rng_a_r1_detail:" 3x3  -1( 1 ) 8 ",evol_rng_a_r2_detail:" 0 ()",evol_rng_a_r3_1_detail:" 3x3 ",evol_rng_a_r3_2_detail:" 6 4 ",evol_rng_b_r1_detail:"3X3",evol_rng_b_r2_detail:"3",evol_rng_b_r3_1_detail:"2",evol_rng_b_r3_2_detail:"3X34",evol_mkr_a_r1_detail:" 3() 2 ",evol_mkr_a_r2_detail:" 5(3x33) 3 ",evol_mkr_a_r3_1_detail:" 6 (5x5)+2 5 ",evol_mkr_a_r3_2_detail:" 12 3X3  3X3 () 10 ",evol_mkr_b_r1_detail:" 5+1  1  3x3 ( 5 ) 6 ",evol_mkr_b_r2_detail:" 5x5 5+2  2 ",evol_mkr_b_r3_1_detail:" 5+3 ( 3 )",evol_mkr_b_r3_2_detail:" 2  4 5+2+2 ( 2 )",evol_def_a_r1_detail:" 1 50%  2",evol_def_a_r2_detail:" +2 1 ",evol_def_a_r3_1_detail:" 2/ 4 ",evol_def_a_r3_2_detail:"( 1 HP) 1  75% ",evol_def_b_r1_detail:"",evol_def_b_r2_detail:"2",evol_def_b_r3_1_detail:"15",evol_def_b_r3_2_detail:"40%5",log_planning_phase:" {{round}} ",log_placement_phase:"",log_placement_mines:"{{mines}}",log_placement_units:"{{units}}",log_action_phase:"",log_timeout:"{{player}} ",log_pass:"{{player}}  {{unit}} ",log_skip:"{{unit}}",log_pass_turn:"{{unit}}",log_round_start:"---  {{round}}  ---",log_victory:"{{player}} ",log_unit_acted:"",log_committed:"",log_low_energy:" {{cost}}",log_energy_cap:" {{cap}} ",log_max_mines:"5",log_defuser_reduce:"",log_hit_mine:"{{unit}} {{dmg}} ",log_out_of_range:"",log_low_energy_attack:"",log_attack_hit:"{{attacker}}  {{target}}  {{dmg}} ",log_steal_energy:" {{amount}} ",log_kill_reward:" {{amount}} ",log_move_action:"{{unit}}({{fromR}}, {{fromC}})({{toR}}, {{toC}})",log_flag_pickup:" ({{r}}, {{c}}) ",log_flag_drop:" ({{r}}, {{c}}) ",log_hidden_mine:"",log_pickup_mine:" ({{r}}, {{c}}) ",log_space_has_mine:"",log_place_mine:" ({{r}}, {{c}}) ",log_scan_range:" 5 ",log_scan_area:" ({{r}}, {{c}}) ",log_maker_range:"",log_maker_range_base:"",log_obstacle:"",log_mined_ore:" {{cost}} {{reward}} ",log_mine_placed:" ({{r}}, {{c}}) ",log_mine_limit:"3 ",log_mine_zone:"",log_swap:"",log_low_energy_evolve:"",log_evolved:"{{unit}} {{branch}}  {{level}}",log_evol_gen_b_heal:" 1 ",log_evol_gen_a_heal:" 2 ",log_evol_debuff:" & ",log_evol_gen_a_debuff_lv1:"",log_evol_gen_a_debuff_lv2:"",log_evol_gen_b_dmg_reduce:"",log_evol_gen_a_knockback:"",log_evol_gen_a_mine_vuln:"",log_evol_gen_b_damage_zone:"{{unit}}{{dmg}}",log_passive_heal:"{{unit}} {{amount}} ",log_heavy_steps:"",log_disarm_range:" 2 ",log_no_mine:"",log_own_mine:"",log_mine_not_revealed:"",log_mine_disarmed:" ({{r}}, {{c}}) ",log_building_dismantled:" ({{r}}, {{c}}) ",log_unit_died:"{{unit}} {{rounds}} ",log_unit_resurrected:"{{unit}} ({{r}}, {{c}}) ",log_general_flag_move_limit:"5",log_flag_move_limit:"{{unit}}5",log_scan_count:" ({{r}}, {{c}})  {{count}} ",log_evol_swp_detonate:"",log_evol_def_move_mine:"",log_evol_def_convert_mine:"",log_evol_mkr_chain:"",log_smoke_deployed:" ({{r}}, {{c}}) "},zh_cn:{app_title:"",lobby_desc:"",pvp_mode:" (2)",pve_mode:" (Vs AI)",sandbox_mode:"",sandbox_desc:"",exit:"",pause:"",resume:"",round:"",current:"",game_over:"",wins:"",play_again:"",exit_lobby:"",squad_status:"",placement_phase:"",planning_phase:"",action_phase:"",placement_guide:"(3)",confirm_placement:"",ready:"",ai_thinking:"AI ",wait:"...",move:"",attack:"",pick_up:"",drop_flag:"",take_mine:"",drop_mine:"",place:"",place_setup_mine:"",drop:"",take:"",place_mine:"",disarm:"",scan:"",finish:"",pass:"",end_turn:"",skip_turn:"",evolve_a:" A",evolve_b:" B",evolution_tree:"",unit_acted:"",select_unit:"",select_action:"",paused:"",next_round_income:"",base:"",int:"",stn:"",kill:"",path_a:" A",path_b:" B",max:"MAX",changelog:"",evol_gen_a_desc:"",evol_gen_a_req:" 4/12/20 ",evol_gen_a_r1:" 6 2",evol_gen_a_r2:" 1 2",evol_gen_a_r3_1:" 2",evol_gen_a_r3_2:"",evol_gen_b_desc:"",evol_gen_b_req:" 6/13/20 ",evol_gen_b_r1:" 1",evol_gen_b_r2:" 5x5 ",evol_gen_b_r3_1:" 4",evol_gen_b_r3_2:" 3x3 ",evol_swp_a_desc:"",evol_swp_a_req:" 2/5/8 ",evol_swp_a_r1:" 3x3 ",evol_swp_a_r2:"",evol_swp_a_r3_1:"",evol_swp_a_r3_2:"",evol_swp_b_desc:"",evol_swp_b_req:" 2/4/6 ",evol_swp_b_r1:"",evol_swp_b_r2:" 4",evol_swp_b_r3_1:" 3",evol_swp_b_r3_2:"",evol_rng_a_desc:"",evol_rng_a_req:" 8/18/28 ",evol_rng_a_r1:"3x3  1",evol_rng_a_r2:"",evol_rng_a_r3_1:"",evol_rng_a_r3_2:" 4",evol_rng_b_desc:"",evol_rng_b_req:" 3/7/12 ",evol_rng_b_r1:" 3x3",evol_rng_b_r2:"3 ",evol_rng_b_r3_1:" 2",evol_rng_b_r3_2:"4 ",evol_mkr_a_desc:"",evol_mkr_a_req:" 2/5/8 ",evol_mkr_a_r1:" 2",evol_mkr_a_r2:"",evol_mkr_a_r3_1:" 5x5 ",evol_mkr_a_r3_2:"",evol_mkr_b_desc:"",evol_mkr_b_req:" 3/6/9 ",evol_mkr_b_r1:" 6",evol_mkr_b_r2:" 5x5 2",evol_mkr_b_r3_1:" 3",evol_mkr_b_r3_2:" 3",evol_def_a_desc:"",evol_def_a_req:" 2/5/8 ",evol_def_a_r1:" 1",evol_def_a_r2:"",evol_def_a_r3_1:"",evol_def_a_r3_2:"",evol_def_b_desc:"",evol_def_b_req:" 2/5/8 ",evol_def_b_r1:"",evol_def_b_r2:"2 ",evol_def_b_r3_1:"5 ",evol_def_b_r3_2:"",evol_gen_a_r1_detail:"6+2",evol_gen_a_r2_detail:"+2",evol_gen_a_r3_1_detail:"2",evol_gen_a_r3_2_detail:"11",evol_gen_b_r1_detail:"1",evol_gen_b_r2_detail:"5X530%",evol_gen_b_r3_1_detail:"14",evol_gen_b_r3_2_detail:"3X34",evol_swp_a_r1_detail:"3X38",evol_swp_a_r2_detail:"4",evol_swp_a_r3_1_detail:"",evol_swp_a_r3_2_detail:"2",evol_swp_b_r1_detail:"5",evol_swp_b_r2_detail:"()4",evol_swp_b_r3_1_detail:"3",evol_swp_b_r3_2_detail:"3X36",evol_rng_a_r1_detail:"3x3  -184",evol_rng_a_r2_detail:"",evol_rng_a_r3_1_detail:"3X3",evol_rng_a_r3_2_detail:"64",evol_rng_b_r1_detail:"3X3",evol_rng_b_r2_detail:"3",evol_rng_b_r3_1_detail:"2",evol_rng_b_r3_2_detail:"3X34",evol_mkr_a_r1_detail:" 3() 2 ",evol_mkr_a_r2_detail:"3",evol_mkr_a_r3_1_detail:"5*53*35",evol_mkr_a_r3_2_detail:" 12 3X3  3X3 () 10 ",evol_mkr_b_r1_detail:" 5+1  1  3x3  6 ",evol_mkr_b_r2_detail:" 5x5 5+2  2 ",evol_mkr_b_r3_1_detail:" 5+3 ( 3 )",evol_mkr_b_r3_2_detail:" 2  5+2+2  2  3",evol_def_a_r1_detail:"150%2",evol_def_a_r2_detail:"1",evol_def_a_r3_1_detail:"24",evol_def_a_r3_2_detail:"350%475%",evol_def_b_r1_detail:"",evol_def_b_r2_detail:"2",evol_def_b_r3_1_detail:"15",evol_def_b_r3_2_detail:"40%5",log_planning_phase:" {{round}} ",log_placement_phase:"",log_placement_mines:"{{mines}}",log_placement_units:"{{units}}",log_action_phase:"",log_timeout:"{{player}} ",log_pass:"{{player}}  {{unit}} ",log_skip:"{{unit}}",log_pass_turn:"{{unit}}",log_round_start:"---  {{round}}  ---",log_victory:"{{player}} ",log_unit_acted:"",log_committed:"",log_low_energy:" {{cost}}",log_energy_cap:" {{cap}} ",log_max_mines:"5",log_defuser_reduce:"",log_hit_mine:"{{unit}} {{dmg}} ",log_out_of_range:"",log_low_energy_attack:"",log_attack_hit:"{{attacker}}  {{target}}  {{dmg}} ",log_steal_energy:" {{amount}} ",log_kill_reward:" {{amount}} ",log_passive_heal:"{{unit}} {{amount}} ",log_move_action:"{{unit}}({{fromR}}, {{fromC}})({{toR}}, {{toC}})",log_flag_pickup:" ({{r}}, {{c}}) ",log_flag_drop:" ({{r}}, {{c}}) ",log_hidden_mine:"",log_pickup_mine:" ({{r}}, {{c}}) ",log_space_has_mine:"",log_place_mine:" ({{r}}, {{c}}) ",log_scan_range:" 5 ",log_scan_area:" ({{r}}, {{c}}) ",log_maker_range:"",log_obstacle:"",log_mined_ore:" {{cost}} {{reward}} ",log_mine_placed:" ({{r}}, {{c}}) ",log_mine_limit:"3 ",log_mine_zone:"",log_swap:"",log_low_energy_evolve:"",log_evolved:"{{unit}} {{branch}}  {{level}}",log_evol_gen_b_heal:" 1 ",log_evol_gen_a_heal:" 2 ",log_evol_debuff:" & ",log_evol_gen_a_debuff_lv1:"",log_evol_gen_a_debuff_lv2:"",log_evol_gen_b_dmg_reduce:"",log_evol_gen_a_knockback:"",log_evol_gen_a_mine_vuln:"",log_evol_gen_b_damage_zone:"{{unit}}{{dmg}}",log_defuser_self_heal:" {{amount}} ",log_disarm_range:" 2 ",log_no_mine:"",log_own_mine:"",log_mine_not_revealed:"",log_mine_disarmed:" ({{r}}, {{c}}) ",log_unit_died:"{{unit}} {{rounds}} ",log_unit_resurrected:"{{unit}} ({{r}}, {{c}}) ",log_general_flag_move_limit:"5",log_flag_move_limit:"{{unit}}5",log_scan_count:" ({{r}}, {{c}})  {{count}} ",log_smoke_deployed:" ({{r}}, {{c}}) ",log_heavy_steps:""}},Km=[{id:"MC1024",name:"",players:1,maxPlayers:2,status:"waiting"},{id:"BATTLE",name:"",players:2,maxPlayers:2,status:"playing"},{id:"QC999",name:"",players:1,maxPlayers:2,status:"waiting"}],Hm=({language:e,t,setLanguage:n,roomId:r,setRoomId:l,isHost:o,setIsHost:i,showJoinModal:f,setShowJoinModal:p,handleStartGame:v,roomCode:j,setRoomCode:b,joinMode:y,setJoinMode:M,createRoomId:$,setCreateRoomId:C,createRoomName:te,setCreateRoomName:w,isPrivate:_,setIsPrivate:E,createRoomPassword:F,setCreateRoomPassword:H})=>s.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-8 bg-gradient-to-br from-slate-950 via-blue-950 to-slate-950 p-4 relative",children:[s.jsxs("div",{className:"text-center space-y-2 z-10",children:[s.jsx("h1",{className:"text-7xl font-black bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 drop-shadow-2xl animate-pulse",children:t("app_title")}),s.jsx("p",{className:"text-cyan-300 max-w-md mx-auto font-semibold",children:t("lobby_desc")})]}),s.jsx("div",{className:"flex gap-6 z-10",children:r?s.jsx("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:o?s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>{l(null),i(!1)},className:"px-8 py-6 bg-slate-700 hover:bg-slate-600 rounded-xl font-bold text-white text-xl transition-all border-2 border-slate-500",children:e==="zh_tw"?"":"LEAVE"}),s.jsxs("button",{onClick:()=>v("pvp"),className:"px-12 py-6 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 rounded-xl font-black text-2xl shadow-2xl shadow-orange-500/50 transform hover:scale-105 transition-all duration-200 flex items-center gap-4 border-2 border-orange-400 animate-pulse",children:[s.jsx(Sf,{size:32}),e==="zh_tw"?"":"START GAME"]})]}):s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"text-2xl font-bold text-cyan-300 animate-pulse",children:[e==="zh_tw"?"":"Waiting for host to start game",s.jsx("span",{className:"dot-loading"})]}),s.jsx("button",{onClick:()=>{l(null),i(!1)},className:"px-6 py-2 bg-slate-700/50 hover:bg-slate-600/50 rounded-lg text-slate-300 text-sm border border-slate-600 transition-all hover:text-white",children:e==="zh_tw"?"":"Leave Lobby"}),s.jsx("style",{children:`
                                .dot-loading::after {
                                    content: ' .';
                                    animation: dots 1.5s steps(5, end) infinite;
                                }
                                @keyframes dots {
                                    0%, 20% { content: ''; }
                                    40% { content: '.'; }
                                    60% { content: '..'; }
                                    80%, 100% { content: '...'; }
                                }
                            `})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>v("sandbox"),className:"px-8 py-4 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-400 hover:to-yellow-400 rounded-xl font-black text-lg shadow-2xl shadow-yellow-500/50 transform hover:scale-110 transition-all duration-200 flex items-center gap-3 border-2 border-amber-300",children:[s.jsx(Ui,{size:24}),t("sandbox_mode")]}),s.jsxs("button",{onClick:()=>v("pve"),className:"px-8 py-4 bg-gradient-to-r from-violet-500 to-fuchsia-500 hover:from-violet-400 hover:to-fuchsia-400 rounded-xl font-black text-lg shadow-2xl shadow-violet-500/50 transform hover:scale-110 transition-all duration-200 flex items-center gap-3 border-2 border-violet-300",children:[s.jsx(Fi,{size:24}),t("pve_mode")]}),s.jsxs("button",{onClick:()=>p(!0),className:"px-8 py-4 bg-gradient-to-r from-slate-600 to-slate-500 hover:from-slate-500 hover:to-slate-400 rounded-xl font-black text-lg shadow-2xl shadow-slate-500/50 transform hover:scale-110 transition-all duration-200 flex items-center gap-3 border-2 border-slate-400 text-white",children:[s.jsx(Dm,{size:24}),e==="zh_tw"?"":"Join Lobby"]})]})}),r&&s.jsxs("div",{className:"absolute top-4 left-4 z-20 bg-cyan-900/80 border border-cyan-500 px-4 py-2 rounded-full text-cyan-200 font-bold backdrop-blur-sm shadow-lg shadow-cyan-500/20 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e==="zh_tw"?": ":"Joined Room: "," ",r]}),s.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:s.jsxs("button",{onClick:()=>n(e==="zh_tw"?"en":"zh_tw"),className:"p-2 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg border border-gray-600 transition-colors flex items-center gap-2",children:[s.jsx(Cf,{size:16}),e==="zh_tw"?"EN":""]})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center backdrop-blur-md p-4",children:s.jsxs("div",{className:"bg-slate-900 border-2 border-cyan-500 rounded-xl shadow-2xl shadow-cyan-500/20 max-w-5xl w-full h-[600px] flex overflow-hidden relative",children:[s.jsx("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 z-10 p-2 text-slate-400 hover:text-white bg-slate-800/50 rounded-full hover:bg-slate-700 transition-colors",children:s.jsx(Pf,{size:24})}),s.jsxs("div",{className:"w-2/3 border-r border-slate-700 bg-slate-900/50 flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-slate-700 bg-slate-800/30",children:s.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-2",children:[s.jsx($s,{size:24,className:"text-cyan-400"}),e==="zh_tw"?"":"Lobby List"]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar",children:Km.map(D=>s.jsxs("div",{onClick:()=>D.status==="waiting"?b(D.id):null,className:`p-4 rounded-lg border-2 transition-all cursor-pointer flex items-center justify-between group
                                        ${D.status==="waiting"?"border-slate-700 hover:border-cyan-500 bg-slate-800/50 hover:bg-slate-800":"border-slate-800 bg-slate-900/50 opacity-60 cursor-not-allowed"}`,children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`font-bold text-lg ${D.status==="waiting"?"text-white group-hover:text-cyan-300":"text-slate-500"}`,children:D.name}),s.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["ID: ",D.id]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase
                                            ${D.status==="waiting"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:D.status==="waiting"?e==="zh_tw"?"":"WAITING":e==="zh_tw"?"":"PLAYING"}),s.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[s.jsx($s,{size:14}),s.jsxs("span",{className:"text-sm font-mono",children:[D.players,"/",D.maxPlayers]})]})]})]},D.id))})]}),s.jsxs("div",{className:"w-1/3 bg-slate-950/80 flex flex-col items-center justify-center p-8 border-l-2 border-cyan-500/10 shadow-xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at center, cyan 1px, transparent 1px)",backgroundSize:"20px 20px"}}),y==="join"?s.jsxs("div",{className:"w-full max-w-xs space-y-6 relative z-10 animate-fade-in",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:e==="zh_tw"?"":"Enter Room Code"}),s.jsx("p",{className:"text-xs text-slate-400",children:e==="zh_tw"?"ID":"Input private room ID to join"})]}),s.jsx("input",{type:"text",value:j,onChange:D=>b(D.target.value),className:"w-full bg-slate-900 border-2 border-slate-700 rounded-lg p-4 text-white font-black text-center focus:border-cyan-500 focus:shadow-[0_0_20px_rgba(34,211,238,0.3)] outline-none text-3xl tracking-[0.2em] transition-all uppercase placeholder:opacity-20",placeholder:"____",maxLength:6}),s.jsxs("button",{onClick:()=>{j.trim()&&(l(j),p(!1))},className:"w-full py-4 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 rounded-lg font-black text-white text-lg shadow-lg shadow-cyan-500/30 transform hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:!j.trim(),children:[e==="zh_tw"?"":"JOIN ROOM",s.jsx($a,{size:20})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4 border-t border-slate-800/50",children:[s.jsx("span",{className:"text-xs text-slate-500",children:e==="zh_tw"?"":"No room?"}),s.jsx("button",{onClick:()=>M("create"),className:"text-xs font-bold text-cyan-400 hover:text-cyan-300 underline",children:e==="zh_tw"?"":"Create Room"})]})]}):s.jsxs("div",{className:"w-full max-w-xs space-y-4 relative z-10 animate-fade-in",children:[s.jsx("div",{className:"text-center mb-2",children:s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:e==="zh_tw"?"":"Create Room"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-slate-400 mb-1 block",children:e==="zh_tw"?"ID":"Room ID"}),s.jsx("input",{type:"text",value:$,onChange:D=>C(D.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white font-mono text-center focus:border-cyan-500 outline-none uppercase",placeholder:"ID",maxLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-slate-400 mb-1 block",children:e==="zh_tw"?"":"Room Name"}),s.jsx("input",{type:"text",value:te,onChange:D=>w(D.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white focus:border-cyan-500 outline-none",placeholder:e==="zh_tw"?"...":"Enter name...",maxLength:12})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-xs font-bold text-slate-400",children:e==="zh_tw"?"":"Private?"}),s.jsx("input",{type:"checkbox",checked:_,onChange:D=>E(D.target.checked),className:"w-4 h-4 rounded border-slate-600 bg-slate-800 text-cyan-500 focus:ring-offset-slate-900"})]}),_&&s.jsx("input",{type:"password",value:F,onChange:D=>H(D.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white focus:border-cyan-500 outline-none",placeholder:e==="zh_tw"?"...":"Password..."})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx("button",{onClick:()=>M("join"),className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 rounded font-bold text-slate-400 text-sm transition-colors",children:e==="zh_tw"?"":"Back"}),s.jsx("button",{onClick:()=>{$.trim()&&te.trim()&&(l($),i(!0),p(!1))},className:"flex-[2] py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 rounded font-black text-white text-sm shadow-lg shadow-emerald-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:!$.trim()||!te.trim(),children:e==="zh_tw"?"":"Create"})]})]})]})]})}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsxs("div",{className:"absolute top-20 left-20",children:[s.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 blur-[50px] rounded-full scale-150 animate-pulse",style:{animation:"cloud-flow 6s ease-in-out infinite"}}),s.jsx("div",{style:{animation:"fadeInOut 4s ease-in-out infinite"},children:s.jsx(Oi,{size:200,className:"text-cyan-400 drop-shadow-2xl relative z-10"})})]}),s.jsxs("div",{className:"absolute bottom-20 right-20",children:[s.jsx("div",{className:"absolute inset-0 bg-red-500/20 blur-[50px] rounded-full scale-150 animate-pulse",style:{animation:"cloud-flow 6s ease-in-out infinite reverse"}}),s.jsx("div",{style:{animation:"fadeInOut 4s ease-in-out infinite"},children:s.jsx(Pn,{size:200,className:"text-red-400 drop-shadow-2xl relative z-10"})})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 via-transparent to-red-500/5"})]})]}),Wm=({gameState:e,setGameState:t,isSandboxCollapsed:n,setIsSandboxCollapsed:r,sandboxPos:l,onSandboxDragStart:o,language:i,addLog:f})=>{if(e.gameMode!=="sandbox")return null;const p=(b,y)=>{t(M=>({...M,players:{...M.players,[b]:{...M.players[b],energy:M.players[b].energy+y}}}))},v=()=>{t(b=>{const y=M=>({...M,units:M.units.map($=>({...$,hp:$.maxHp,isDead:!1,respawnTimer:0,energyUsedThisTurn:0,hasActedThisRound:!1,isLocked:!1}))});return{...b,players:{[R.P1]:y(b.players[R.P1]),[R.P2]:y(b.players[R.P2])}}}),f("log_evolved","info",{unit:i==="zh_tw"?"":"All Units",branch:"Reset",level:0})},j=()=>{t(b=>({...b,sandboxShowAllMines:!b.sandboxShowAllMines}))};return s.jsxs("div",{className:`fixed z-[100] bg-slate-900/95 border-2 border-amber-500/50 rounded-xl shadow-2xl backdrop-blur-md overflow-hidden transition-all duration-300 ${n?"w-12 h-12":"w-64"}`,style:{left:`${l.x}px`,top:`${l.y}px`},children:[s.jsxs("div",{onMouseDown:o,className:"bg-amber-500/20 p-2 flex items-center justify-between cursor-move border-b border-amber-500/30",children:[!n&&s.jsxs("span",{className:"text-[10px] font-black text-amber-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(du,{size:12,className:"animate-spin-slow"})," Sandbox Tools"]}),s.jsx("button",{onClick:()=>r(!n),className:"p-1 hover:bg-amber-500/20 rounded text-amber-400 transition-colors",children:n?s.jsx(Ba,{size:16}):s.jsx(Tf,{size:16})})]}),!n&&s.jsxs("div",{className:"p-3 space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-[9px] text-blue-400 font-bold uppercase tracking-wider",children:"Player 1 Energy"}),s.jsx("div",{className:"flex gap-1",children:[10,50,100].map(b=>s.jsxs("button",{onClick:()=>p(R.P1,b),className:"flex-1 py-1 bg-blue-900/40 hover:bg-blue-800/60 border border-blue-700/50 rounded text-[10px] font-bold text-blue-300 transition-all active:scale-95",children:["+",b]},`p1-en-${b}`))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-[9px] text-red-400 font-bold uppercase tracking-wider",children:"Player 2 Energy"}),s.jsx("div",{className:"flex gap-1",children:[10,50,100].map(b=>s.jsxs("button",{onClick:()=>p(R.P2,b),className:"flex-1 py-1 bg-red-900/40 hover:bg-red-800/60 border border-red-700/50 rounded text-[10px] font-bold text-red-300 transition-all active:scale-95",children:["+",b]},`p2-en-${b}`))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:v,className:"flex flex-col items-center justify-center p-2 bg-emerald-900/30 hover:bg-emerald-800/50 border border-emerald-700/50 rounded-lg group transition-all",children:[s.jsx(du,{size:16,className:"text-emerald-400 group-hover:rotate-180 transition-transform duration-500"}),s.jsx("span",{className:"text-[8px] mt-1 font-bold text-emerald-300 uppercase",children:"Revive All"})]}),s.jsxs("button",{onClick:j,className:`flex flex-col items-center justify-center p-2 border rounded-lg transition-all ${e.sandboxShowAllMines?"bg-amber-500/30 border-amber-500 text-amber-300":"bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700"}`,children:[s.jsx(Me,{size:16}),s.jsx("span",{className:"text-[8px] mt-1 font-bold uppercase",children:"Reveal Mines"})]})]}),s.jsx("button",{onClick:()=>t(b=>({...b,isSandboxTimerPaused:!b.isSandboxTimerPaused})),className:`w-full py-2 rounded font-black text-[10px] uppercase tracking-widest border transition-all ${e.isSandboxTimerPaused?"bg-red-600 border-red-400 text-white animate-pulse":"bg-slate-800 border-slate-600 text-slate-300"}`,children:e.isSandboxTimerPaused?"Timer Paused":"Pause Game Timer"})]})]})},qm=({gameState:e,setShowEvolutionTree:t,flippedCardId:n,setFlippedCardId:r,t:l,getUnitIcon:o,getUnitTypeAbbr:i})=>{const f=e.players[e.currentPlayer],p=f.questStats,v=f.evolutionLevels,j=(b,y)=>{switch(b){case h.GENERAL:return y==="a"?p.generalDamage:p.generalFlagSteps;case h.MINESWEEPER:return y==="a"?p.sweeperMinesMarked:p.consecutiveSafeRounds;case h.RANGER:return y==="a"?p.rangerSteps:p.rangerMinesMoved;case h.MAKER:return y==="a"?p.makerMinesTriggeredByEnemy:p.makerMinesPlaced;case h.DEFUSER:return y==="a"?p.defuserMinesSoaked:p.defuserMinesDisarmed;default:return 0}};return s.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center pointer-events-auto",children:s.jsxs("div",{className:"w-[95%] max-w-6xl max-h-[85vh] bg-gray-900 border-2 border-indigo-500 rounded-lg shadow-2xl flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700 bg-gray-800 shrink-0",children:[s.jsxs("h2",{className:"text-2xl font-bold text-indigo-400 flex items-center gap-2",children:[s.jsx(Nn,{size:24})," ",l("evolution_tree")]}),s.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-gray-700 rounded text-gray-400 hover:text-white",children:s.jsx(Pf,{size:24})})]}),s.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:s.jsx("div",{className:"space-y-4",children:Object.entries(Zn).map(([b,y])=>{const M=b;return s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-indigo-300 font-bold border-b border-gray-700 pb-3",children:[o(M,24)," ",s.jsx("span",{className:"text-lg",children:M})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:["a","b"].map($=>{const C=$,te=j(M,C),w=y[C].thresholds[2],_=v[M][C],E=C==="a"?"aVariant":"bVariant",F=v[M][E];let H="bg-gray-600";return _===1&&(H="bg-blue-500"),_===2&&(H="bg-purple-500"),_===3&&(H="bg-yellow-400"),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-gray-300 font-bold flex items-center gap-2",children:[s.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${C==="a"?"bg-blue-500":"bg-orange-500"}`}),s.jsx("span",{children:l(C==="a"?"path_a":"path_b")}),s.jsx("span",{className:"text-xs text-gray-400 font-normal",children:l(`evol_${i(M)}_${C}_subtitle`)}),_<3&&te>=y[C].thresholds[_]&&s.jsx("span",{className:"text-[10px] text-green-400 font-bold animate-pulse",children:"??READY"})]}),s.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:[te," / ",w]})]}),s.jsx("div",{className:"flex h-2",children:(()=>{const D=y[C].thresholds[0],Q=y[C].thresholds[1],J=D/w*100,Ee=(Q-D)/w*100,me=(w-Q)/w*100;return s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{width:`${J}%`},className:"bg-gray-700/50 rounded-l-full overflow-hidden border-r border-gray-900/50",children:s.jsx("div",{className:`h-full transition-all duration-500 ${H}`,style:{width:`${Math.min(100,te/D*100)}%`}})}),s.jsx("div",{style:{width:`${Ee}%`},className:"bg-gray-700/50 overflow-hidden border-r border-gray-900/50",children:s.jsx("div",{className:`h-full transition-all duration-500 ${H}`,style:{width:te>D?`${Math.min(100,(te-D)/(Q-D)*100)}%`:"0%"}})}),s.jsx("div",{style:{width:`${me}%`},className:"bg-gray-700/50 rounded-r-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${H}`,style:{width:te>Q?`${Math.min(100,(te-Q)/(w-Q)*100)}%`:"0%"}})})]})})()}),s.jsxs("div",{className:"flex items-center h-24",children:[s.jsx("div",{className:"flex-1 relative h-full",children:(()=>{const D=`${M}-${C}-1`,Q=n===D,J=_>=1;return s.jsx("div",{onClick:()=>r(Q?null:D),className:`absolute inset-0 z-10 p-2 rounded border flex flex-col justify-center cursor-pointer transition-all duration-300 ${Q?"scale-110 !h-auto min-h-[140px] !z-50 bg-[#0a0f1a] border-indigo-400 shadow-2xl overflow-visible":`h-full ${J?"bg-blue-950/40 border-blue-600/80 text-blue-100":"bg-gray-800/50 border-gray-600 text-gray-500 opacity-60"}`}`,children:Q?s.jsx("div",{className:"text-[11px] leading-relaxed whitespace-pre-wrap py-1 text-blue-50",children:l(`evol_${i(M)}_${C}_r1_detail`)}):s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("div",{className:"font-bold mb-0.5 opacity-70",children:"LV1"}),s.jsx("div",{className:"text-[11px] leading-tight font-black truncate",children:l(y[C].rewardText[0])})]}),s.jsxs("div",{className:"text-[10px] text-gray-300 font-bold flex items-center gap-1 shrink-0 ml-2",children:[J&&s.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full flex items-center justify-center text-[6px] text-white shrink-0"}),s.jsx("span",{className:"opacity-80",children:l(`evol_${i(M)}_${C}_r1_req`)})]})]})})})()}),s.jsx("div",{className:"w-8 h-0.5 bg-gray-700/80 shrink-0"}),s.jsx("div",{className:"flex-1 relative h-full",children:(()=>{const D=`${M}-${C}-2`,Q=n===D,J=_>=2;return s.jsx("div",{onClick:()=>r(Q?null:D),className:`absolute inset-0 z-10 p-2 rounded border flex flex-col justify-center cursor-pointer transition-all duration-300 ${Q?"scale-110 !h-auto min-h-[140px] !z-50 bg-[#1a0a1f] border-indigo-400 shadow-2xl":`h-full ${J?"bg-purple-950/40 border-purple-600/80 text-purple-100":"bg-gray-800/50 border-gray-600 text-gray-500 opacity-60"}`}`,children:Q?s.jsx("div",{className:"text-[11px] leading-relaxed whitespace-pre-wrap py-1 text-purple-50",children:l(`evol_${i(M)}_${C}_r2_detail`)}):s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("div",{className:"font-bold mb-0.5 opacity-70",children:"LV2"}),s.jsx("div",{className:"text-[11px] leading-tight font-black truncate",children:l(y[C].rewardText[1])})]}),s.jsxs("div",{className:"text-[10px] text-gray-300 font-bold flex items-center gap-1 shrink-0 ml-2",children:[J&&s.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full flex items-center justify-center text-[6px] text-white shrink-0"}),s.jsx("span",{className:"opacity-80",children:l(`evol_${i(M)}_${C}_r2_req`)})]})]})})})()}),_===3&&F?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-8 h-0.5 bg-gray-700/80 shrink-0"}),s.jsx("div",{className:"flex-1 relative h-full",children:(()=>{const D=F,Q=`${M}-${C}-3-${D}`,J=n===Q,Ee=F+1;return s.jsx("div",{onClick:()=>r(J?null:Q),className:`absolute inset-0 z-10 p-2 rounded border flex flex-col justify-center cursor-pointer transition-all duration-300 ${J?"scale-110 !h-auto min-h-[140px] !z-50 bg-[#1f100a] border-indigo-400 shadow-2xl":"h-full bg-orange-950/40 border-orange-500 text-orange-100 shadow-[0_0_12px_rgba(249,115,22,0.15)]"}`,children:J?s.jsx("div",{className:"text-[11px] leading-relaxed whitespace-pre-wrap py-1 text-orange-50",children:l(`evol_${i(M)}_${C}_r3_${D}_detail`)}):s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsxs("div",{className:"font-bold mb-0.5 opacity-70",children:["LV3-",D]}),s.jsx("div",{className:"text-[11px] leading-tight font-black truncate",children:l(y[C].rewardText[Ee])})]}),s.jsxs("div",{className:"text-[10px] text-gray-300 font-bold flex items-center gap-1 shrink-0 ml-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full flex items-center justify-center text-[6px] text-white shrink-0"}),s.jsx("span",{className:"opacity-80",children:l(`evol_${i(M)}_${C}_r3_req`)})]})]})})})()})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex flex-col items-center justify-center text-gray-700/80 w-8 shrink-0",children:s.jsxs("svg",{width:"32",height:"80",viewBox:"0 0 32 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M0 40H8C12 40 14 39 14 36V18C14 15 16 14 24 14H32",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("path",{d:"M14 44V62C14 65 16 66 24 66H32",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("circle",{cx:"14",cy:"40",r:"2.5",fill:"currentColor",className:"animate-pulse"})]})}),s.jsx("div",{className:"flex flex-col flex-1 gap-1.5 h-full",children:[1,2].map(D=>{const Q=D+1,J=`${M}-${C}-3-${D}`,Ee=F!=null&&F!==D,me=_===3&&F!==null&&F===D,qe=n===J;return s.jsx("div",{className:"relative h-[46px]",children:s.jsx("div",{onClick:()=>{Ee||r(qe?null:J)},className:`absolute inset-0 z-10 p-2 rounded border flex flex-col justify-center cursor-pointer transition-all duration-300 ${qe?"scale-110 !h-auto min-h-[140px] !z-50 bg-[#1a1a1a] border-indigo-400 shadow-2xl":`h-full ${me?"bg-orange-950/40 border-orange-500 text-orange-100 shadow-[0_0_12px_rgba(249,115,22,0.2)]":Ee?"bg-transparent border-gray-800 text-gray-700 opacity-20 grayscale pointer-events-none":"bg-gray-800/40 border-gray-600/50 text-gray-500 hover:border-gray-500"}`}`,children:qe?s.jsx("div",{className:"text-[11px] leading-relaxed whitespace-pre-wrap py-1 text-gray-100",children:l(`evol_${i(M)}_${C}_r3_${D}_detail`)}):s.jsxs("div",{className:"flex justify-between items-center h-full",children:[s.jsxs("div",{className:"flex flex-col justify-center min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[s.jsxs("span",{className:`text-[9px] ${me?"text-orange-400":"text-gray-500"} font-bold`,children:["LV3-",D]}),me&&s.jsx("span",{className:"text-[7px] px-1 bg-orange-600 text-white rounded-sm font-black animate-pulse",children:"ACTIVED"})]}),s.jsx("div",{className:"text-[10px] leading-tight truncate font-bold",children:l(y[C].rewardText[Q])})]}),s.jsxs("div",{className:"text-[10px] text-gray-400 font-bold italic shrink-0 ml-2 text-right leading-tight",children:[l(`evol_${i(M)}_${C}_r3_req`),!F&&_===2&&te>=y[C].thresholds[2]&&s.jsx("div",{className:"text-green-400 font-black animate-bounce mt-0.5 text-[8px]",children:"SELECT"})]})]})})},Q)})})]})]})]},C)})})]},M)})})})]})})};function Qm(e){switch(e){case h.GENERAL:return"GEN";case h.MINESWEEPER:return"SWE";case h.RANGER:return"RAN";case h.MAKER:return"MAK";case h.DEFUSER:return"DEF";default:return"UNT"}}function fu(e){switch(e){case ie.NORMAL:return 10;case ie.SLOW:return 20;case ie.SMOKE:return 15;case ie.NUKE:return 25;case ie.CHAIN:return 30;default:return 10}}function pu(e,t=18,n=0){const r={size:t,className:"transition-all duration-300"};switch(e){case h.GENERAL:return s.jsx(Oi,{...r,className:`${r.className} ${n===3?"text-yellow-400 drop-shadow-[0_0_8px_rgba(250,204,21,0.6)]":""}`});case h.MINESWEEPER:return s.jsx(Di,{...r,className:`${r.className} ${n===3?"text-cyan-400 drop-shadow-[0_0_8px_rgba(34,211,238,0.6)]":""}`});case h.RANGER:return s.jsx(Lf,{...r,className:`${r.className} ${n===3?"text-emerald-400 drop-shadow-[0_0_8px_rgba(16,185,129,0.6)]":""}`});case h.MAKER:return s.jsx(Pn,{...r,className:`${r.className} ${n===3?"text-rose-400 drop-shadow-[0_0_8px_rgba(251,113,133,0.6)]":""}`});case h.DEFUSER:return s.jsx(Rf,{...r,className:`${r.className} ${n===3?"text-indigo-400 drop-shadow-[0_0_8px_rgba(129,140,248,0.6)]":""}`});default:return s.jsx($s,{...r})}}function Ne(e){switch(e){case h.GENERAL:return" (GENERAL)";case h.MINESWEEPER:return" (SWEEPER)";case h.RANGER:return" (RANGER)";case h.MAKER:return" (MAKER)";case h.DEFUSER:return" (DEFUSER)";default:return e}}const Af=e=>{const t=[],n=e===R.P1,r=n?[0,1,2,3]:[20,21,22,23],l=n?mn:hn,i=[...[0,1,2,3,4,5,6].filter(p=>p!==l.r)].sort(()=>Math.random()-.5).slice(0,5),f=[...r].sort(()=>Math.random()-.5);for(let p=0;p<5;p++){const v=i[p],j=f[p%f.length];t.push({r:v,c:j})}return t},Wo=e=>{const t=[];for(let b=0;b<ft;b++){const y=[];for(let M=0;M<zt;M++)y.push({r:b,c:M,isObstacle:!1,isFlagBase:b===mn.r&&M===mn.c?R.P1:b===hn.r&&M===hn.c?R.P2:null,hasEnergyOre:!1,oreSize:null});t.push(y)}let n=0,r=0,l=0;const o=(b,y)=>{for(let M=-1;M<=1;M++)for(let $=-1;$<=1;$++){const C=b+M,te=y+$;if(C>=0&&C<ft&&te>=0&&te<zt&&t[C][te].isObstacle)return!0}return!1};for(;n<4&&l<500;){l++;const b=Math.floor(Math.random()*ft),y=Math.floor(Math.random()*(12-4)+4);!t[b][y].isObstacle&&!t[b][y].isFlagBase&&(o(b,y)||(t[b][y].isObstacle=!0,n++))}for(l=0;r<4&&l<500;){l++;const b=Math.floor(Math.random()*ft),y=Math.floor(Math.random()*(20-12)+12);!t[b][y].isObstacle&&!t[b][y].isFlagBase&&(o(b,y)||(t[b][y].isObstacle=!0,r++))}for(let b=0;b<ft;b++)for(let y=0;y<zt;y++)if(!t[b][y].isObstacle&&!t[b][y].isFlagBase&&y>5&&y<18&&Math.random()<.05){t[b][y].hasEnergyOre=!0;const M=Math.random();t[b][y].oreSize=M<.6?"small":M<.9?"medium":"large"}const i=b=>{const y=[h.GENERAL,h.MINESWEEPER,h.RANGER,h.MAKER,h.DEFUSER],M=Af(b);return y.map(($,C)=>({id:`${b}-${$}`,type:$,owner:b,hp:St[$].maxHp,maxHp:St[$].maxHp,r:M[C].r,c:M[C].c,hasFlag:!1,carriedMine:null,energyUsedThisTurn:0,startOfActionEnergy:Qn,isDead:!1,respawnTimer:0,hasActedThisRound:!1,status:{mineVulnerability:0,moveCostDebuff:0},stats:{damageDealt:0,minesSwept:0,stepsTaken:0,minesPlaced:0,minesTriggered:0,kills:0,deaths:0,damageTaken:0,flagCaptures:0,flagReturns:0}}))},f={generalDamage:0,generalFlagSteps:0,sweeperMinesMarked:0,sweeperScansPerformed:0,sweeperMinesRevealed:0,sweeperDetonatedMines:0,consecutiveSafeRounds:0,rangerSteps:0,rangerMinesMoved:0,makerMinesTriggeredByEnemy:0,makerMinesPlaced:0,defuserMinesSoaked:0,defuserMinesDisarmed:0,triggeredMineThisRound:!1},p={[h.GENERAL]:{a:0,b:0,aVariant:null,bVariant:null},[h.MINESWEEPER]:{a:0,b:0,aVariant:null,bVariant:null},[h.RANGER]:{a:0,b:0,aVariant:null,bVariant:null},[h.MAKER]:{a:0,b:0,aVariant:null,bVariant:null},[h.DEFUSER]:{a:0,b:0,aVariant:null,bVariant:null}};let v=[],j=i(R.P2);if(e==="pve"||e==="sandbox"){for(let b=0;b<10;b++){const y=Math.floor(Math.random()*4)+1,M=Math.floor(Math.random()*4)+1,$=j[y],C=j[M],te=$.r,w=$.c;$.r=C.r,$.c=C.c,C.r=te,C.c=w}for(let b=0;b<3;b++)for(let y=0;y<20;y++){const M=Math.floor(Math.random()*7),$=Math.floor(Math.random()*12)+12,C=t[M][$].isObstacle,te=j.some(_=>_.r===M&&_.c===$),w=v.some(_=>_.r===M&&_.c===$);if(!C&&!te&&!w){v.push({id:`setup-ai-${b}`,owner:R.P2,type:ie.NORMAL,r:M,c:$,revealedTo:[]});break}}}return{turnCount:1,currentPlayer:R.P1,phase:"placement",gameMode:e,isPaused:!1,isSandboxTimerPaused:!1,cells:t,mines:v,buildings:[],smokes:[],players:{[R.P1]:{id:R.P1,energy:Qn,startOfRoundEnergy:Qn,startOfActionEnergy:Qn,energyFromKills:0,placementMinesPlaced:0,flagPosition:{...mn},basePosition:{...mn},units:i(R.P1),movesMadeThisTurn:0,flagMovesMadeThisTurn:0,nonGeneralFlagMovesMadeThisTurn:0,hasResurrectedGeneral:!1,questStats:{...f},evolutionLevels:JSON.parse(JSON.stringify(p)),evolutionPoints:0},[R.P2]:{id:R.P2,energy:Qn,startOfRoundEnergy:Qn,startOfActionEnergy:Qn,energyFromKills:0,placementMinesPlaced:e==="pve"||e==="sandbox"?3:0,flagPosition:{...hn},basePosition:{...hn},units:j,movesMadeThisTurn:0,flagMovesMadeThisTurn:0,nonGeneralFlagMovesMadeThisTurn:0,hasResurrectedGeneral:!1,questStats:{...f},evolutionLevels:JSON.parse(JSON.stringify(p)),evolutionPoints:0}},selectedUnitId:null,activeUnitId:null,logs:[{turn:1,messageKey:"log_placement_phase",type:"info"}],gameOver:!1,winner:null,timeLeft:km,movements:[],sandboxShowAllMines:!1}};function Xm(){const[e,t]=de.useState("lobby"),[n,r]=de.useState(Wo("pvp")),[l,o]=de.useState(null),[i,f]=de.useState(null),[p,v]=de.useState(!1),[j,b]=de.useState("zh_tw"),[y,M]=de.useState(.3),[$,C]=de.useState(null),[te,w]=de.useState(!1),[_,E]=de.useState(!0),[F,H]=de.useState(!1),[D,Q]=de.useState("join"),[J,Ee]=de.useState(""),[me,qe]=de.useState(""),[ln,Xt]=de.useState(""),[Kn,dr]=de.useState(!1),[Ye,Ze]=de.useState(""),[Y,he]=de.useState(null),[ge,Ce]=de.useState(!1),[Se,Nt]=de.useState(ie.NORMAL),Ge=de.useRef(null),Et=de.useRef(null),[jt,Hn]=de.useState({x:0,y:0}),[lo,_t]=de.useState(!1),Wn=de.useRef({isDragging:!1,startX:0,startY:0}),fr=a=>{Wn.current={isDragging:!0,startX:a.clientX-jt.x,startY:a.clientY-jt.y}};de.useEffect(()=>{const a=u=>{Wn.current.isDragging&&Hn({x:u.clientX-Wn.current.startX,y:u.clientY-Wn.current.startY})},c=()=>{Wn.current.isDragging=!1};return window.addEventListener("mousemove",a,{passive:!0}),window.addEventListener("mouseup",c),()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",c)}},[]);const so=de.useCallback(a=>{if(!Et.current)return;const c=a.currentTarget.getBoundingClientRect(),u=a.clientX-c.left,m=a.clientY-c.top,k=c.width/2,g=c.height/2,N=(m-g)/g*-2,d=(u-k)/k*2;Et.current.style.transform=`perspective(2000px) rotateX(${N}deg) rotateY(${d}deg)`,Et.current.style.transition="transform 0.1s ease-out"},[]),oo=de.useCallback(()=>{Et.current&&(Et.current.style.transform="perspective(2000px) rotateX(0deg) rotateY(0deg)",Et.current.style.transition="transform 0.5s ease-out")},[]),pe=de.useCallback((a,c)=>{let u=Vm[j][a]||a;return c&&Object.entries(c).forEach(([m,k])=>{u=u.replace(`{{${m}}}`,String(k))}),u},[j]),ce=de.useRef(n);de.useEffect(()=>{ce.current=n},[n]),de.useEffect(()=>{Nt(ie.NORMAL)},[]),de.useEffect(()=>{if(e!=="game")return;const a=setInterval(()=>{const c=ce.current;c.gameOver||c.isPaused||c.isSandboxTimerPaused||(c.timeLeft>0?r(u=>({...u,timeLeft:u.timeLeft-1})):c.phase==="placement"?$i():c.phase==="thinking"?io():c.phase==="action"&&qn(c.activeUnitId||c.selectedUnitId,!0))},1e3);return()=>clearInterval(a)},[e]);const O=(a,c="info",u,m)=>{r(k=>({...k,logs:[{turn:k.turnCount,messageKey:a,params:u,type:c,owner:m},...k.logs].slice(0,100)}))},se=(a,c=n)=>{const u=c.players[R.P1].units.find(m=>m.id===a);return u||c.players[R.P2].units.find(m=>m.id===a)},Mt=a=>{r(Wo(a)),t("game"),w(!0),C(null),o(null),setTimeout(()=>{w(!1)},3e3)},yt=()=>{t("lobby")},sn=(a,c)=>{const u=ce.current;if(u.gameOver||u.isPaused)return;const m=u.cells[a][c],k=u.players[R.P1].units.find(g=>g.r===a&&g.c===c&&!g.isDead)||u.players[R.P2].units.find(g=>g.r===a&&g.c===c&&!g.isDead);if(u.phase==="placement"){if(l==="place_setup_mine"){const g=c<12;if(!(u.currentPlayer===R.P1?g:!g)){O("log_mine_zone","error");return}if(m.isObstacle||k){O("log_obstacle","error");return}if(u.players[u.currentPlayer].placementMinesPlaced>=ou){O("log_mine_limit","error");return}r(x=>{const P=x.players[x.currentPlayer];return{...x,mines:[...x.mines,{id:`pm-${Date.now()}`,owner:x.currentPlayer,type:ie.NORMAL,r:a,c,revealedTo:[]}],players:{...x.players,[x.currentPlayer]:{...P,placementMinesPlaced:P.placementMinesPlaced+1}}}});return}if(!k)return;k.owner===u.currentPlayer&&pr(k);return}if(u.phase!=="thinking"&&!(u.gameMode==="pve"&&u.currentPlayer===R.P2)){if(u.selectedUnitId&&(l==="scan"||l==="place_mine"||l==="disarm"||l==="teleport"||l==="place_tower"||l==="place_hub"||l==="throw_mine"||l==="place_factory"||l==="move_mine_start"||l==="move_mine_end"||l==="convert_mine"||l==="pickup_mine_select")){const g=se(u.selectedUnitId);if(g){if(l==="teleport"){r(N=>{const d=g.owner,x=N.players[d],P=x.units.map(I=>I.id===g.id?{...I,r:a,c}:I);return{...N,players:{...N.players,[d]:{...x,units:P}}}}),o(null);return}if(l==="scan"&&g.type===h.MINESWEEPER){Df(g,a,c);return}if(l==="place_mine"&&g.type===h.MAKER){Of(g,a,c);return}if(l==="disarm"&&g.type===h.DEFUSER){ho(g,a,c);return}if(l==="place_tower"&&g.type===h.MINESWEEPER){co(g,a,c);return}if(l==="place_hub"&&g.type===h.RANGER){po(g,a,c);return}if(l==="throw_mine"&&g.type===h.RANGER){Uf(g,a,c);return}if(l==="place_factory"&&g.type===h.MAKER){mo(g,a,c);return}if(l==="move_mine_start"&&g.type===h.DEFUSER){const N=u.mines.find(d=>d.r===a&&d.c===c&&d.owner!==g.owner);N&&(f(N.id),o("move_mine_end"),O("log_select_action","info"));return}if(l==="move_mine_end"&&g.type===h.DEFUSER&&i){const N=u.mines.find(d=>d.id===i);N&&$f(g,N.r,N.c,a,c),f(null),o(null);return}if(l==="convert_mine"&&g.type===h.DEFUSER){Bf(g,a,c);return}if(l==="pickup_mine_select"&&g.type===h.RANGER){Vi(g,a,c);return}}}if(k){if(k.owner===u.currentPlayer){pr(k);return}if(l==="attack"&&u.selectedUnitId){pr(k);return}}if(u.selectedUnitId){const g=se(u.selectedUnitId);if(!g||g.owner!==u.currentPlayer)return;if(l==="move"&&Math.abs(g.r-a)+Math.abs(g.c-c)===1&&!k&&!u.cells[a][c].isObstacle){const x=u.players[g.owner].evolutionLevels[h.GENERAL].b;let P=St[g.type].moveCost;g.hasFlag?g.type===h.GENERAL?P=x>=3?4:St[h.GENERAL].flagMoveCost:x>=3?P=4:P=5:g.type===h.RANGER&&g.carriedMine&&(P=3);const I=Pe(g,P);go(g.id,a,c,I)}}}},ut=(a,c)=>(a.owner===R.P1?a.c>=12:a.c<12)?c<5?c+1:c+2:c,Pe=(a,c,u=n,m="move")=>{if(!a)return c;const k=u.players[a.owner];let g=c;if(m==="move"&&k.evolutionLevels[h.RANGER].b>=3&&a.type===h.RANGER&&(g=2),m==="move"||m==="place_hub"){const N=u.buildings.find(d=>d.owner===a.owner&&d.type==="hub");N&&Math.abs(N.r-a.r)<=1&&Math.abs(N.c-a.c)<=1&&(g=Math.max(1,g-1))}return a.type===h.RANGER&&m==="move"&&(g=Math.max(2,g)),m==="move"&&a.status.moveCostDebuff>0&&(g+=a.status.moveCostDebuff),g=ut(a,g),g},tt=(a,c,u)=>{const m=Math.floor(a.startOfActionEnergy*ru);return a.energyUsedThisTurn+u>m?(O("log_energy_cap","error",{cap:m}),!1):!0},Bt=(a,c)=>{r(u=>({...u,players:{...u.players,[a]:{...u.players[a],energy:u.players[a].energy-c}}}))},ao=(a,c)=>{const u=ce.current,m=se(a,u);if(!m||m.type!==h.GENERAL)return;const k=u.players[m.owner].evolutionLevels[h.GENERAL].a,g=m.type===h.GENERAL&&k>=2?2:1,N=Math.abs(m.r-c.r)+Math.abs(m.c-c.c),d=Math.abs(m.r-c.r),x=Math.abs(m.c-c.c),P=d===0||x===0;if(N>g||!P){O("log_out_of_range","info");return}const I=u.players[m.owner].evolutionLevels[h.GENERAL].aVariant;if(m.hasFlag&&!(m.type===h.GENERAL&&k>=3&&I===1))return;const S=St[h.GENERAL].attackCost,B=ut(m,S),W=u.players[m.owner];if(W.energy<B){O("log_low_energy_attack","info");return}if(!tt(m,W,B))return;Bt(m.owner,B);let A=St[h.GENERAL].attackDmg;m.type===h.GENERAL&&k>=1&&(A=6);const L=u.players[c.owner];if(L.evolutionLevels[h.GENERAL].b>=2){const ae=L.flagPosition;Math.max(Math.abs(c.r-ae.r),Math.abs(c.c-ae.c))<=2&&(A=Math.floor(A*.7),O("log_evol_gen_b_dmg_reduce","evolution"))}u.isGodMode&&(A=0);let X=c.hp-A,Z=!1,ee=0;const oe={...u.players[m.owner].questStats};if(m.type===h.GENERAL&&(oe.generalDamage+=A),X<=0){X=0,Z=!0;const ae=u.players[c.owner];ee=3+Math.floor(ae.energy*.15)}if(r(ae=>{const ye=ae.players[m.owner],le=ae.players[c.owner];let we=0;m.type===h.GENERAL&&k>=3&&m.hasFlag&&I===1&&(we=2,O("log_evol_gen_a_heal","evolution"));const U=le.units.map(G=>{if(G.id===c.id){let K={...G.status};m.type===h.GENERAL&&k>=2&&(K.moveCostDebuff=(K.moveCostDebuff??0)+2,K.moveCostDebuffDuration=3,O("log_heavy_steps","evolution",void 0,m.owner),O("log_evol_gen_a_debuff_lv2","evolution"));let T=0;Z&&G.type!==h.GENERAL&&(T=ae.turnCount<=10?2:3);let q=c.r,ue=c.c;const re=ae.players[m.owner].evolutionLevels[h.GENERAL].aVariant;if(m.type===h.GENERAL&&k===3&&re===2&&!Z){const ze=c.r-m.r,Te=c.c-m.c,xe=c.r+ze,Zt=c.c+Te;xe>=0&&xe<ft&&Zt>=0&&Zt<zt&&!ae.cells[xe][Zt].isObstacle&&(ae.players[R.P1].units.some(st=>st.r===xe&&st.c===Zt&&!st.isDead)||ae.players[R.P2].units.some(st=>st.r===xe&&st.c===Zt&&!st.isDead)||(q=xe,ue=Zt))}return{...G,hp:X,isDead:Z,r:q,c:ue,hasFlag:!1,respawnTimer:T,status:K}}return G}),fe=ye.units.map(G=>{if(G.id===m.id){let K=G.r,T=G.c;return m.type===h.GENERAL&&k===3&&I===2&&(K=c.r,T=c.c),{...G,r:K,c:T,hp:Math.min(G.maxHp,G.hp+we),energyUsedThisTurn:G.energyUsedThisTurn+B}}return G});let _e=le.flagPosition;c.hasFlag&&Z&&(_e={r:c.r,c:c.c});let ve=!1,Le=null;return Z&&c.type===h.GENERAL&&(ve=!0,Le=m.owner),{...ae,gameOver:ve,winner:Le,players:{...ae.players,[m.owner]:{...ye,energy:ye.energy,energyFromKills:ye.energyFromKills+ee,questStats:oe,units:fe},[c.owner]:{...le,units:U,flagPosition:_e}}}}),O("log_attack_hit","combat",{attacker:Ne(m.type),target:Ne(c.type),dmg:A},m.owner),ee>0&&O("log_kill_reward","info",{amount:ee}),Z&&c.type!==h.GENERAL){const ae=n.turnCount<=10?2:3;O("log_unit_died","info",{unit:Ne(c.type),rounds:ae},c.owner)}if(m.type===h.GENERAL&&k>=3){const ae=c.r-m.r,ye=c.c-m.c,le=ae===0?0:ae>0?1:-1,we=ye===0?0:ye>0?1:-1,U=m.r+le,fe=m.c+we,_e=c.r+le,ve=c.c+we,Le=ce.current,G=U>=0&&U<ft&&fe>=0&&fe<zt&&!Le.cells[U][fe].isObstacle&&!Le.players[R.P1].units.find(T=>T.r===U&&T.c===fe&&!T.isDead)&&!Le.players[R.P2].units.find(T=>T.r===U&&T.c===fe&&!T.isDead),K=_e>=0&&_e<ft&&ve>=0&&ve<zt&&!Le.cells[_e][ve].isObstacle&&!Le.players[R.P1].units.find(T=>T.r===_e&&T.c===ve&&!T.isDead&&T.id!==c.id)&&!Le.players[R.P2].units.find(T=>T.r===_e&&T.c===ve&&!T.isDead&&T.id!==c.id);G&&K&&(r(T=>{const q=T.players[m.owner],ue=T.players[c.owner],re=q.units.map(Te=>Te.id===m.id?{...Te,r:U,c:fe}:Te),ze=ue.units.map(Te=>Te.id===c.id?{...Te,r:_e,c:ve}:Te);return{...T,players:{...T.players,[m.owner]:{...q,units:re},[c.owner]:{...ue,units:ze}}}}),O("log_evol_gen_a_knockback","evolution"))}o(null)},$i=()=>{r(a=>{const c=a.players[a.currentPlayer],m=a.mines.filter(N=>N.owner===a.currentPlayer).map(N=>`(${N.r+1},${N.c+1})`).join(", "),k=c.units.map(N=>`${Ne(N.type)}(${N.r+1},${N.c+1})`).join(", "),g=[...a.logs];return k&&g.unshift({turn:1,messageKey:"log_placement_units",params:{units:k},type:"move",owner:a.currentPlayer}),m&&g.unshift({turn:1,messageKey:"log_placement_mines",params:{mines:m},type:"move",owner:a.currentPlayer}),{...a,phase:"thinking",timeLeft:su,selectedUnitId:null,targetMode:null,logs:[{turn:1,messageKey:"log_planning_phase",params:{round:1},type:"info"},...g]}})},Bi=a=>{const c=[...a.mines];return a.buildings.filter(u=>u.type==="tower").forEach(u=>{c.forEach((m,k)=>{Math.abs(m.r-u.r)<=1&&Math.abs(m.c-u.c)<=1&&(m.revealedTo.includes(u.owner)||(c[k]={...m,revealedTo:[...m.revealedTo,u.owner]}))})}),c},io=()=>{r(a=>{const c=Bi(a);return{...a,phase:"action",timeLeft:lu,mines:c,players:{...a.players,[R.P1]:{...a.players[R.P1],startOfActionEnergy:a.players[R.P1].energy,units:a.players[R.P1].units.map(u=>({...u,startOfActionEnergy:a.players[R.P1].energy}))},[R.P2]:{...a.players[R.P2],startOfActionEnergy:a.players[R.P2].energy,units:a.players[R.P2].units.map(u=>({...u,startOfActionEnergy:a.players[R.P2].energy}))}},logs:[{turn:a.turnCount,messageKey:"log_action_phase",type:"info"},...a.logs]}}),o("move")},pr=a=>{const c=ce.current;if(!(c.gameOver||c.isPaused)){if(c.phase==="placement"){if(a.owner!==c.currentPlayer||c.selectedUnitId===a.id)return;if(c.selectedUnitId){const u=se(c.selectedUnitId);if(u&&u.owner===a.owner&&u.id!==a.id){If(u.id,a.id);return}}r(u=>({...u,selectedUnitId:a.id}));return}if(!(c.gameMode==="pve"&&a.owner===R.P2&&c.currentPlayer===R.P1&&l!=="attack")){if(c.phase==="thinking"){if(a.owner!==c.currentPlayer||c.selectedUnitId===a.id)return;r(u=>({...u,selectedUnitId:a.id})),o(null);return}if(a.hasActedThisRound&&a.owner===c.currentPlayer){O("log_unit_acted","info");return}if(c.activeUnitId&&c.activeUnitId!==a.id){if(a.owner===c.currentPlayer){O("log_committed","info");return}if(!(a.owner!==c.currentPlayer&&l==="attack"&&c.selectedUnitId))return}if(a.owner===c.currentPlayer){if(a.isDead||c.selectedUnitId===a.id)return;r(u=>({...u,selectedUnitId:a.id})),o("move")}else l==="attack"&&c.selectedUnitId&&ao(c.selectedUnitId,a)}}},If=(a,c)=>{r(u=>{const m=u.players[u.currentPlayer],k=m.units.findIndex(S=>S.id===a),g=m.units.findIndex(S=>S.id===c);if(k===-1||g===-1)return u;const N=[...m.units],d=N[k],x=N[g],P=d.r,I=d.c;return N[k]={...d,r:x.r,c:x.c},N[g]={...x,r:P,c:I},{...u,selectedUnitId:null,players:{...u.players,[u.currentPlayer]:{...m,units:N}}}}),O("log_swap","info")},Df=(a,c,u)=>{const m=n.players[a.owner].evolutionLevels[h.MINESWEEPER].b,k=n.players[a.owner].evolutionLevels[h.MINESWEEPER].bVariant;let g=5;m>=2&&(g=4),m===3&&k===1&&(g=3),m===3&&k===2&&(g=6);const N=ut(a,g);if(n.players[a.owner].energy<N){O("log_low_energy","info",{cost:N});return}if(Math.abs(a.r-c)+Math.abs(a.c-u)>3){O("log_scan_range","info");return}tt(a,n.players[a.owner],N)&&(Bt(a.owner,N),Yt(a.id),r(x=>{const P=x.players[a.owner],I=P.evolutionLevels[h.MINESWEEPER].b,S=P.evolutionLevels[h.MINESWEEPER].bVariant;let B=[...x.mines],W=0;if(I===3&&S===2)B=x.mines.map(L=>{const z=Math.abs(L.r-c),X=Math.abs(L.c-u);return z<=1&&X<=1?{...L,r:c,c:u}:L}),O("log_evolved","evolution",{unit:Ne(a.type),branch:"B",level:3});else if(I>=2){if(x.mines.forEach((L,z)=>{Math.abs(L.r-c)<=1&&Math.abs(L.c-u)<=1&&(L.revealedTo.includes(a.owner)||(B[z]={...L,revealedTo:[...L.revealedTo,a.owner]},W++))}),I===3&&S===1){const L=x.mines.filter(z=>Math.abs(z.r-a.r)<=1&&Math.abs(z.c-a.c)<=1).length;O("log_scan_count","info",{count:L,r:a.r+1,c:a.c+1},a.owner)}}else if(I>=1){const L=x.mines.filter(z=>Math.abs(z.r-c)<=1&&Math.abs(z.c-u)<=1).length;O("log_scan_count","info",{count:L,r:c+1,c:u+1},a.owner)}else B=x.mines.map(L=>L.r===c&&L.c===u&&!L.revealedTo.includes(a.owner)?(W++,{...L,revealedTo:[...L.revealedTo,a.owner]}):L);const A={...P.questStats};return A.sweeperMinesMarked+=W,{...x,mines:B,players:{...x.players,[a.owner]:{...P,questStats:A,units:P.units.map(L=>L.id===a.id?{...L,energyUsedThisTurn:L.energyUsedThisTurn+N}:L)}}}}),O("log_scan_area","move",{r:c+1,c:u+1},a.owner),o(null))},co=(a,c,u)=>{const m=n.players[a.owner].evolutionLevels[h.MINESWEEPER].a,k=n.players[a.owner].evolutionLevels[h.MINESWEEPER].aVariant,N=ut(a,8);if(n.players[a.owner].energy<N){O("log_low_energy","info",{cost:N});return}if(a.r!==c||a.c!==u){O("log_maker_range","info");return}tt(a,n.players[a.owner],N)&&(r(d=>{const x=d.players[a.owner],P=m===3&&k===1?2:1,I=d.buildings.filter(A=>A.owner===a.owner&&A.type==="tower");let S=d.buildings;if(I.length>=P){const A=I[0];S=S.filter(L=>L.id!==A.id)}const B={id:`tower-${a.owner}-${Date.now()}`,type:"tower",owner:a.owner,r:c,c:u,level:m,duration:m>=2?void 0:2},W=d.mines.map(A=>Math.abs(A.r-c)<=1&&Math.abs(A.c-u)<=1&&!A.revealedTo.includes(a.owner)?{...A,revealedTo:[...A.revealedTo,a.owner]}:A);return{...d,buildings:[...S,B],mines:W,players:{...d.players,[a.owner]:{...x,energy:x.energy-N,units:x.units.map(A=>A.id===a.id?{...A,energyUsedThisTurn:A.energyUsedThisTurn+N,isLocked:!0}:A)}},logs:[{turn:d.turnCount,messageKey:"log_placed_building",params:{type:"Factory"},owner:a.owner,type:"info"},...d.logs]}}),o(null))},Gi=a=>{const c=n.players[a.owner].evolutionLevels[h.MINESWEEPER].a,u=n.players[a.owner].evolutionLevels[h.MINESWEEPER].aVariant;if(c!==3||u!==2)return;const m=2;if(n.players[a.owner].energy<m){O("log_low_energy","info",{cost:m});return}Bt(a.owner,m),Yt(a.id),r(k=>{const g=k.buildings.filter(x=>x.owner===a.owner&&x.type==="tower");if(g.length===0)return k;const N=k.mines.filter(x=>g.some(P=>Math.abs(x.r-P.r)<=1&&Math.abs(x.c-P.c)<=1)).map(x=>x.id),d=k.buildings.filter(x=>!(x.owner===a.owner&&x.type==="tower"));return{...k,mines:k.mines.filter(x=>!N.includes(x.id)),buildings:d,players:{...k.players,[a.owner]:{...k.players[a.owner],units:k.players[a.owner].units.map(x=>x.id===a.id?{...x,energyUsedThisTurn:x.energyUsedThisTurn+m}:x)}}}}),O("log_evol_swp_detonate","mine",{r:a.r+1,c:a.c+1},a.owner),o(null)},Of=(a,c,u)=>{const m=ce.current,k=m.players[a.owner],g=k.evolutionLevels[h.MAKER].a,N=k.evolutionLevels[h.MAKER].b,d=k.evolutionLevels[h.MAKER].bVariant,x=m.mines.filter(oe=>oe.owner===a.owner).length,P=m.buildings.filter(oe=>oe.owner===a.owner&&oe.type==="factory"),I=P.some(oe=>Math.max(Math.abs(oe.r-c),Math.abs(oe.c-u))<=(oe.level>=2?2:1));let S=Se;if(S===ie.SMOKE&&!(g>=1||N>=2)&&(S=ie.NORMAL),S===ie.SLOW&&!(g>=2||N>=2)&&(S=ie.NORMAL),(S===ie.CHAIN||S===ie.NUKE)&&g<3)S=ie.NORMAL;else if(g>=3){const oe=k.evolutionLevels[h.MAKER].aVariant;S===ie.CHAIN&&oe!==1&&(S=ie.NORMAL),S===ie.NUKE&&oe!==2&&(S=ie.NORMAL)}const W=N===3&&d===1&&I?0:fu(S),A=ut(a,W);if(k.energy<A){O("log_low_energy","info",{cost:A});return}let L=!1;if(Math.abs(a.r-c)+Math.abs(a.c-u)<=1&&(L=!0),!L&&N>=1&&Math.max(Math.abs(a.r-c),Math.abs(a.c-u))<=1&&(L=!0),!L&&!I){O(x>=5?"log_maker_range":"log_maker_range_base","info");return}if(m.cells[c][u].isObstacle){O("log_obstacle","info");return}if([...m.players[R.P1].units,...m.players[R.P2].units].find(oe=>oe.r===c&&oe.c===u&&!oe.isDead)){O("log_obstacle","info");return}const Z=(()=>P.length===0?5:N===3?d===2?5+P.length*2:5+3:5+N)();if(x>=Z){O("log_max_mines","error");return}const ee=m.mines.filter(oe=>oe.owner===a.owner&&!P.some(ae=>Math.max(Math.abs(ae.r-oe.r),Math.abs(ae.c-oe.c))<=(ae.level>=2?2:1))).length;if(!I&&ee>=5){O("log_maker_range","error");return}tt(a,n.players[a.owner],A)&&(r(oe=>{const ae=oe.players[a.owner],ye={...ae.questStats};return ye.makerMinesPlaced+=1,{...oe,activeUnitId:a.id,mines:[...oe.mines,{id:`m-${Date.now()}`,owner:a.owner,type:S,r:c,c:u,revealedTo:[],immuneUnitIds:[...n.players[R.P1].units.filter(le=>le.r===c&&le.c===u).map(le=>le.id),...n.players[R.P2].units.filter(le=>le.r===c&&le.c===u).map(le=>le.id)]}],players:{...oe.players,[a.owner]:{...ae,energy:ae.energy-A,questStats:ye,units:ae.units.map(le=>le.id===a.id?{...le,energyUsedThisTurn:le.energyUsedThisTurn+A}:le)}}}}),O("log_mine_placed","mine",{r:c+1,c:u+1},a.owner),o(null),Nt(ie.NORMAL))},Yt=a=>{r(c=>{const u=se(a,c);if(!u)return c;const m=c.players[u.owner],k=m.units.map(g=>g.id===a?{...g,startOfActionEnergy:m.energy}:g);return{...c,activeUnitId:a,players:{...c.players,[u.owner]:{...m,startOfActionEnergy:m.energy,units:k}}}})},uo=()=>{const a=n.selectedUnitId?se(n.selectedUnitId):null;if(!a)return;const c=n.players[a.owner],u=c.evolutionLevels[h.GENERAL].b,m=c.evolutionLevels[h.GENERAL].bVariant;(a.type===h.GENERAL||u>=3&&m===1)&&(a.r!==c.flagPosition.r||a.c!==c.flagPosition.c||(r(g=>{const N=g.players[a.owner],d=N.units.map(x=>x.id===a.id?{...x,hasFlag:!0}:x);return{...g,activeUnitId:a.id,players:{...g.players,[a.owner]:{...N,units:d}}}}),O("log_committed","info"),O("log_flag_pickup","move",{r:a.r+1,c:a.c+1},a.owner)))},fo=()=>{const a=n.selectedUnitId?se(n.selectedUnitId):null;!a||!a.hasFlag||(r(c=>{const u=c.players[a.owner],m=u.units.map(k=>k.id===a.id?{...k,hasFlag:!1}:k);return{...c,activeUnitId:a.id,players:{...c.players,[a.owner]:{...u,units:m,flagPosition:{r:a.r,c:a.c}}}}}),O("log_committed","info"),O("log_flag_drop","move",{r:a.r+1,c:a.c+1},a.owner))},Dl=a=>{const c=n.selectedUnitId;if(!c)return;const u=se(c);if(!u||u.type!==h.RANGER)return;const m=n.players[u.owner];if(a==="pickup"){const g=m.evolutionLevels[h.RANGER].b>=1?1:0,N=n.mines.filter(d=>Math.abs(d.r-u.r)<=g&&Math.abs(d.c-u.c)<=g&&(d.owner===u.owner||d.revealedTo.includes(u.owner)));if(N.length===0){O("log_no_mine","error");return}N.length===1||g===0?Vi(u,N[0].r,N[0].c):(o("pickup_mine_select"),O("log_select_action","info"))}else{if(!u.carriedMine)return;if(n.mines.find(g=>g.r===u.r&&g.c===u.c)){O("log_space_has_mine","info");return}if(n.cells[u.r][u.c].isObstacle){O("log_obstacle","info");return}if(n.mines.filter(g=>g.owner===u.owner).length>=Nm){O("log_max_mines","error");return}r(g=>{const N=g.players[u.owner],d=N.units.map(P=>P.id===u.id?{...P,carriedMine:null}:P),x={id:`m-${Date.now()}`,owner:u.owner,type:u.carriedMine.type,r:u.r,c:u.c,revealedTo:[u.owner]};return{...g,mines:[...g.mines,x],players:{...g.players,[u.owner]:{...N,units:d}}}}),O("log_place_mine","move",{r:u.r+1,c:u.c+1},u.owner),Yt(u.id)}},Vi=(a,c,u)=>{const m=n.mines.findIndex(g=>g.r===c&&g.c===u);if(m===-1)return;const k=n.mines[m];r(g=>{const N=[...g.mines];N.splice(m,1);const d=g.players[a.owner],x={...d.questStats};x.rangerMinesMovedThisRound?x.rangerMinesMovedThisRound=new Set(x.rangerMinesMovedThisRound):x.rangerMinesMovedThisRound=new Set;const P=`carried-${a.id}`;x.rangerMinesMovedThisRound.has(P)||(x.rangerMinesMoved+=1,x.rangerMinesMovedThisRound.add(P));const I=d.units.map(S=>S.id===a.id?{...S,carriedMine:k}:S);return{...g,mines:N,players:{...g.players,[a.owner]:{...d,units:I,questStats:x}}}}),O("log_pickup_mine","move",{r:c+1,c:u+1},a.owner),Yt(a.id),o(null)},Ff=a=>{const c=se(a);if(!c)return;const u=n.players[c.owner];if(c.status.isStealthed){r(k=>{const g=k.players[c.owner],N=g.units.map(d=>d.id===a?{...d,status:{...d.status,isStealthed:!1}}:d);return{...k,players:{...k.players,[c.owner]:{...g,units:N}}}});return}const m=3;if(u.energy<m){O("log_low_energy","error",{cost:m});return}tt(c,u,m)&&(r(k=>{const g=k.players[c.owner],N=g.units.map(d=>d.id===a?{...d,energyUsedThisTurn:d.energyUsedThisTurn+m,status:{...d.status,isStealthed:!0}}:d);return{...k,players:{...k.players,[c.owner]:{...g,energy:g.energy-m,units:N}}}}),O("log_evolved","evolution",{unit:Ne(c.type),branch:"B",level:2}))},po=(a,c,u)=>{const k=Pe(a,8,n,"place_hub");if(n.players[a.owner].energy<k){O("log_low_energy","info",{cost:k});return}if(a.r!==c||a.c!==u){O("log_maker_range","info");return}tt(a,n.players[a.owner],k)&&(r(g=>{const N=g.players[a.owner],d=g.buildings.filter(S=>!(S.owner===a.owner&&S.type==="hub")),x=N.evolutionLevels[h.RANGER].a,P=N.evolutionLevels[h.RANGER].aVariant,I={id:`hub-${a.owner}-${Date.now()}`,type:"hub",owner:a.owner,r:c,c:u,level:x,variant:P,duration:void 0};return{...g,buildings:[...d,I],players:{...g.players,[a.owner]:{...N,energy:N.energy-k,units:N.units.map(S=>S.id===a.id?{...S,energyUsedThisTurn:S.energyUsedThisTurn+k,isLocked:!0}:S)}},logs:[{turn:g.turnCount,messageKey:"log_placed_building",params:{type:""},owner:a.owner,type:"info"},...g.logs]}}),o(null))},Ki=a=>{const c=n.buildings.find(N=>N.owner===a.owner&&N.type==="hub");if(!c)return;const u=n.players[a.owner].evolutionLevels[h.RANGER].a,m=n.players[a.owner].evolutionLevels[h.RANGER].aVariant;let k=6;if(a.type===h.RANGER)u>=2?u===3&&m===2?k=4:k=0:k=4;else{if(!(u===3&&m===2))return;k=6}if(n.players[a.owner].energy<k){O("log_low_energy","info",{cost:k});return}if((n.players[R.P1].units.some(N=>N.r===c.r&&N.c===c.c&&!N.isDead)||n.players[R.P2].units.some(N=>N.r===c.r&&N.c===c.c&&!N.isDead))&&!(c.r===a.r&&c.c===a.c)){O("log_space_has_mine","info");return}tt(a,n.players[a.owner],k)&&(Bt(a.owner,k),Yt(a.id),r(N=>{const d=a.owner,x=N.players[d],P=n.players[a.owner].evolutionLevels[h.RANGER].a,I=n.players[a.owner].evolutionLevels[h.RANGER].aVariant;let S=!0;P===3&&I===2?S=!1:P>=2&&a.type===h.RANGER&&(S=!0);const B=S?N.buildings.filter(W=>W.id!==c.id):N.buildings;return{...N,buildings:B,players:{...N.players,[d]:{...x,flagPosition:a.hasFlag?{r:c.r,c:c.c}:x.flagPosition,units:x.units.map(W=>W.id===a.id?{...W,r:c.r,c:c.c,energyUsedThisTurn:W.energyUsedThisTurn+k}:W)}}}}),O("log_evolved","evolution",{unit:Ne(a.type),branch:"A",level:2}),o(null))},Uf=(a,c,u)=>{if(!a.carriedMine)return;const k=ut(a,4);if(n.players[a.owner].energy<k){O("log_low_energy","info",{cost:k});return}const g=1;if(Math.max(Math.abs(a.r-c),Math.abs(a.c-u))>g){O("log_scan_range","info");return}tt(a,n.players[a.owner],k)&&(Bt(a.owner,k),Yt(a.id),r(d=>{const x=d.players[a.owner],P=x.units.map(B=>B.id===a.id?{...B,carriedMine:null,energyUsedThisTurn:B.energyUsedThisTurn+k}:B),I=[...d.players[R.P1].units,...d.players[R.P2].units].filter(B=>B.r===c&&B.c===u&&!B.isDead&&B.owner!==a.owner);let S={...d,players:{...d.players,[a.owner]:{...x,units:P}}};if(I.length>0)I.forEach(B=>{const W=ls,A=B.owner,L=S.players[A],z=L.units.map(X=>{if(X.id===B.id){const Z=Math.max(0,X.hp-W),ee=Z===0;return{...X,hp:Z,isDead:ee,respawnTimer:ee&&X.type!==h.GENERAL?d.turnCount<=10?2:3:0}}return X});S.players[A]={...L,units:z},O("log_hit_mine","mine",{unit:Ne(B.type),dmg:W},a.owner)});else{const B={id:`m-${Date.now()}`,owner:a.owner,type:a.carriedMine.type,r:c,c:u,revealedTo:[a.owner]};S.mines=[...d.mines,B]}return S}),O("log_place_mine","move",{r:c+1,c:u+1},a.owner),o(null))},mo=(a,c,u)=>{const m=n.players[a.owner],k=m.evolutionLevels[h.MAKER].b,g=m.evolutionLevels[h.MAKER].bVariant,d=ut(a,k===3&&g===2?4:6);if(n.players[a.owner].energy<d){O("log_low_energy","info",{cost:d});return}if(a.r!==c||a.c!==u){O("log_maker_range","info");return}tt(a,n.players[a.owner],d)&&(r(x=>{const P=x.players[a.owner],I=P.evolutionLevels[h.MAKER].b,S=P.evolutionLevels[h.MAKER].bVariant,B=I===3&&S===2?2:1;let W=x.buildings.filter(L=>L.owner===a.owner&&L.type==="factory");W.length>=B&&W.shift();const A={id:`factory-${a.owner}-${Date.now()}`,type:"factory",owner:a.owner,r:c,c:u,level:I,duration:void 0};return{...x,buildings:[...x.buildings.filter(L=>L.type!=="factory"||L.owner!==a.owner||W.find(z=>z.id===L.id)),A],players:{...x.players,[a.owner]:{...P,energy:P.energy-d,units:P.units.map(L=>L.id===a.id?{...L,energyUsedThisTurn:L.energyUsedThisTurn+d,isLocked:!0}:L)}},logs:[{turn:x.turnCount,messageKey:"log_placed_building",params:{type:""},owner:a.owner,type:"info"},...x.logs]}}),o(null))},ho=(a,c,u)=>{const m=ce.current,k=m.players[a.owner].evolutionLevels[h.DEFUSER].b,N=St[a.type].disarmCost||3,d=ut(a,N);if(m.players[a.owner].energy<d){O("log_low_energy","info",{cost:d});return}const x=Math.abs(a.r-c),P=Math.abs(a.c-u),I=Math.max(x,P);let S=a.type===h.DEFUSER?k>=1?2:1:0;if(I>S){O("log_disarm_range","info");return}const B=a.owner===R.P1?R.P2:R.P1,W=ce.current.players[B].units.find(z=>z.r===c&&z.c===u&&!z.isDead),A=ce.current.mines.findIndex(z=>z.r===c&&z.c===u&&z.owner!==a.owner&&(z.revealedTo.includes(a.owner)||W));if(A!==-1){if(!tt(a,ce.current.players[a.owner],d))return;Bt(a.owner,d),Yt(a.id),r(z=>{const X=z.mines.filter((ee,oe)=>oe!==A),Z={...z.players[a.owner].questStats};return Z.defuserMinesDisarmed+=1,{...z,mines:X,players:{...z.players,[a.owner]:{...z.players[a.owner],questStats:Z,units:z.players[a.owner].units.map(ee=>ee.id===a.id?{...ee,energyUsedThisTurn:ee.energyUsedThisTurn+d}:ee)}}}}),O("log_mine_disarmed","mine",{r:c+1,c:u+1},a.owner),o(null);return}const L=ce.current.buildings.findIndex(z=>z.r===c&&z.c===u&&z.owner!==a.owner);if(L!==-1){if(!tt(a,ce.current.players[a.owner],d))return;Bt(a.owner,d),Yt(a.id),r(z=>{const X=z.buildings.filter((Z,ee)=>ee!==L);return{...z,buildings:X,players:{...z.players,[a.owner]:{...z.players[a.owner],units:z.players[a.owner].units.map(Z=>Z.id===a.id?{...Z,energyUsedThisTurn:Z.energyUsedThisTurn+d}:Z)}}}}),O("log_building_dismantled","info",{r:c+1,c:u+1},a.owner),o(null);return}O("log_no_mine","info")},$f=(a,c,u,m,k)=>{const g=n.players[a.owner].evolutionLevels[h.DEFUSER].b,N=n.players[a.owner].evolutionLevels[h.DEFUSER].bVariant;if(g<2)return;const d=g===3&&N===2,x=d?5:2;if(n.players[a.owner].energy<x){O("log_low_energy","info",{cost:x});return}const P=Math.abs(a.r-c),I=Math.abs(a.c-u);if(P>2||I>2)return;const S=Math.abs(a.r-m),B=Math.abs(a.c-k);if(S>2||B>2)return;const W=n.mines.findIndex(A=>A.r===c&&A.c===u&&A.owner!==a.owner);W!==-1&&tt(a,n.players[a.owner],x)&&(Bt(a.owner,x),Yt(a.id),r(A=>{const L=A.mines[W],z=[...A.mines],X=a.owner===R.P1?R.P2:R.P1,Z=A.players[X].units.find(ee=>ee.r===m&&ee.c===k&&!ee.isDead);if(d&&Z){const ee=Math.floor(ls*.4),oe=Math.max(0,Z.hp-ee),ae=oe===0;let ye=0;return ae&&Z.type!==h.GENERAL&&(ye=A.turnCount<=10?2:3),{...A,mines:z.filter((le,we)=>we!==W),players:{...A.players,[X]:{...A.players[X],units:A.players[X].units.map(le=>le.id===Z.id?{...le,hp:oe,isDead:ae,respawnTimer:ye}:le)},[a.owner]:{...A.players[a.owner],units:A.players[a.owner].units.map(le=>le.id===a.id?{...le,energyUsedThisTurn:le.energyUsedThisTurn+x}:le)}}}}return z[W]={...L,r:m,c:k},{...A,mines:z,players:{...A.players,[a.owner]:{...A.players[a.owner],units:A.players[a.owner].units.map(ee=>ee.id===a.id?{...ee,energyUsedThisTurn:ee.energyUsedThisTurn+x}:ee)}}}}),O("log_evol_def_move_mine","mine"),o(null))},Bf=(a,c,u)=>{const m=n.players[a.owner].evolutionLevels[h.DEFUSER].b,k=n.players[a.owner].evolutionLevels[h.DEFUSER].bVariant;if(m!==3||k!==1)return;const g=5;if(n.players[a.owner].energy<g){O("log_low_energy","info",{cost:g});return}const N=n.mines.findIndex(d=>d.r===c&&d.c===u&&d.owner!==a.owner);N!==-1&&tt(a,n.players[a.owner],g)&&(Bt(a.owner,g),Yt(a.id),r(d=>{const x=d.mines[N],P=[...d.mines];return P[N]={...x,owner:a.owner,revealedTo:[a.owner]},{...d,mines:P,players:{...d.players,[a.owner]:{...d.players[a.owner],units:d.players[a.owner].units.map(I=>I.id===a.id?{...I,energyUsedThisTurn:I.energyUsedThisTurn+g}:I)}}}}),O("log_evol_def_convert_mine","mine",{r:c+1,c:u+1},a.owner),o(null))},Ol=(a,c)=>{const u=n.players[n.currentPlayer],m=u.evolutionLevels[a][c],k=Ve[m];if(u.energy<k){O("log_low_energy_evolve","info");return}r(g=>{const N=g.players[g.currentPlayer],d=N.evolutionLevels[a][c];if(d>=3)return g;const x={...N.evolutionLevels};return x[a]={...x[a],[c]:d+1},{...g,players:{...g.players,[g.currentPlayer]:{...N,energy:N.energy-k,evolutionLevels:x},buildings:a===h.MAKER&&c==="b"?g.buildings.map(P=>P.owner===N.id&&P.type==="factory"?{...P,level:d+1}:P):g.buildings},activeUnitId:g.selectedUnitId,logs:[{turn:g.turnCount,messageKey:"log_committed",type:"info"},{turn:g.turnCount,messageKey:"log_evolved",params:{unit:Ne(a),branch:c.toUpperCase(),level:d+1},type:"evolution"},...g.logs]}})},Hi=()=>{r(a=>({...a,isPaused:!a.isPaused}))};de.useEffect(()=>{Ge.current&&(e==="game"?n.isPaused||y===0?Ge.current.pause():Ge.current.play().catch(()=>{}):e==="lobby"&&(y===0?Ge.current.pause():Ge.current.play().catch(()=>{})))},[n.isPaused,y,e]),de.useEffect(()=>{Ge.current&&(Ge.current.loop=!0,Ge.current.volume=y,y>0&&(e==="game"&&!n.isPaused?Ge.current.play().catch(()=>{}):e==="lobby"&&Ge.current.play().catch(()=>{})))},[e,y,n.isPaused]),de.useEffect(()=>{if(e!=="game")return;const a=c=>{const u=ce.current;if(u.gameOver||u.isPaused)return;if(c.key==="Enter"){if(c.preventDefault(),u.phase==="thinking")io();else if(u.phase==="action"){const N=u.players[u.currentPlayer].units.find(d=>!d.isDead&&!d.hasActedThisRound);N&&(r(d=>{const x=Bi(d);return{...d,mines:x,activeUnitId:null,selectedUnitId:null}}),O("log_skip","move",{unit:Ne(N.type)},N.owner),qn(N.id))}return}const m=u.players[u.currentPlayer];let k=-1;switch(c.key.toLowerCase()){case"q":k=0;break;case"w":k=1;break;case"e":k=2;break;case"r":k=3;break;case"t":k=4;break;default:return}if(k>=m.units.length)return;const g=m.units[k];g&&(c.preventDefault(),pr(g))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e]);const He=(a,c)=>{if(!c)return-1;let u=0;if(a==="move")return 1;u=2;const m=n.players[c.owner],k=c.type===h.MINESWEEPER&&m.evolutionLevels[h.MINESWEEPER].a>=1,g=c.type===h.MAKER&&m.evolutionLevels[h.MAKER].b>=1,N=c.type===h.RANGER&&m.evolutionLevels[h.RANGER].a>=1;if(k||g||N){if(a==="place_tower"||a==="place_factory"||a==="place_hub")return u;u++}if(n.buildings.some(L=>L.r===c.r&&L.c===c.c&&L.owner!==c.owner)){if(a==="custom_dismantle")return u;u++}if(c.type===h.GENERAL){const L=m.evolutionLevels[h.GENERAL].a;if(!c.hasFlag||L>=3){if(a==="attack")return u;u++}}else if(c.type===h.MINESWEEPER){if(a==="scan"||(u++,a==="detonate_tower"))return u;u++}else if(c.type===h.MAKER){if(a==="place_mine")return u;u++}else if(c.type===h.RANGER){const z=m.evolutionLevels[h.RANGER].b>=1?1:0,X=n.mines.find(Z=>Math.abs(Z.r-c.r)<=z&&Math.abs(Z.c-c.c)<=z&&(Z.owner===c.owner||Z.revealedTo.includes(c.owner)));if(!c.carriedMine&&X){if(a==="pickup_mine")return u;u++}if(c.carriedMine){if(a==="throw_mine"||(u++,a==="drop_mine"))return u;u++}}else if(c.type===h.DEFUSER){if(a==="disarm")return u;u++;const L=m.evolutionLevels[h.DEFUSER].b;if(L>=2){if(a==="move_mine_start")return u;u++}if(L===3&&m.evolutionLevels[h.DEFUSER].bVariant===1){if(a==="convert_mine")return u;u++}}const x=m.evolutionLevels[h.RANGER].a,P=m.evolutionLevels[h.RANGER].aVariant,I=n.buildings.some(L=>L.owner===c.owner&&L.type==="hub");if((c.type===h.RANGER&&x>=2||x===3&&P===2)&&I){if(a==="teleport")return u;u++}const B=m.evolutionLevels[h.GENERAL].b,W=c.type===h.GENERAL||B>=3,A=c.r===m.flagPosition.r&&c.c===m.flagPosition.c;if(W){if(!c.hasFlag&&A){if(a==="pickup_flag")return u;u++}if(c.hasFlag){if(a==="drop_flag")return u;u++}}if(c.type!==h.GENERAL){const L=n.players[c.owner],X=L.evolutionLevels[h.GENERAL].b>=3,Z=c.r===L.flagPosition.r&&c.c===L.flagPosition.c;if(X){if(!c.hasFlag&&Z){if(a==="pickup_flag")return u;u++}if(c.hasFlag){if(a==="drop_flag")return u;u++}}}if(a==="end_turn"){const L=n.players[c.owner],z=L.evolutionLevels[c.type].a,X=L.evolutionLevels[c.type].b,Z=L.questStats,ee=Zn[c.type].a.thresholds[z],oe=Zn[c.type].b.thresholds[X];let ae=!1,ye=!1;c.type===h.GENERAL?(ae=Z.generalDamage>=ee,ye=Z.generalFlagSteps>=oe):c.type===h.MINESWEEPER?(ae=Z.sweeperMinesMarked>=ee,ye=Z.consecutiveSafeRounds>=oe):c.type===h.RANGER?(ae=Z.rangerSteps>=ee,ye=Z.rangerMinesMoved>=oe):c.type===h.MAKER?(ae=Z.makerMinesTriggeredByEnemy>=ee,ye=Z.makerMinesPlaced>=oe):c.type===h.DEFUSER&&(ae=Z.defuserMinesSoaked>=ee,ye=Z.defuserMinesDisarmed>=oe);const le=z<3&&L.energy>=Ve[z]&&ae,we=X<3&&L.energy>=Ve[X]&&ye,U=L.evolutionLevels[c.type].aVariant,fe=L.evolutionLevels[c.type].bVariant,_e=z===2&&le&&!U,ve=X===2&&we&&!fe;return _e?u+=2:le&&(u+=1),ve?u+=2:we&&(u+=1),u}return-1},Fl=a=>{if(!a)return-1;const c=["evolve_a_1","evolve_a","evolve_a_2","evolve_b_1","evolve_b","evolve_b_2"];for(const u of c){const m=He(u,a);if(m>0)return m}return-1};de.useEffect(()=>{if(e!=="game")return;const a=c=>{const u=ce.current;if(u.gameOver||u.isPaused||u.phase!=="action"||!u.selectedUnitId)return;const m=se(u.selectedUnitId,u);if(!m||m.owner!==u.currentPlayer)return;const g=["1","2","3","4","5","6","7","8","9"].indexOf(c.key);if(g===-1)return;c.preventDefault();const N=u.players[m.owner],d=[];d.push({type:"move",action:"move"});const x=m.type===h.MINESWEEPER&&N.evolutionLevels[h.MINESWEEPER].a>=1,P=m.type===h.MAKER&&N.evolutionLevels[h.MAKER].b>=1,I=m.type===h.RANGER&&N.evolutionLevels[h.RANGER].a>=1;x&&d.push({type:"place_tower",action:"place_tower"}),P&&d.push({type:"place_factory",action:"place_factory"}),I&&d.push({type:"place_hub",action:"place_hub"}),u.buildings.some(K=>K.r===m.r&&K.c===m.c&&K.owner!==m.owner)&&d.push({type:"custom_dismantle",action:"custom_dismantle"});const B=N.evolutionLevels[h.RANGER].a,W=N.evolutionLevels[h.RANGER].aVariant;if((m.type===h.RANGER&&B>=2||B===3&&W===2)&&d.push({type:"teleport",action:"teleport"}),m.type===h.GENERAL)(!m.hasFlag||N.evolutionLevels[h.GENERAL].a>=3)&&d.push({type:"attack",action:"attack"});else if(m.type===h.MINESWEEPER)d.push({type:"scan",action:"scan"}),N.evolutionLevels[h.MINESWEEPER].a===3&&N.evolutionLevels[h.MINESWEEPER].aVariant===2&&d.push({type:"detonate_tower",action:"detonate_tower"});else if(m.type===h.MAKER)d.push({type:"place_mine",action:"place_mine"});else if(m.type===h.RANGER){const K=u.mines.find(T=>T.r===m.r&&T.c===m.c);!m.carriedMine&&K&&d.push({type:"pickup_mine",action:"pickup_mine"}),m.carriedMine&&(N.evolutionLevels[h.RANGER].b===3&&N.evolutionLevels[h.RANGER].bVariant===2&&d.push({type:"throw_mine",action:"throw_mine"}),d.push({type:"drop_mine",action:"drop_mine"}))}else m.type===h.DEFUSER&&(d.push({type:"disarm",action:"disarm"}),N.evolutionLevels[h.DEFUSER].b>=2&&d.push({type:"move_mine_start",action:"move_mine_start"}),N.evolutionLevels[h.DEFUSER].b===3&&N.evolutionLevels[h.DEFUSER].bVariant===1&&d.push({type:"convert_mine",action:"convert_mine"}));const L=N.evolutionLevels[h.GENERAL].b,z=m.type===h.GENERAL||L>=3,X=m.r===N.flagPosition.r&&m.c===N.flagPosition.c;z&&(!m.hasFlag&&X&&d.push({type:"pickup_flag",action:"pickup_flag"}),m.hasFlag&&d.push({type:"drop_flag",action:"drop_flag"}));const Z=N.evolutionLevels[m.type].a,ee=N.evolutionLevels[m.type].b,oe=N.questStats,ae=Zn[m.type].a.thresholds[Z],ye=Zn[m.type].b.thresholds[ee];let le=!1,we=!1;m.type===h.GENERAL?(le=oe.generalDamage>=ae,we=oe.generalFlagSteps>=ye):m.type===h.MINESWEEPER?(le=oe.sweeperMinesMarked>=ae,we=oe.consecutiveSafeRounds>=ye):m.type===h.RANGER?(le=oe.rangerSteps>=ae,we=oe.rangerMinesMoved>=ye):m.type===h.MAKER?(le=oe.makerMinesTriggeredByEnemy>=ae,we=oe.makerMinesPlaced>=ye):m.type===h.DEFUSER&&(le=oe.defuserMinesSoaked>=ae,we=oe.defuserMinesDisarmed>=ye);const U=Z<3&&N.energy>=Ve[Z]&&le,fe=ee<3&&N.energy>=Ve[ee]&&we,_e=N.evolutionLevels[m.type].aVariant,ve=N.evolutionLevels[m.type].bVariant,Le=Z===2&&U&&!_e,G=ee===2&&fe&&!ve;if(Le?(d.push({type:"evolve_a_1",action:"evolve_a_1"}),d.push({type:"evolve_a_2",action:"evolve_a_2"})):U&&d.push({type:"evolve_a",action:"evolve_a"}),G?(d.push({type:"evolve_b_1",action:"evolve_b_1"}),d.push({type:"evolve_b_2",action:"evolve_b_2"})):fe&&d.push({type:"evolve_b",action:"evolve_b"}),d.push({type:"end_turn",action:"end_turn"}),g<d.length)switch(d[g].action){case"move":o("move");break;case"attack":o("attack");break;case"scan":o("scan");break;case"place_mine":o("place_mine");break;case"disarm":o("disarm");break;case"place_tower":co(m,m.r,m.c);break;case"place_factory":mo(m,m.r,m.c);break;case"place_hub":po(m,m.r,m.c);break;case"teleport":Ki(m);break;case"custom_dismantle":ho(m,m.r,m.c);break;case"detonate_tower":Gi(m);break;case"throw_mine":o("throw_mine");break;case"move_mine_start":o("move_mine_start");break;case"convert_mine":o("convert_mine");break;case"pickup_flag":uo();break;case"drop_flag":fo();break;case"pickup_mine":Dl("pickup");break;case"drop_mine":Dl("drop");break;case"evolve_a_1":r(T=>{const q=T.players[T.currentPlayer],ue={...q.evolutionLevels};return ue[m.type]={...ue[m.type],a:3,aVariant:1},{...T,activeUnitId:T.selectedUnitId,players:{...T.players,[T.currentPlayer]:{...q,evolutionLevels:ue,energy:q.energy-Ve[2]}},logs:[{turn:T.turnCount,messageKey:"log_committed",type:"info"},{turn:T.turnCount,messageKey:"log_evolved",params:{unit:Ne(m.type),branch:"A",level:3},type:"evolution"},...T.logs]}});break;case"evolve_a_2":r(T=>{const q=T.players[T.currentPlayer],ue={...q.evolutionLevels};return ue[m.type]={...ue[m.type],a:3,aVariant:2},{...T,activeUnitId:T.selectedUnitId,players:{...T.players,[T.currentPlayer]:{...q,evolutionLevels:ue,energy:q.energy-Ve[2]}},logs:[{turn:T.turnCount,messageKey:"log_committed",type:"info"},{turn:T.turnCount,messageKey:"log_evolved",params:{unit:Ne(m.type),branch:"A",level:3},type:"evolution"},...T.logs]}});break;case"evolve_a":Ol(m.type,"a");break;case"evolve_b_1":r(T=>{const q=T.players[T.currentPlayer],ue={...q.evolutionLevels};return ue[m.type]={...ue[m.type],b:3,bVariant:1},{...T,activeUnitId:T.selectedUnitId,players:{...T.players,[T.currentPlayer]:{...q,evolutionLevels:ue,energy:q.energy-Ve[2],units:q.units.map(re=>m.type===h.RANGER&&re.type===h.RANGER?{...re,status:{...re.status,isStealthed:!0}}:re)}},logs:[{turn:T.turnCount,messageKey:"log_committed",type:"info"},{turn:T.turnCount,messageKey:"log_evolved",params:{unit:Ne(m.type),branch:"B",level:3},type:"evolution"},...T.logs]}});break;case"evolve_b_2":r(T=>{const q=T.players[T.currentPlayer],ue={...q.evolutionLevels};return ue[m.type]={...ue[m.type],b:3,bVariant:2},{...T,activeUnitId:T.selectedUnitId,players:{...T.players,[T.currentPlayer]:{...q,evolutionLevels:ue,energy:q.energy-Ve[2]}},logs:[{turn:T.turnCount,messageKey:"log_committed",type:"info"},{turn:T.turnCount,messageKey:"log_evolved",params:{unit:Ne(m.type),branch:"B",level:3},type:"evolution"},...T.logs]}});break;case"evolve_b":Ol(m.type,"b");break;case"end_turn":qn(u.selectedUnitId);break}};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e]),de.useEffect(()=>{if(e!=="game")return;const a=c=>{const u=ce.current;if(u.gameOver||u.isPaused||u.phase==="thinking"||u.phase==="placement"||u.gameMode==="pve"&&u.currentPlayer===R.P2||!u.selectedUnitId)return;const m=se(u.selectedUnitId,u);if(!m||m.owner!==u.currentPlayer||m.isDead||m.hasActedThisRound||u.activeUnitId&&u.activeUnitId!==m.id)return;let k=0,g=0;switch(c.key){case"ArrowUp":k=-1;break;case"ArrowDown":k=1;break;case"ArrowLeft":g=-1;break;case"ArrowRight":g=1;break;default:return}c.preventDefault();const N=m.r+k,d=m.c+g;if(N<0||N>=ft||d<0||d>=zt||u.players[R.P1].units.some(S=>S.r===N&&S.c===d&&!S.isDead)||u.players[R.P2].units.some(S=>S.r===N&&S.c===d&&!S.isDead))return;let P=St[m.type].moveCost;m.type===h.GENERAL&&m.hasFlag?P=u.players[m.owner].evolutionLevels[h.GENERAL].b>=3?4:St[h.GENERAL].flagMoveCost:m.hasFlag?P=4:m.type===h.RANGER&&m.carriedMine&&(P=3);const I=Pe(m,P);l!=="move"&&o("move"),go(m.id,N,d,I)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,l]),de.useEffect(()=>{if(e!=="game")return;const a=c=>{c.key===" "&&(c.preventDefault(),v(u=>!u))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e]);const Gf=de.useCallback(()=>{const a=ce.current,c=a.players[R.P1],u=a.players[R.P2];c.flagPosition.r===hn.r&&c.flagPosition.c===hn.c&&(r(m=>({...m,gameOver:!0,winner:R.P1})),O("log_victory","info",{player:"Player 1"})),u.flagPosition.r===mn.r&&u.flagPosition.c===mn.c&&(r(m=>({...m,gameOver:!0,winner:R.P2})),O("log_victory","info",{player:"Player 2"}))},[]),qn=(a,c=!1)=>{const u=ce.current;if(u.phase==="thinking"||u.phase==="placement")return;let m=a,k=null;if(c&&O("log_timeout","info",{player:u.currentPlayer}),a&&!c){const S=se(a,u);if(S&&S.owner===u.currentPlayer&&!S.hasActedThisRound){const B=u.movements.some(A=>A.unitId===a),W=S.energyUsedThisTurn>0;!B&&!W&&(k={turn:u.turnCount,messageKey:"log_pass_turn",params:{unit:Ne(S.type)},type:"move",owner:S.owner})}}if(!m){const B=u.players[u.currentPlayer].units.find(W=>!W.isDead&&!W.hasActedThisRound);B&&(m=B.id,O("log_pass","info",{player:u.currentPlayer,unit:Ne(B.type)}))}let g={...u},N=[];if(m){const S=se(m,u);S&&(g={...g,selectedUnitId:null,activeUnitId:null,players:{...g.players,[S.owner]:{...g.players[S.owner],units:g.players[S.owner].units.map(B=>{if(B.id===S.id){let W={...B,hasActedThisRound:!0};if(!u.movements.some(A=>A.unitId===S.id)&&B.energyUsedThisTurn===0){const L=Math.min(B.maxHp,B.hp+3),z=L-B.hp;W.hp=L,z>0&&N.push({unitId:S.id,unitType:B.type,amount:z,owner:S.owner})}return W}return B})}}})}const d=g.players[R.P1].units,x=g.players[R.P2].units,P=d.every(S=>S.isDead||S.hasActedThisRound),I=x.every(S=>S.isDead||S.hasActedThisRound);if(P&&I)Hf(g),o(null);else{let S=u.currentPlayer===R.P1?R.P2:R.P1;g.players[S].units.some(z=>!z.isDead&&!z.hasActedThisRound)||(S=u.currentPlayer);let W=[...g.logs];k&&W.unshift(k),N.forEach(z=>{W.unshift({turn:g.turnCount,messageKey:"log_passive_heal",params:{unit:Ne(z.unitType),amount:z.amount},type:"move",owner:z.owner})});const A={};g.movements.forEach(z=>{A[z.unitId]?A[z.unitId].to={...z.to}:A[z.unitId]={unitId:z.unitId,from:{...z.from},to:{...z.to}}}),Object.values(A).forEach(z=>{const X=se(z.unitId,g);X&&W.unshift({turn:g.turnCount,messageKey:"log_move_action",params:{unit:Ne(X.type),fromR:z.from.r+1,fromC:z.from.c+1,toR:z.to.r+1,toC:z.to.c+1},type:"move",owner:X.owner})});let L={...g.players};if(S===u.currentPlayer){const z=L[S],X=z.units.find(Z=>!Z.isDead&&!Z.hasActedThisRound);if(X){const Z=z.energy;L[S]={...z,startOfActionEnergy:Z,units:z.units.map(ee=>ee.id===X.id?{...ee,startOfActionEnergy:Z}:ee)}}}else{const z=L[S];L[S]={...z,startOfActionEnergy:z.energy,units:z.units.map(X=>!X.isDead&&!X.hasActedThisRound?{...X,startOfActionEnergy:z.energy}:X)}}r({...g,currentPlayer:S,activeUnitId:null,selectedUnitId:null,timeLeft:lu,movements:[],logs:W,players:L}),o(null),g.gameMode==="pve"&&S===R.P2&&setTimeout(()=>Kf(),1e3)}},Vf=(a=n)=>{const c=a.players[a.currentPlayer],u=[h.GENERAL,h.MINESWEEPER,h.RANGER,h.MAKER,h.DEFUSER];for(const m of u){const k=c.units.find(g=>g.type===m);if(k&&!k.isDead&&!k.hasActedThisRound)return k}return null},Kf=()=>{const a=ce.current;if(a.gameMode!=="pve"||a.currentPlayer!==R.P2||a.gameOver)return;const c=a.players[R.P2].units.filter(m=>!m.isDead&&!m.hasActedThisRound);if(c.length===0){qn(null);return}const u=c[Math.floor(Math.random()*c.length)];if(Math.random()<.6){const m=a.players[R.P1].flagPosition,k=[{r:-1,c:0},{r:1,c:0},{r:0,c:-1},{r:0,c:1}];let g=k[0],N=Math.abs(u.r+g.r-m.r)+Math.abs(u.c+g.c-m.c);for(const P of k){const I=u.r+P.r,S=u.c+P.c;if(I>=0&&I<ft&&S>=0&&S<zt){const B=Math.abs(I-m.r)+Math.abs(S-m.c);B<N&&(N=B,g=P)}}const d=u.r+g.r,x=u.c+g.c;if(d>=0&&d<ft&&x>=0&&x<zt){const P=St[u.type].moveCost,I=Pe(u,P,n);go(u.id,d,x,I);return}}qn(u.id)},Hf=a=>{const c=a.turnCount+1,u=a.players[R.P1],m=a.players[R.P2],k=a.smokes.map(G=>({...G,duration:G.duration-1})).filter(G=>G.duration>0),g=a.cells.map(G=>G.map(K=>({...K}))),N=G=>{let K=0;return G.forEach(T=>{if(!T.isDead){const q=g[T.r][T.c];q.hasEnergyOre&&q.oreSize&&(K+=au[q.oreSize],q.hasEnergyOre=!1,q.oreSize=null)}}),K},d=N(u.units),x=N(m.units);let P=rs;c>=12?P=50:c>=8?P=45:c>=4&&(P=40);const I=(G,K,T)=>{const q=Math.min(Math.floor(G/10),nu);return G+P+q+K+T},S=(G,K)=>{let T={...G.questStats};T.triggeredMineThisRound||(T.consecutiveSafeRounds+=1),T.triggeredMineThisRound=!1,T.rangerMinesMovedThisRound=new Set;const q=I(G.energy,K,G.energyFromKills);return{...G,energy:q,startOfRoundEnergy:q,startOfActionEnergy:q,energyFromKills:0,movesMadeThisTurn:0,flagMovesMadeThisTurn:0,nonGeneralFlagMovesMadeThisTurn:0,questStats:T}},B=(G,K,T)=>{const q=[];return G.map((re,ze)=>{const Te=Math.max(0,(re.status.moveCostDebuffDuration||0)-1);let xe={...re,hasActedThisRound:!1,energyUsedThisTurn:0,startOfActionEnergy:K.energy,status:{...re.status,moveCostDebuffDuration:Te,moveCostDebuff:Te>0?re.status.moveCostDebuff:0}};if(xe.isDead&&xe.respawnTimer>0&&(xe.respawnTimer-=1),xe.isDead&&xe.respawnTimer===0&&xe.type!==h.GENERAL){const on=Af(K.id),st=on[ze];let dt=st;if(G.some((bn,an)=>an!==ze&&bn.r===st.r&&bn.c===st.c&&!bn.isDead)){const bn=[];for(let an=-1;an<=1;an++)for(let mr=-1;mr<=1;mr++){const hr=st.r+an,cn=st.c+mr;if(hr>=0&&hr<ft&&cn>=0&&cn<zt){const yo=G.some((vo,Qf)=>Qf!==ze&&vo.r===hr&&vo.c===cn&&!vo.isDead),qf=g[hr][cn].isObstacle;!yo&&!qf&&bn.push({r:hr,c:cn})}}if(bn.length>0)dt=bn[Math.floor(Math.random()*bn.length)];else{const an=on.filter((mr,hr)=>!G.some((cn,yo)=>yo!==ze&&cn.r===mr.r&&cn.c===mr.c&&!cn.isDead));an.length>0&&(dt=an[Math.floor(Math.random()*an.length)])}}xe.isDead=!1,xe.hp=xe.maxHp,xe.r=dt.r,xe.c=dt.c,xe.respawnTimer=0,q.push(Ne(xe.type)),T.unshift({turn:c,messageKey:"log_unit_resurrected",params:{unit:Ne(xe.type),r:dt.r+1,c:dt.c+1},type:"info",owner:K.id})}if(K.evolutionLevels[h.GENERAL].b>=1&&!xe.isDead){const on=K.flagPosition;(K.id===R.P1?xe.c<on.c:xe.c>on.c)&&(xe.hp=Math.min(xe.maxHp,xe.hp+1))}return xe})};for(let G=0;G<2;G++){const K=Math.floor(Math.random()*ft),T=Math.floor(Math.random()*(17-6)+6),q=g[K][T];if(!q.isObstacle&&!q.hasEnergyOre&&!q.isFlagBase){q.hasEnergyOre=!0;const ue=Math.random();let re=.6,ze=.9;c>3&&(re=.4,ze=.8),c>8&&(re=.3,ze=.6),q.oreSize=ue<re?"small":ue<ze?"medium":"large"}}const W=S(u,d),A=S(m,x);let L=[...a.mines],z=[...a.logs];const X={};a.movements.forEach(G=>{X[G.unitId]?X[G.unitId].to={...G.to}:X[G.unitId]={unitId:G.unitId,from:{...G.from},to:{...G.to}}}),Object.values(X).forEach(G=>{const K=se(G.unitId,a);K&&z.unshift({turn:a.turnCount,messageKey:"log_move_action",params:{unit:Ne(K.type),fromR:G.from.r+1,fromC:G.from.c+1,toR:G.to.r+1,toC:G.to.c+1},type:"move",owner:K.owner})});const Z=[...z],ee=[...z],oe=B(u.units,W,Z),ae=B(m.units,A,ee);z=[...Z,...ee.filter(G=>!Z.includes(G))];let ye=oe,le=ae;const we=W.evolutionLevels[h.GENERAL].b,U=W.evolutionLevels[h.GENERAL].bVariant,fe=W.flagPosition;we>=1&&(ye=ye.map(G=>{if(!G.isDead&&G.c<=fe.c){const K=Math.min(G.maxHp,G.hp+1);return K>G.hp&&z.unshift({turn:c,messageKey:"log_evol_gen_b_heal",type:"evolution",owner:R.P1}),{...G,hp:K}}return G}));const _e=A.evolutionLevels[h.GENERAL].b,ve=A.evolutionLevels[h.GENERAL].bVariant,Le=A.flagPosition;if(_e>=1&&(le=le.map(G=>{if(!G.isDead&&G.c>=Le.c){const K=Math.min(G.maxHp,G.hp+1);return K>G.hp&&z.unshift({turn:c,messageKey:"log_evol_gen_b_heal",type:"evolution",owner:R.P2}),{...G,hp:K}}return G})),we>=3&&U===2){const G=W.flagPosition;le=le.map(K=>{if(!K.isDead&&Math.max(Math.abs(K.r-G.r),Math.abs(K.c-G.c))<=1){const q=Math.max(0,K.hp-4);q!==K.hp&&z.unshift({turn:c,messageKey:"log_evol_gen_b_damage_zone",params:{unit:Ne(K.type),dmg:K.hp-q},type:"evolution",owner:R.P2});const ue=q===0;let re=0;return ue&&K.type!==h.GENERAL&&(re=c<=10?2:3),{...K,hp:q,isDead:ue,respawnTimer:re}}return K})}if(_e>=3&&ve===2){const G=A.flagPosition;ye=ye.map(K=>{if(!K.isDead&&Math.max(Math.abs(K.r-G.r),Math.abs(K.c-G.c))<=1){const q=Math.max(0,K.hp-4);q!==K.hp&&z.unshift({turn:c,messageKey:"log_evol_gen_b_damage_zone",params:{unit:Ne(K.type),dmg:K.hp-q},type:"evolution",owner:R.P1});const ue=q===0;let re=0;return ue&&K.type!==h.GENERAL&&(re=c<=10?2:3),{...K,hp:q,isDead:ue,respawnTimer:re}}return K})}r({...a,turnCount:c,currentPlayer:R.P1,phase:"thinking",timeLeft:su,activeUnitId:null,cells:g,mines:L,smokes:k,movements:[],players:{[R.P1]:{...W,units:ye},[R.P2]:{...A,units:le}},logs:[{turn:c,messageKey:"log_round_start",params:{round:c},type:"info"},...z]})},go=(a,c,u,m)=>{const k=ce.current;if(k.phase==="thinking"||k.phase==="placement")return;const g=se(a,k);if(!g||g.hasActedThisRound)return;let N=m;const d=k.players[g.owner];if(d.energy<N){O("log_low_energy","info",{cost:N});return}if(!tt(g,d,N))return;if(g.hasFlag){if(g.type===h.GENERAL){if(d.flagMovesMadeThisTurn>=5){O("log_general_flag_move_limit","error");return}}else if(d.nonGeneralFlagMovesMadeThisTurn>=5){O("log_flag_move_limit","error",{unit:Ne(g.type)});return}}if(k.cells[c][u].isObstacle||k.players[R.P1].units.some(U=>U.r===c&&U.c===u&&!U.isDead)||k.players[R.P2].units.some(U=>U.r===c&&U.c===u&&!U.isDead))return;let P=[...k.mines],I=[...k.smokes],S=g.hp,B=g.maxHp,W=!1,A=0,L={...d.questStats};if(g.type===h.RANGER&&(L.rangerSteps+=1,g.carriedMine)){L.rangerMinesMovedThisRound?L.rangerMinesMovedThisRound=new Set(L.rangerMinesMovedThisRound):L.rangerMinesMovedThisRound=new Set;const U=`carried-${g.id}`;L.rangerMinesMovedThisRound.has(U)||(L.rangerMinesMoved+=1,L.rangerMinesMovedThisRound.add(U))}g.hasFlag&&(L.generalFlagSteps+=1);let z=!1,X=null,Z={...g.status},ee=[...k.buildings],oe=[],ae=!1;const ye=k.mines.findIndex(U=>U.type===ie.NUKE&&U.owner!==g.owner&&Math.abs(U.r-c)<=1&&Math.abs(U.c-u)<=1);let le=-1,we;if(ye!==-1)le=ye,we=k.mines[le],ae=!0;else{const U=k.mines.findIndex(fe=>fe.r===c&&fe.c===u);U!==-1&&(le=U,we=k.mines[le],we.type===ie.NUKE&&(ae=!0))}if(le!==-1&&we){const U=we;if(U.owner!==g.owner&&(!U.immuneUnitIds||!U.immuneUnitIds.includes(g.id))){z=!0,X=U.owner;const fe=k.players[g.owner].evolutionLevels[h.RANGER].b;g.type===h.RANGER&&fe===2&&(Z.isStealthed=!1);let _e={...Z},ve=ls;ve+=g.status.mineVulnerability||0,g.type!==h.DEFUSER&&(L.triggeredMineThisRound=!0),g.type===h.GENERAL&&k.players[g.owner].evolutionLevels[h.GENERAL].a>=1&&(ve+=2,O("log_evol_gen_a_mine_vuln","evolution"));const Le=k.players[g.owner];if(Le.evolutionLevels[h.GENERAL].b>=2){const K=Le.flagPosition;Math.max(Math.abs(g.r-K.r),Math.abs(g.c-K.c))<=2&&(ve=Math.floor(ve*.7),O("log_evol_gen_b_dmg_reduce","evolution"))}if(g.type===h.DEFUSER){const K=Le.evolutionLevels[h.DEFUSER],T=K.a,q=K.aVariant;if(T>=1){const ue=g.maxHp*.5;let re=1;g.hp<ue&&(re=2),T>=3&&q===2&&(re=3,g.hp<ue&&(re=4)),ve=Math.max(0,ve-re)}T>=2&&(B+=2,S=Math.min(B,S+1),O("log_evol_def_a_heal","evolution")),T>=3&&(q===1?(A=2,O("log_evol_def_reflect","evolution")):q===2&&(ve=Math.floor(ve*.25),O("log_defuser_reduce","mine",void 0,g.owner))),L.defuserMinesSoaked+=1}if(U.type===ie.SMOKE){ve=5;const K=`smoke-${Date.now()}`;for(let T=-1;T<=1;T++)for(let q=-1;q<=1;q++){const ue=c+T,re=u+q;ue>=0&&ue<ft&&re>=0&&re<zt&&I.push({id:`${K}-${T}-${q}`,r:ue,c:re,owner:U.owner,duration:3})}O("log_smoke_deployed","mine",{r:c+1,c:u+1},U.owner)}else if(U.type===ie.SLOW){ve=3;const K=St[g.type].moveCost;_e.moveCostDebuff=(_e.moveCostDebuff||0)+K,_e.moveCostDebuffDuration=3,O("log_heavy_steps","mine",void 0,U.owner)}else if(U.type===ie.NUKE)ve=12,P=P.filter(q=>!(Math.abs(q.r-U.r)<=1&&Math.abs(q.c-U.c)<=1)),ee=ee.filter(q=>!(Math.abs(q.r-U.r)<=1&&Math.abs(q.c-U.c)<=1)),[...k.players[R.P1].units,...k.players[R.P2].units].forEach(q=>{if(!q.isDead&&Math.abs(q.r-U.r)<=1&&Math.abs(q.c-U.c)<=1){let ue=6;if(q.id===g.id)return;let re=Math.max(0,q.hp-ue),ze=re===0,Te=0;ze&&q.type!==h.GENERAL&&(Te=k.turnCount<=10?2:3),oe.push({unitId:q.id,owner:q.owner,newHp:re,isDead:ze,respawnTimer:Te}),O("log_evol_nuke_blast_hit","combat",{unit:Ne(q.type),dmg:ue},U.owner)}});else if(U.type===ie.CHAIN){ve=6;const K=P.filter(T=>T.id!==U.id&&Math.abs(T.r-c)<=2&&Math.abs(T.c-u)<=2);K.forEach(T=>{if(O("log_evol_mkr_chain","mine",{r:T.r+1,c:T.c+1}),ve+=2,T.type===ie.SMOKE){const q=`smoke-chain-${Date.now()}-${T.id}`;for(let ue=-1;ue<=1;ue++)for(let re=-1;re<=1;re++){const ze=T.r+ue,Te=T.c+re;ze>=0&&ze<ft&&Te>=0&&Te<zt&&I.push({id:`${q}-${ue}-${re}`,r:ze,c:Te,owner:T.owner,duration:3})}}else T.type===ie.SLOW?_e.moveCostDebuff=(_e.moveCostDebuff||0)+6:T.type===ie.NUKE&&(P=P.filter(q=>!(Math.abs(q.r-T.r)<=1&&Math.abs(q.c-T.c)<=1)),ee=ee.filter(q=>!(Math.abs(q.r-T.r)<=1&&Math.abs(q.c-T.c)<=1)))}),P=P.filter(T=>!K.includes(T)&&T.id!==U.id)}else ve=ls;k.isGodMode&&(ve=0),S-=ve,O("log_hit_mine","mine",{unit:Ne(g.type),dmg:ve},g.owner),ae||P.splice(P.findIndex(K=>K.id===U.id),1),Z=_e}}S<=0&&(W=!0,S=0),r(U=>{const fe=U.players[g.owner],_e=fe.units.map(re=>re.id!==g.id?re:{...re,r:c,c:u,hp:S,maxHp:B,isDead:W,respawnTimer:S<=0&&g.type!==h.GENERAL?U.turnCount<=10?2:3:0,hasFlag:g.hasFlag,hasActedThisRound:!1,energyUsedThisTurn:re.energyUsedThisTurn+N,status:Z,startOfActionEnergy:re.energyUsedThisTurn===0?fe.energy:re.startOfActionEnergy,stats:{...re.stats,stepsTaken:re.stats.stepsTaken+1,minesTriggered:re.stats.minesTriggered+(z?1:0)}});let ve={[g.owner]:{...fe,units:_e}};if(A>0){const re=g.owner===R.P1?R.P2:R.P1,ze=U.players[re];if(ze.units.length>0){const Te=ze.units.filter(xe=>!xe.isDead);if(Te.length>0){Te.sort((dt,_o)=>dt.hp-_o.hp||dt.id.localeCompare(_o.id));const xe=Te[0],Zt=Math.max(0,xe.hp-A),on=Zt===0,st=ze.units.map(dt=>dt.id===xe.id?{...dt,hp:Zt,isDead:on,respawnTimer:on&&dt.type!==h.GENERAL?U.turnCount<=10?2:3:0}:dt);ve[re]={...ze,units:st},O("log_evol_def_reflect_hit","combat",{unit:Ne(xe.type),dmg:A},g.owner)}}}else{const re=g.owner===R.P1?R.P2:R.P1;ve[re]=U.players[re]}let Le=ve[R.P1],G=ve[R.P2];const K=X;z&&K&&(K===R.P1?Le={...Le,questStats:{...Le.questStats,makerMinesTriggeredByEnemy:Le.questStats.makerMinesTriggeredByEnemy+1}}:G={...G,questStats:{...G.questStats,makerMinesTriggeredByEnemy:G.questStats.makerMinesTriggeredByEnemy+1}});const T=g.owner,ue={...T===R.P1?Le:G,energy:fe.energy-N,questStats:L,flagPosition:g.hasFlag?{r:c,c:u}:fe.flagPosition,movesMadeThisTurn:fe.movesMadeThisTurn+1,flagMovesMadeThisTurn:g.hasFlag&&g.type===h.GENERAL?fe.flagMovesMadeThisTurn+1:fe.flagMovesMadeThisTurn,nonGeneralFlagMovesMadeThisTurn:g.hasFlag&&g.type!==h.GENERAL?fe.nonGeneralFlagMovesMadeThisTurn+1:fe.nonGeneralFlagMovesMadeThisTurn};if(T===R.P1?Le=ue:G=ue,oe.forEach(re=>{const Te=(re.owner===R.P1?Le:G).units.map(xe=>xe.id===re.unitId?{...xe,hp:re.newHp,isDead:re.isDead,respawnTimer:re.respawnTimer}:xe);re.owner===R.P1?Le={...Le,units:Te}:G={...G,units:Te}}),W&&g.type!==h.GENERAL){const re=U.turnCount<=10?2:3;O("log_unit_died","info",{unit:Ne(g.type),rounds:re},g.owner)}return{...U,activeUnitId:g.id,mines:P,smokes:I,buildings:ee,movements:[...U.movements,{unitId:g.id,from:{r:g.r,c:g.c},to:{r:c,c:u},energy:N}],players:{[R.P1]:Le,[R.P2]:G}}}),setTimeout(()=>{Gf()},100)},Wf=()=>{const a=n.players[n.currentPlayer],c=n.phase==="thinking",u=n.phase==="placement",m=Math.min(Math.floor(a.energy/10),nu),k=a.units.reduce((d,x)=>{if(x.isDead)return d;const P=n.cells[x.r][x.c];return P.hasEnergyOre&&P.oreSize?d+au[P.oreSize]:d},0);let g=rs;n.turnCount>=12?g=50:n.turnCount>=8?g=45:n.turnCount>=4&&(g=40);const N=g+m+k+a.energyFromKills;return s.jsx("div",{className:"h-56 bg-gradient-to-r from-slate-900 via-blue-950 to-slate-900 border-t-4 border-white flex shrink-0 z-20 shadow-2xl shadow-white/10",children:s.jsxs("div",{className:"flex w-full",children:[s.jsxs("div",{className:"flex-[3] flex flex-col p-3 border-r-2 border-white/30 min-w-[200px] bg-slate-800/50 gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Me,{size:20,className:"text-yellow-400 drop-shadow-lg"}),s.jsx("span",{className:"text-4xl font-black text-yellow-400 drop-shadow-lg",children:a.energy})]}),s.jsxs("div",{className:"text-xs text-white space-y-1 font-semibold",children:[s.jsxs("div",{className:"flex justify-between items-center bg-slate-900/50 p-1.5 rounded border border-emerald-500/30",children:[s.jsx("span",{className:"text-white/80 text-xs",children:""}),s.jsxs("span",{className:"text-emerald-400 font-black text-lg",children:["+",N]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-1.5 text-[11px] bg-slate-900/30 p-1.5 rounded border border-white/20",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full"}),""]}),s.jsxs("span",{className:"text-blue-300 font-bold",children:["+",g]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),""]}),s.jsxs("span",{className:"text-emerald-300 font-bold",children:["+",m]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"/"]}),s.jsxs("span",{className:"text-yellow-300 font-bold",children:["+",k]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full"}),""]}),s.jsxs("span",{className:"text-red-300 font-bold",children:["+",a.energyFromKills]})]})]})]})]}),s.jsxs("button",{onClick:()=>v(!0),className:"mt-auto py-1 px-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 rounded font-black text-[11px] flex items-center justify-center gap-1 border-2 border-purple-400 shadow-lg shadow-purple-500/50 transition-all hover:scale-105 text-white",children:[s.jsx(Nn,{size:14})," "]})]}),s.jsxs("div",{className:"flex-[7] flex flex-col border-l-2 border-white/30 px-4 items-center h-full justify-center bg-slate-800/30",children:[s.jsxs("div",{className:"text-sm text-white mb-2 uppercase tracking-widest text-center w-full flex justify-between px-4 font-bold",children:[s.jsx("span",{className:"text-base",children:""}),s.jsx("span",{className:"text-yellow-400 font-black text-base",children:u?`${pe("round")} ${n.turnCount}`:`${pe("round")} ${n.turnCount}-${a.units.filter(d=>d.hasActedThisRound).length+1}`})]}),s.jsx("div",{className:"flex gap-4 justify-center w-full",children:a.units.map(d=>{const x=a.evolutionLevels[d.type].a,P=a.evolutionLevels[d.type].b,I=Math.max(x,P),S=u&&n.selectedUnitId&&n.selectedUnitId!==d.id;return s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{disabled:d.isDead||d.hasActedThisRound,onClick:()=>pr(d),className:`
                                        relative flex flex-col items-center justify-between w-20 h-24 rounded-lg border-2 transition-all
                                        ${d.isDead?"opacity-30 grayscale cursor-not-allowed bg-red-950/50 border-red-600":""}
                                        ${d.hasActedThisRound?`opacity-50 cursor-not-allowed border-red-500 ${d.owner===R.P1?"bg-cyan-900/40":"bg-red-900/40"}`:""}
                                        ${S?"bg-emerald-500/20 border-emerald-400 shadow-[0_0_15px_rgba(16,185,129,0.3)]":n.selectedUnitId===d.id?"bg-cyan-900/80 border-cyan-400 shadow-[0_0_20px_rgba(34,211,238,0.6)] scale-110 z-10":d.owner===R.P1?"bg-cyan-900/40 border-slate-600 hover:bg-cyan-900/60 hover:border-cyan-500":"bg-red-900/40 border-slate-600 hover:bg-red-900/60 hover:border-red-500"}
                                    `,children:[s.jsxs("div",{className:"absolute top-0.5 right-0.5 flex flex-col gap-0.5",children:[x>0&&s.jsx("div",{className:"flex gap-0.5",children:Array.from({length:x}).map((B,W)=>{const A=a.evolutionLevels[d.type].aVariant;let L="text-blue-400 fill-blue-400";return(x===3&&A||W===2&&A)&&(A===1?L="text-cyan-400 fill-cyan-400":A===2&&(L="text-purple-400 fill-purple-400")),s.jsx(uu,{size:8,className:`${L} drop-shadow-sm`},`a-${W}`)})}),P>0&&s.jsx("div",{className:"flex gap-0.5",children:Array.from({length:P}).map((B,W)=>{const A=a.evolutionLevels[d.type].bVariant;let L="text-orange-400 fill-orange-400";return(P===3&&A||W===2&&A)&&(A===1?L="text-yellow-400 fill-yellow-400":A===2&&(L="text-rose-500 fill-rose-500")),s.jsx(uu,{size:8,className:`${L} drop-shadow-sm`},`b-${W}`)})})]}),s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:d.type===h.GENERAL?"Q":d.type===h.MINESWEEPER?"W":d.type===h.RANGER?"E":d.type===h.MAKER?"R":"T"}),d.isDead&&s.jsx(Sm,{size:40,className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white z-20 drop-shadow-lg"}),S&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsxs("svg",{className:"w-10 h-10 text-emerald-300 opacity-40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M7 16V4m0 0L3 8m4-4l4 4"}),s.jsx("path",{d:"M17 8v12m0 0l4-4m-4 4l-4-4"})]})}),s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center w-full pt-1",children:s.jsx("div",{className:`${d.owner===R.P1?"text-cyan-400 drop-shadow-lg":"text-red-400 drop-shadow-lg"} flex items-center justify-center`,children:pu(d.type,30,I)})}),s.jsxs("div",{className:"flex flex-col items-center gap-0.5 pb-0",children:[s.jsx("div",{className:"w-12 h-1.5 bg-slate-950 rounded-full overflow-hidden border border-slate-600",children:s.jsx("div",{className:`h-full transition-all ${d.hp<d.maxHp*.3?"bg-red-500 shadow-lg shadow-red-500/50":"bg-emerald-500 shadow-lg shadow-emerald-500/50"}`,style:{width:`${d.hp/d.maxHp*100}%`}})}),s.jsxs("div",{className:"text-[8px] font-black text-white font-mono",children:["HP:",d.hp]})]}),s.jsx("div",{className:"text-[9px] font-black text-slate-300 pb-0.5",children:Ne(d.type)}),d.isDead&&d.respawnTimer>0&&s.jsxs("div",{className:"text-[10px] font-black text-red-500 font-mono",children:[":",d.respawnTimer]})]}),s.jsxs("div",{className:"text-[10px] font-black text-cyan-300 font-mono bg-slate-900/50 px-2 py-1 rounded border border-slate-700",children:[d.energyUsedThisTurn,"/",Math.floor(d.startOfActionEnergy*ru)]})]},d.id)})})]}),s.jsx("div",{className:"flex-[4] flex flex-col border-l-2 border-white/30 px-4 items-center justify-between h-full py-1 bg-slate-800/30",children:u?s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-3",children:[s.jsx("div",{className:"text-sm font-black text-white uppercase tracking-widest animate-pulse drop-shadow-lg",children:pe("placement_phase")}),s.jsx("div",{className:"text-[10px] text-white text-center font-semibold",children:pe("placement_guide")}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs("button",{onClick:()=>o(l==="place_setup_mine"?null:"place_setup_mine"),className:`flex-1 py-2 px-1 rounded font-black text-xs flex items-center justify-center gap-1 border-2 transition-all ${l==="place_setup_mine"?"bg-purple-600 border-purple-400 text-white shadow-lg shadow-purple-500/50":"bg-slate-700 border-slate-600 hover:bg-slate-600 hover:border-purple-500 text-slate-300"}`,children:[s.jsx(Pn,{size:14})," ",pe("place_setup_mine")," (",a.placementMinesPlaced,"/",ou,")"]}),s.jsxs("button",{onClick:$i,className:"flex-1 py-2 px-1 bg-emerald-600 hover:bg-emerald-500 text-white rounded font-black text-xs flex items-center justify-center gap-1 border-2 border-emerald-400 shadow-lg shadow-emerald-500/50 transition-all",children:[s.jsx(iu,{size:14})," ",pe("confirm_placement")]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-base text-white uppercase tracking-widest text-center w-full font-bold mt-6",children:n.selectedUnitId?pe("select_action"):pe("select_unit")}),s.jsx("div",{className:"flex-1 flex flex-col justify-center w-full",children:s.jsx("div",{className:"w-full flex flex-col justify-center gap-2 items-center relative min-w-[150px]",children:c?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-white font-black animate-pulse uppercase tracking-widest text-xs drop-shadow-lg",children:pe("planning_phase")}),s.jsxs("button",{onClick:()=>io(),className:"px-6 py-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 rounded font-black shadow-lg shadow-cyan-500/50 flex items-center gap-2 border-2 border-cyan-400 transition-all",children:[s.jsx(Lm,{size:20,fill:"currentColor"})," ",pe("ready")]})]}):n.selectedUnitId?s.jsxs("div",{className:"flex gap-2 justify-center flex-wrap",children:[s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>o("move"),className:`px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 ${l==="move"?"bg-emerald-600 shadow-lg shadow-emerald-500/50 scale-105 border-emerald-400":"bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-emerald-500 text-slate-300"}`,children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("move",se(n.selectedUnitId))}),s.jsx($a,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("move")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:(()=>{const d=se(n.selectedUnitId);if(!d)return 3;let x=3;return d.hasFlag?n.players[d.owner].evolutionLevels[h.GENERAL].b>=3?x=4:d.type===h.GENERAL&&(x=5):d.type===h.RANGER&&d.carriedMine?x=3:x=St[d.type].moveCost,Pe(d,x)})()})]})]}),(()=>{const d=se(n.selectedUnitId);if(!d||d.owner!==n.currentPlayer)return null;const x=n.players[d.owner],P=[];if(d.type===h.GENERAL){const I=x.evolutionLevels[h.GENERAL].a;(!d.hasFlag||I>=3||n.isGodMode)&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>o("attack"),className:`px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 ${l==="attack"?"bg-red-600 shadow-lg shadow-red-500/50 scale-105 border-red-400":"bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-red-500 text-slate-300"}`,children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("attack",d)}),s.jsx(Sf,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("attack")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:Pe(d,8)})]})]},"attack"))}if(d.type!==h.DEFUSER&&n.buildings.some(S=>S.r===d.r&&S.c===d.c&&S.owner!==d.owner)&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>ho(d,d.r,d.c),className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-indigo-500 text-slate-300",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("custom_dismantle",d)}),s.jsx(cu,{size:20}),s.jsx("span",{className:"text-[10px]",children:j==="zh_tw"?"":"Dismantle"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:Pe(d,3)})]})]},"custom_dismantle")),d.type===h.GENERAL){const I=d.r===x.flagPosition.r&&d.c===x.flagPosition.c;!d.hasFlag&&I&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:uo,className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative bg-yellow-600/70 hover:bg-yellow-600 border-yellow-500 cursor-pointer",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("pickup_flag",d)}),s.jsx(ml,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("take")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:"0"})]})]},"pickup")),d.hasFlag&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:fo,className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative bg-yellow-600/70 hover:bg-yellow-600 font-bold border-2 border-yellow-500",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("drop_flag",d)}),s.jsx(Ho,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("drop")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:"0"})]})]},"drop"))}if(d.type===h.MINESWEEPER){const I=x.evolutionLevels[h.MINESWEEPER].a,S=x.evolutionLevels[h.MINESWEEPER].aVariant,B=x.evolutionLevels[h.MINESWEEPER].b;I>=1&&(P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>co(d,d.r,d.c),className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-indigo-500 text-slate-300",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("place_tower",se(n.selectedUnitId))}),s.jsx(Tm,{size:20}),s.jsx("span",{className:"text-[10px]",children:j==="zh_tw"?"":"Deploy Tower"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:Pe(d,8)})]})]},"place_tower")),I===3&&S===2&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>Gi(d),className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold bg-red-600 hover:bg-red-500 border-2 border-red-400 text-white shadow-lg",children:[s.jsx(Pn,{size:20}),s.jsx("span",{className:"text-[10px]",children:j==="zh_tw"?"":"Detonate"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:"2"})]})]},"detonate_tower")));const W=B>=3?3:B>=2?4:St[h.MINESWEEPER].scanCost;P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>o("scan"),className:`px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 ${l==="scan"?"bg-cyan-600 shadow-lg shadow-cyan-500/50 scale-105 border-cyan-400":"bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-cyan-500 text-slate-300"}`,children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("scan",se(n.selectedUnitId))}),s.jsx(Di,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("scan")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:Pe(d,W)})]})]},"scan"))}if(d.type===h.MAKER&&(x.evolutionLevels[h.MAKER].b>=1&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>mo(d,d.r,d.c),className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-orange-500 text-slate-300",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("place_factory",se(n.selectedUnitId))}),s.jsx(Ui,{size:20}),s.jsx("span",{className:"text-[10px]",children:j==="zh_tw"?"":"Deploy Factory"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:Pe(d,x.evolutionLevels[h.MAKER].b===3&&x.evolutionLevels[h.MAKER].bVariant===2?4:6)})]})]},"place_factory")),P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("div",{className:"flex items-stretch gap-0",children:[(()=>{const S=x.evolutionLevels[h.MAKER].a>=1||x.evolutionLevels[h.MAKER].b>=2,B=l==="place_mine";return s.jsxs("button",{onClick:()=>o(l==="place_mine"?null:"place_mine"),className:`px-3 py-2 flex flex-col items-center justify-center gap-1 min-w-[72px] transition-all relative font-bold border-2 ${B?`bg-purple-600 border-white z-20 ${S?"rounded-l border-r-0":"rounded"} shadow-[0_0_15px_rgba(168,85,247,0.4)]`:"bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-purple-500 text-slate-300 rounded"}`,children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("place_mine",se(n.selectedUnitId))}),s.jsx(Pn,{size:20}),s.jsx("span",{className:"text-[10px]",children:""})]})})(),s.jsx("div",{className:`overflow-hidden transition-all duration-300 flex items-center ${l==="place_mine"&&(x.evolutionLevels[h.MAKER].a>=1||x.evolutionLevels[h.MAKER].b>=2)?"max-w-xs opacity-100 scale-100":"max-w-0 opacity-0 scale-50 pointer-events-none"}`,children:s.jsxs("div",{className:"grid grid-cols-2 gap-1 px-2 bg-slate-900/90 rounded-r border-2 border-l-0 border-white h-full items-center shadow-xl backdrop-blur-md -ml-px",children:[s.jsx("button",{onClick:()=>Nt(ie.NORMAL),className:`w-9 h-6 rounded border ${Se===ie.NORMAL?"bg-purple-600 border-white shadow-[0_0_10px_rgba(168,85,247,0.6)]":"bg-slate-800 border-slate-700 hover:border-purple-400"} text-[10px] font-black flex items-center justify-center transition-all hover:scale-110 active:scale-90`,title:"",children:""}),(x.evolutionLevels[h.MAKER].a>=1||x.evolutionLevels[h.MAKER].b>=2)&&s.jsx("button",{onClick:()=>Nt(ie.SMOKE),className:`w-9 h-6 rounded border ${Se===ie.SMOKE?"bg-blue-600 border-white shadow-[0_0_10px_rgba(59,130,246,0.6)]":"bg-slate-800 border-slate-700 hover:border-blue-400"} text-[10px] font-black flex items-center justify-center transition-all hover:scale-110 active:scale-90`,title:"",children:""}),(x.evolutionLevels[h.MAKER].a>=2||x.evolutionLevels[h.MAKER].b>=2)&&s.jsx("button",{onClick:()=>Nt(ie.SLOW),className:`w-9 h-6 rounded border ${Se===ie.SLOW?"bg-amber-500 border-white shadow-[0_0_10px_rgba(245,158,11,0.6)]":"bg-slate-800 border-slate-700 hover:border-amber-400"} text-[10px] font-black flex items-center justify-center transition-all hover:scale-110 active:scale-90`,title:"",children:""}),x.evolutionLevels[h.MAKER].a>=3&&s.jsx("button",{onClick:()=>Nt(x.evolutionLevels[h.MAKER].aVariant===1?ie.CHAIN:ie.NUKE),className:`w-9 h-6 rounded border ${Se===ie.NUKE||Se===ie.CHAIN?"bg-red-600 border-white shadow-[0_0_15px_rgba(220,38,38,0.7)]":"bg-slate-800 border-slate-700 hover:border-red-400"} text-[10px] font-black flex items-center justify-center animate-pulse transition-all hover:scale-110 active:scale-90`,title:x.evolutionLevels[h.MAKER].aVariant===1?"":"",children:x.evolutionLevels[h.MAKER].aVariant===1?"":""})]})})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white shadow-inner",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{className:"min-w-[10px] text-center",children:(()=>{const S=x.evolutionLevels[h.MAKER].b,B=x.evolutionLevels[h.MAKER].bVariant,A=n.buildings.filter(X=>X.owner===d.owner&&X.type==="factory").some(X=>Math.max(Math.abs(X.r-d.r),Math.abs(X.c-d.c))<=(X.level>=2?2:1)),z=S===3&&B===1&&A?0:fu(Se);return Pe(d,z)})()})]})]},"place_mine_group"))),d.type===h.DEFUSER){const I=x.evolutionLevels[h.DEFUSER].b,S=x.evolutionLevels[h.DEFUSER].bVariant;P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>o(l==="disarm"?null:"disarm"),className:`px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 ${l==="disarm"?"bg-teal-600 shadow-lg shadow-teal-500/50 scale-105 border-teal-400":"bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-teal-500 text-slate-300"}`,children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("disarm",se(n.selectedUnitId))}),s.jsx(cu,{size:20}),s.jsx("span",{className:"text-[10px]",children:(()=>{const B=se(n.selectedUnitId);return B&&n.buildings.some(A=>A.r===B.r&&A.c===B.c&&A.owner!==B.owner)?j==="zh_tw"?"":"Dismantle":pe("disarm")})()})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:Pe(d,3)})]})]},"disarm")),I>=2&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>o(l==="move_mine_start"?null:"move_mine_start"),className:`px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 ${l==="move_mine_start"||l==="move_mine_end"?"bg-amber-600 shadow-lg shadow-amber-500/50 scale-105 border-amber-400":"bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-stone-500 text-slate-300"}`,children:[s.jsx(Ba,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("move_mine")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:Pe(d,I===3&&S===2?5:2)})]})]},"move_mine")),I===3&&S===1&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>o(l==="convert_mine"?null:"convert_mine"),className:`px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 ${l==="convert_mine"?"bg-indigo-600 shadow-lg shadow-indigo-500/50 scale-105 border-indigo-400":"bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-indigo-500 text-slate-300"}`,children:[s.jsx($s,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("convert_mine")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:Pe(d,5)})]})]},"convert_mine"))}if(d.type===h.RANGER){const I=x.evolutionLevels[h.RANGER].a,S=x.evolutionLevels[h.RANGER].aVariant,B=n.buildings.some(L=>L.owner===d.owner&&L.type==="hub");if((d.type===h.RANGER&&I>=2||I===3&&S===2)&&B&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>Ki(d),className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 bg-purple-600 hover:bg-purple-500 shadow-lg shadow-purple-500/50 border-purple-400",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("teleport",se(n.selectedUnitId))}),s.jsx(Me,{size:20}),s.jsx("span",{className:"text-[10px]",children:j==="zh_tw"?"":"Teleport"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:"5"})]})]},"hub_teleport")),x.evolutionLevels[h.RANGER].a>=1)if(P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>po(d,d.r,d.c),className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-blue-500 text-slate-300",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("place_hub",se(n.selectedUnitId))}),s.jsx(Fi,{size:20}),s.jsx("span",{className:"text-[10px]",children:j==="zh_tw"?"":"Deploy Hub"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:Pe(d,8)})]})]},"place_hub")),d.carriedMine)x.evolutionLevels[h.RANGER].b===3&&x.evolutionLevels[h.RANGER].bVariant===2&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>o(l==="throw_mine"?null:"throw_mine"),className:`px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 ${l==="throw_mine"?"bg-orange-600 shadow-lg shadow-orange-500/50 scale-105 border-orange-400":"bg-slate-700 hover:bg-slate-600 border-slate-600 hover:border-orange-500 text-slate-300"}`,children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("throw_mine",se(n.selectedUnitId))}),s.jsx(Pn,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("throw_mine")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:Pe(d,4)})]})]},"throw_mine")),P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>Dl("drop"),className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative bg-yellow-600 hover:bg-yellow-500 animate-pulse shadow-lg shadow-yellow-500/50 font-bold border-2 border-yellow-400",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("drop_mine",se(n.selectedUnitId))}),s.jsx(Ho,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("drop_mine")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:"0"})]})]},"drop_mine"));else{const L=x.evolutionLevels[h.RANGER].b,z=L>=1?1:0;n.mines.find(Z=>Math.abs(Z.r-d.r)<=z&&Math.abs(Z.c-d.c)<=z&&(Z.owner===d.owner||Z.revealedTo.includes(d.owner)))&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>Dl("pickup"),className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative bg-yellow-600 hover:bg-yellow-500 animate-pulse shadow-lg shadow-yellow-500/50 border-yellow-400 cursor-pointer",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("pickup_mine",se(n.selectedUnitId))}),s.jsx(Cm,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("take_mine")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:"0"})]})]},"pickup_mine")),L===2&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>Ff(d.id),className:`px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 ${d.status.isStealthed?"bg-indigo-900 border-indigo-600":"bg-indigo-700 hover:bg-indigo-600 border-indigo-400"} shadow-lg shadow-indigo-500/50`,children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("stealth",se(n.selectedUnitId))}),s.jsx(Am,{size:20,className:d.status.isStealthed?"opacity-50":""}),s.jsx("span",{className:"text-[10px]",children:d.status.isStealthed?j==="zh_tw"?"":"Cancel Stealth":j==="zh_tw"?"":"Stealth Action"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:d.status.isStealthed?0:3})]})]},"stealth_action"))}}if(d.type!==h.GENERAL){const I=n.players[d.owner],B=I.evolutionLevels[h.GENERAL].b>=3,W=d.r===I.flagPosition.r&&d.c===I.flagPosition.c;B&&(!d.hasFlag&&W&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:uo,disabled:!W,className:`px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative font-bold border-2 ${W?"bg-yellow-600/70 hover:bg-yellow-600 border-yellow-500 cursor-pointer":"bg-slate-600 border-slate-500 text-slate-400 cursor-not-allowed opacity-50"}`,children:[W&&s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("pickup_flag",se(n.selectedUnitId))}),s.jsx(ml,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("take")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:"0"})]})]},"pickup")),d.hasFlag&&P.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:fo,className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative bg-yellow-600/70 hover:bg-yellow-600 font-bold border-2 border-yellow-500",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("drop_flag",se(n.selectedUnitId))}),s.jsx(Ho,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("drop")})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-center gap-0.5 text-[10px] font-bold text-white",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),s.jsx("span",{children:"0"})]})]},"drop")))}return P})(),(()=>{const d=se(n.selectedUnitId);if(!d||d.owner!==n.currentPlayer)return null;const x=n.players[d.owner],P=x.evolutionLevels[d.type].a,I=x.evolutionLevels[d.type].b,S=x.questStats,B=[];let W=!1,A=!1;const L=Zn[d.type].a.thresholds[P],z=Zn[d.type].b.thresholds[I];d.type===h.GENERAL?(W=S.generalDamage>=L,A=S.generalFlagSteps>=z):d.type===h.MINESWEEPER?(W=S.sweeperMinesMarked>=L,A=S.consecutiveSafeRounds>=z):d.type===h.RANGER?(W=S.rangerSteps>=L,A=S.rangerMinesMoved>=z):d.type===h.MAKER?(W=S.makerMinesTriggeredByEnemy>=L,A=S.makerMinesPlaced>=z):d.type===h.DEFUSER&&(W=S.defuserMinesSoaked>=L,A=S.defuserMinesDisarmed>=z);const X=P<3&&x.energy>=Ve[P]&&W,Z=I<3&&x.energy>=Ve[I]&&A,ee=x.evolutionLevels[d.type].aVariant,oe=x.evolutionLevels[d.type].bVariant,ae=P===2&&X&&!ee,ye=I===2&&Z&&!oe;if(ae){let we=Fl(d);B.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>{r(U=>{const fe=U.players[U.currentPlayer],_e={...fe.evolutionLevels};return _e[d.type]={..._e[d.type],a:3,aVariant:1},{...U,activeUnitId:U.selectedUnitId,players:{...U.players,[U.currentPlayer]:{...fe,evolutionLevels:_e,energy:fe.energy-Ve[2]}},logs:[{turn:U.turnCount,messageKey:"log_committed",type:"info"},{turn:U.turnCount,messageKey:"log_evolved",params:{unit:Ne(d.type),branch:"A",level:3},type:"evolution"},...U.logs]}})},className:"px-3 py-2 rounded flex flex-col items-center gap-0.5 min-w-[60px] transition-all relative bg-cyan-600 hover:bg-cyan-500 font-bold border-2 border-cyan-400 shadow-lg shadow-cyan-500/50 text-white animate-pulse",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:we}),s.jsx(Nn,{size:20}),s.jsx("span",{className:"text-[9px] leading-none",children:j==="zh_tw"?" A":"Evolve A"}),s.jsx("span",{className:"text-[8px] leading-none text-cyan-200",children:"LV2  3-1"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-start gap-0.5 text-[10px] font-bold text-white -mt-0.5",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),"                                ",s.jsx("span",{children:Ve[2]})]})]},"evolve_a_lv3_1")),we++,B.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>{r(U=>{const fe=U.players[U.currentPlayer],_e={...fe.evolutionLevels};return _e[d.type]={..._e[d.type],a:3,aVariant:2},{...U,activeUnitId:U.selectedUnitId,players:{...U.players,[U.currentPlayer]:{...fe,evolutionLevels:_e,energy:fe.energy-Ve[2]}},logs:[{turn:U.turnCount,messageKey:"log_committed",type:"info"},{turn:U.turnCount,messageKey:"log_evolved",params:{unit:Ne(d.type),branch:"A",level:3},type:"evolution"},...U.logs]}})},className:"px-3 py-2 rounded flex flex-col items-center gap-0.5 min-w-[60px] transition-all relative bg-purple-600 hover:bg-purple-500 font-bold border-2 border-purple-400 shadow-lg shadow-purple-500/50 text-white animate-pulse",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:we}),s.jsx(Nn,{size:20}),s.jsx("span",{className:"text-[9px] leading-none",children:j==="zh_tw"?" A":"Evolve A"}),s.jsx("span",{className:"text-[8px] leading-none text-purple-200",children:"LV2  3-2"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-start gap-0.5 text-[10px] font-bold text-white -mt-0.5",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),"                                ",s.jsx("span",{children:Ve[2]})]})]},"evolve_a_lv3_2"))}else if(X&&!ae){const le=Ve[P],we=Fl(d);B.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>Ol(d.type,"a"),className:"px-3 py-2 rounded flex flex-col items-center gap-0.5 min-w-[60px] transition-all relative bg-blue-600 hover:bg-blue-500 font-bold border-2 border-blue-400 shadow-lg shadow-blue-500/50 text-white animate-pulse",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:we}),s.jsx(Nn,{size:20}),s.jsx("span",{className:"text-[9px] leading-none",children:j==="zh_tw"?" A":"Evolve A"}),s.jsxs("span",{className:"text-[8px] leading-none text-blue-200",children:["LV",P,"  ",P+1]})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-start gap-0.5 text-[10px] font-bold text-white -mt-0.5",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),"                                ",s.jsx("span",{children:le})]})]},"evolve_a"))}if(ye){let we=Fl(d)+(ae?2:X?1:0);B.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>{r(U=>{const fe=U.players[U.currentPlayer],_e={...fe.evolutionLevels};return _e[d.type]={..._e[d.type],b:3,bVariant:1},{...U,activeUnitId:U.selectedUnitId,players:{...U.players,[U.currentPlayer]:{...fe,evolutionLevels:_e,energy:fe.energy-Ve[2]}},logs:[{turn:U.turnCount,messageKey:"log_committed",type:"info"},{turn:U.turnCount,messageKey:"log_evolved",params:{unit:Ne(d.type),branch:"B",level:3},type:"evolution"},...U.logs]}})},className:"px-3 py-2 rounded flex flex-col items-center gap-0.5 min-w-[60px] transition-all relative bg-yellow-600 hover:bg-yellow-500 font-bold border-2 border-yellow-400 shadow-lg shadow-yellow-500/50 text-white animate-pulse",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:we}),s.jsx(Nn,{size:20}),s.jsx("span",{className:"text-[9px] leading-none",children:j==="zh_tw"?" B":"Evolve B"}),s.jsx("span",{className:"text-[8px] leading-none text-yellow-200",children:"LV2  3-1"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-start gap-0.5 text-[10px] font-bold text-white -mt-0.5",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),"                                ",s.jsx("span",{children:Ve[2]})]})]},"evolve_b_lv3_1")),we++,B.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>{r(U=>{const fe=U.players[U.currentPlayer],_e={...fe.evolutionLevels};return _e[d.type]={..._e[d.type],b:3,bVariant:2},{...U,activeUnitId:U.selectedUnitId,players:{...U.players,[U.currentPlayer]:{...fe,evolutionLevels:_e,energy:fe.energy-Ve[2]}},logs:[{turn:U.turnCount,messageKey:"log_committed",type:"info"},{turn:U.turnCount,messageKey:"log_evolved",params:{unit:Ne(d.type),branch:"B",level:3},type:"evolution"},...U.logs]}})},className:"px-3 py-2 rounded flex flex-col items-center gap-0.5 min-w-[60px] transition-all relative bg-rose-600 hover:bg-rose-500 font-bold border-2 border-rose-400 shadow-lg shadow-rose-500/50 text-white animate-pulse",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:we}),s.jsx(Nn,{size:20}),s.jsx("span",{className:"text-[9px] leading-none",children:j==="zh_tw"?" B":"Evolve B"}),s.jsx("span",{className:"text-[8px] leading-none text-rose-200",children:"LV2  3-2"})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-start gap-0.5 text-[10px] font-bold text-white -mt-0.5",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),"                                ",s.jsx("span",{children:Ve[2]})]})]},"evolve_b_lv3_2"))}else if(Z&&!ye){const le=Ve[I],U=Fl(d)+(ae?2:X?1:0);B.push(s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsxs("button",{onClick:()=>Ol(d.type,"b"),className:"px-3 py-2 rounded flex flex-col items-center gap-0.5 min-w-[60px] transition-all relative bg-orange-600 hover:bg-orange-500 font-bold border-2 border-orange-400 shadow-lg shadow-orange-500/50 text-white animate-pulse",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:U}),s.jsx(Nn,{size:20}),s.jsx("span",{className:"text-[9px] leading-none",children:j==="zh_tw"?" B":"Evolve B"}),s.jsxs("span",{className:"text-[8px] leading-none text-orange-200",children:["LV",I,"  ",I+1]})]}),s.jsxs("div",{className:"bg-slate-800 rounded px-1.5 py-0.5 flex items-start gap-0.5 text-[10px] font-bold text-white -mt-0.5",children:[s.jsx("span",{className:"text-yellow-400",children:s.jsx(Me,{size:10})}),"                                ",s.jsx("span",{children:le})]})]},"evolve_b"))}return B})(),s.jsx("div",{className:"flex flex-col items-center gap-1",children:s.jsxs("button",{onClick:()=>qn(n.selectedUnitId),className:"px-3 py-2 rounded flex flex-col items-center gap-1 min-w-[60px] transition-all relative bg-slate-600 hover:bg-slate-500 font-bold border-2 border-slate-500 text-slate-200",children:[s.jsx("div",{className:"absolute top-0.5 left-1.5 text-xs font-black text-white/90",children:He("end_turn",se(n.selectedUnitId))}),s.jsx(iu,{size:20}),s.jsx("span",{className:"text-[10px]",children:pe("end_turn")})]})})]}):s.jsx("div",{className:"w-full flex flex-col items-center justify-center gap-2",children:(()=>{const d=Vf();return d?s.jsxs("button",{onClick:()=>{r(x=>{const P=x.currentPlayer===R.P1?R.P2:R.P1,I=x.players[R.P1],S=x.players[R.P2],B=I.units.map(X=>({...X,hasActedThisRound:!1})),W=S.units.map(X=>({...X,hasActedThisRound:!1})),A=I.energy+(rs+I.energyFromKills),L=S.energy+(rs+S.energyFromKills),z=x.buildings.map(X=>X.owner===x.currentPlayer&&X.duration!==void 0&&X.duration>0?{...X,duration:X.duration-1}:X).filter(X=>X.duration===void 0||X.duration>0);return{...x,turnCount:x.turnCount+1,currentPlayer:P,activeUnitId:null,selectedUnitId:null,buildings:z,players:{...x.players,[R.P1]:{...x.players[R.P1],energy:A,startOfRoundEnergy:A,startOfActionEnergy:A,energyFromKills:0,movesMadeThisTurn:0,flagMovesMadeThisTurn:0,nonGeneralFlagMovesMadeThisTurn:0,units:B,questStats:{...x.players[R.P1].questStats,triggeredMineThisRound:!1,rangerMinesMovedThisRound:new Set}},[R.P2]:{...x.players[R.P2],energy:L,startOfRoundEnergy:L,startOfActionEnergy:L,energyFromKills:0,movesMadeThisTurn:0,flagMovesMadeThisTurn:0,nonGeneralFlagMovesMadeThisTurn:0,units:W,questStats:{...x.players[R.P2].questStats,triggeredMineThisRound:!1,rangerMinesMovedThisRound:new Set}}}}}),O("log_skip","move",{unit:Ne(d.type)},d.owner),qn(d.id)},className:"w-full px-6 py-3 rounded flex items-center justify-center gap-2 transition-all bg-indigo-600 hover:bg-indigo-500 font-bold border-2 border-indigo-500 text-indigo-200 shadow-lg shadow-indigo-500/50",children:[s.jsx($a,{size:20}),s.jsx("span",{className:"text-sm",children:pe("skip_turn")})]}):s.jsx("span",{className:"text-white font-semibold",children:pe("select_unit")})})()})})})]})})]})})};return s.jsxs("div",{className:"w-full h-screen bg-slate-950 text-white flex flex-col overflow-hidden font-sans select-none",children:[s.jsx("audio",{ref:Ge,src:e==="lobby"?"/ - bgmdaily - .mp3":"/the-final-boss-battle-158700.mp3",loop:!0}),e==="lobby"?s.jsx(Hm,{language:j,t:pe,setLanguage:b,roomId:Y,setRoomId:he,isHost:ge,setIsHost:Ce,showJoinModal:F,setShowJoinModal:H,handleStartGame:Mt,roomCode:J,setRoomCode:Ee,joinMode:D,setJoinMode:Q,createRoomId:me,setCreateRoomId:qe,createRoomName:ln,setCreateRoomName:Xt,isPrivate:Kn,setIsPrivate:dr,createRoomPassword:Ye,setCreateRoomPassword:Ze}):s.jsxs(s.Fragment,{children:[te&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-black/80 z-50 animate-fade-out",style:{animation:"fadeOut 3s ease-in-out forwards"},children:[s.jsx("style",{children:`
                @keyframes fadeOut {
                  0% { opacity: 1; }
                  70% { opacity: 1; }
                  100% { opacity: 0; }
                }
              `}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl font-black text-white mb-4 animate-pulse",children:""}),s.jsx("div",{className:"text-4xl font-black bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:"BATTLE START"})]})]}),s.jsxs("div",{className:"h-12 bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 border-b-2 border-cyan-500 flex items-center justify-between px-4 shrink-0 z-30 shadow-2xl shadow-cyan-500/20",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:yt,className:"p-2 hover:bg-cyan-500/20 rounded text-cyan-400 hover:text-cyan-300 transition-colors border border-cyan-500/50",children:s.jsx(Pm,{size:20})}),s.jsx("span",{className:"text-lg font-black bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:pe("app_title")}),s.jsx("span",{className:"text-xs font-bold text-white bg-cyan-500/10 px-3 py-1 rounded-full border border-cyan-500/50 ml-2",children:n.gameMode==="pvp"?pe("pvp_mode"):pe("pve_mode")})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-white font-semibold",children:[pe("current"),": ",s.jsx("span",{className:`font-black ${n.currentPlayer===R.P1?"text-blue-400":"text-red-400"}`,children:n.currentPlayer===R.P1?"P1":"P2"})]}),s.jsx("button",{onClick:Hi,className:"p-2 bg-cyan-500/10 hover:bg-cyan-500/20 rounded border border-cyan-500/50 transition-colors text-xs font-bold flex items-center gap-1 text-white hover:text-white",children:n.isPaused?pe("resume"):pe("pause")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"relative w-5 h-5 flex items-center justify-center text-white",children:y===0?s.jsxs(s.Fragment,{children:[s.jsx(Im,{size:20}),s.jsx("div",{className:"absolute w-6 h-1 bg-red-500 transform -rotate-45"})]}):s.jsx(zm,{size:20})}),s.jsx("input",{type:"range",min:"0",max:"100",value:y*100,onChange:a=>M(Number(a.target.value)/100),className:"w-24 h-2 bg-cyan-500/20 rounded-lg appearance-none cursor-pointer accent-cyan-400",style:{background:`linear-gradient(to right, rgb(34, 211, 238) 0%, rgb(34, 211, 238) ${y*100}%, rgba(34, 211, 238, 0.2) ${y*100}%, rgba(34, 211, 238, 0.2) 100%)`}}),s.jsxs("span",{className:"text-xs text-cyan-300 font-bold w-8",children:[Math.round(y*100),"%"]})]}),s.jsxs("button",{onClick:()=>b(j==="zh_tw"?"en":"zh_tw"),className:"p-2 bg-cyan-500/10 hover:bg-cyan-500/20 rounded border border-cyan-500/50 transition-colors text-xs font-bold flex items-center gap-1 text-white hover:text-white",children:[s.jsx(Cf,{size:12}),j==="zh_tw"?"EN":""]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",style:{background:"linear-gradient(135deg, #0a0e27 0%, #1a0033 25%, #0a0e27 50%, #1a0033 75%, #0a0e27 100%)",backgroundSize:"400% 400%",animation:"gradientShift 15s ease infinite"},children:[s.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
                       linear-gradient(0deg, transparent 24%, rgba(0, 255, 255, 0.08) 25%, rgba(0, 255, 255, 0.08) 26%, transparent 27%, transparent 74%, rgba(0, 255, 255, 0.08) 75%, rgba(0, 255, 255, 0.08) 76%, transparent 77%, transparent),
                       linear-gradient(90deg, transparent 24%, rgba(0, 255, 255, 0.08) 25%, rgba(0, 255, 255, 0.08) 26%, transparent 27%, transparent 74%, rgba(0, 255, 255, 0.08) 75%, rgba(0, 255, 255, 0.08) 76%, transparent 77%, transparent)
                     `,backgroundSize:"60px 60px",pointerEvents:"none",zIndex:1}}),s.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",style:{zIndex:9},children:[s.jsx("style",{children:`
                                @keyframes meteorFall {
                                    0% {
                                        transform: translateY(-200px) translateX(0);
                                        opacity: 0;
                                    }
                                    10% {
                                        opacity: 1;
                                    }
                                    90% {
                                        opacity: 1;
                                    }
                                    100% {
                                        transform: translateY(calc(100vh + 200px)) translateX(400px);
                                        opacity: 0;
                                    }
                                }
                            `}),Array.from({length:25}).map((a,c)=>s.jsx("div",{className:"absolute",style:{left:`${(c*13+7)%100}%`,top:"-200px",animation:`meteorFall ${3+c%5}s linear infinite`,animationDelay:`${c*.5}s`,opacity:0},children:s.jsx("div",{style:{width:"2px",height:`${80+c%6*20}px`,background:"linear-gradient(to bottom, rgba(0, 255, 255, 0), rgba(200, 255, 255, 0.8))",boxShadow:"0 0 15px rgba(0, 255, 255, 0.6)",transform:"rotate(-25deg)",transformOrigin:"bottom center"}})},`meteor-${c}`))]}),s.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",style:{zIndex:5},children:[s.jsxs("div",{className:"absolute inset-0 opacity-40 mix-blend-screen",style:{zIndex:0},children:[s.jsx("div",{className:"absolute inset-[-50%]",style:{background:"linear-gradient(45deg, transparent 40%, rgba(0, 255, 128, 0.3) 50%, transparent 60%)",filter:"blur(60px)",animation:"aurora-flow 8s ease-in-out infinite alternate",transformOrigin:"center"}}),s.jsx("div",{className:"absolute inset-[-50%]",style:{background:"linear-gradient(-45deg, transparent 40%, rgba(50, 255, 100, 0.2) 50%, transparent 60%)",filter:"blur(40px)",animation:"aurora-flow 12s ease-in-out infinite alternate-reverse",transformOrigin:"center",animationDelay:"-4s"}})]}),s.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(circle at 30% 40%, rgba(0, 150, 255, 0.6) 0%, transparent 50%)",animation:"pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite",zIndex:1}}),s.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(circle at 70% 60%, rgba(255, 50, 100, 0.5) 0%, transparent 50%)",animation:"pulse 5s cubic-bezier(0.4, 0, 0.6, 1) infinite",animationDelay:"0.5s",zIndex:1}}),s.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(circle at 50% 20%, rgba(150, 50, 255, 0.5) 0%, transparent 50%)",animation:"pulse 6s cubic-bezier(0.4, 0, 0.6, 1) infinite",animationDelay:"1s",zIndex:1}})]}),s.jsxs("div",{className:"flex-1 flex flex-row overflow-hidden relative",style:{zIndex:10},children:[s.jsxs("div",{className:"flex-1 flex flex-col overflow-visible relative",children:[s.jsx("div",{className:"flex-1 flex items-center justify-center p-4 relative overflow-visible",style:{zIndex:10},onMouseMove:so,onMouseLeave:oo,children:s.jsxs("div",{ref:Et,className:"grid gap-0 border-4 border-white bg-slate-900 rounded-lg overflow-visible relative z-10 shadow-[0_0_10px_rgba(255,255,255,0.3)]",style:{gridTemplateColumns:"repeat(24, 48px)",gridTemplateRows:"repeat(7, 48px)",animation:"gentleBreathe 4s ease-in-out infinite",transformStyle:"preserve-3d"},children:[s.jsx("div",{className:"absolute top-0 bottom-0 left-1/2 w-0.5 bg-white shadow-[0_0_10px_rgba(255,255,255,0.8),0_0_20px_rgba(255,255,255,0.4)] z-20 transform -translate-x-1/2",style:{animation:"gentleBreathe 4s ease-in-out infinite"}}),n.cells.map((a,c)=>a.map((u,m)=>{var Z;const k=n.smokes.filter(ee=>ee.r===c&&ee.c===m),g=k.length>0,N=k.some(ee=>ee.owner!==n.currentPlayer),d=[...n.players[R.P1].units,...n.players[R.P2].units].find(ee=>ee.r===c&&ee.c===m&&!ee.isDead),x=d==null?void 0:d.status.isStealthed,I=d&&(d.owner===n.currentPlayer||!N&&!x)?d:void 0,B=n.mines.find(ee=>ee.r===c&&ee.c===m),W=n.buildings.find(ee=>ee.r===c&&ee.c===m),A=n.selectedUnitId?se(n.selectedUnitId):void 0,L=A?n.players[A.owner]:null,z=L?L.evolutionLevels[h.GENERAL].a:0,X=I?n.players[I.owner].evolutionLevels[I.type].a:0;return s.jsx(Gm,{cell:u,unit:I,mine:B,building:W,isSelected:n.selectedUnitId===(I==null?void 0:I.id),isValidMove:!1,isAttackTarget:!1,isSkillTarget:!1,currentPlayer:n.currentPlayer,isUnitStealthed:x&&(d==null?void 0:d.owner)===n.currentPlayer,onClick:()=>{l&&l!=="move"?sn(c,m):I?pr(I):sn(c,m)},p1FlagLoc:n.players[R.P1].flagPosition,p2FlagLoc:n.players[R.P2].flagPosition,targetMode:l,selectedUnit:A,selectedGeneralLevelA:z,evolutionLevelA:X,evolutionLevelB:I?n.players[I.owner].evolutionLevels[I.type].b:0,evolutionVariantA:I?n.players[I.owner].evolutionLevels[I.type].aVariant:void 0,evolutionVariantB:I?n.players[I.owner].evolutionLevels[I.type].bVariant:void 0,p1GeneralLevelB:n.players[R.P1].evolutionLevels[h.GENERAL].b,p2GeneralLevelB:n.players[R.P2].evolutionLevels[h.GENERAL].b,p1GeneralVariantB:n.players[R.P1].evolutionLevels[h.GENERAL].bVariant,p2GeneralVariantB:n.players[R.P2].evolutionLevels[h.GENERAL].bVariant,buildings:n.buildings,isSmoked:g,smokeOwner:(Z=k[0])==null?void 0:Z.owner,forceShowMines:n.sandboxShowAllMines},`${c}-${m}`)}))]})}),s.jsxs("div",{className:"w-full px-8 py-3 flex items-center justify-center gap-6 relative z-20",children:[s.jsx("span",{className:"text-white font-bold text-lg min-w-[80px]",children:pe(`${n.phase}_phase`)}),s.jsx("div",{className:"flex-1 max-w-2xl",children:s.jsx("div",{className:"w-full h-5 bg-slate-900 rounded-full overflow-hidden border-2 border-white/50 shadow-lg",children:(()=>{const a=n.phase==="placement"?45:n.phase==="thinking"?30:15,c=n.timeLeft/a*100,u=c>=67?"bg-emerald-500 shadow-lg shadow-emerald-500/60":c>=34?"bg-yellow-500 shadow-lg shadow-yellow-500/60":"bg-red-500 shadow-lg shadow-red-500/60",m=c>=99?"":"transition-all duration-1000 ease-linear";return s.jsx("div",{className:`h-full ${u} ${m}`,style:{width:`${Math.min(c,100)}%`}})})()})}),s.jsxs("span",{className:"text-white font-bold text-lg min-w-[50px] text-right",children:[n.timeLeft,"s"]})]})]}),s.jsxs("div",{className:`shrink-0 z-20 relative transition-all duration-500 ease-in-out flex flex-row ${_?"w-80":"w-0"}`,children:[s.jsxs("button",{onClick:()=>E(!_),className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full w-8 h-24 bg-slate-900 border-2 border-white border-r-0 rounded-l-2xl flex flex-col items-center justify-center text-white hover:bg-slate-800 transition-all shadow-[0_0_15px_rgba(255,255,255,0.2)] z-30 group",title:_?j==="zh_tw"?"":"Hide Log":j==="zh_tw"?"":"Show Log",children:[_?s.jsx(Ba,{size:20,className:"group-hover:scale-125 transition-transform"}):s.jsx(Tf,{size:20,className:"group-hover:scale-125 transition-transform"}),s.jsx("div",{className:"text-[10px] font-black uppercase vertical-text mt-1 opacity-50 group-hover:opacity-100 transition-opacity",children:"LOG"})]}),s.jsxs("div",{className:`w-80 h-full bg-slate-900 border-l-4 border-white flex flex-col text-sm transition-all duration-500 ${_?"opacity-100":"opacity-0 pointer-events-none"}`,children:[s.jsxs("div",{className:"shrink-0 p-3 font-black border-b-2 border-white bg-slate-800 flex items-center gap-2 text-white",children:[s.jsx(Rm,{size:18}),s.jsx("span",{className:"text-lg whitespace-nowrap overflow-hidden",children:j==="zh_tw"?"":"GAME LOG"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 text-sm scrollbar-thin scrollbar-thumb-white/30",children:n.logs.map((a,c)=>{let u="bg-slate-800/50 border-white text-white";return a.type==="error"?u="bg-slate-700/40 border-slate-500 text-slate-300":a.type==="evolution"?u="bg-purple-950/40 border-purple-500 text-purple-200":a.type==="combat"||a.type==="mine"||a.type==="move"?a.owner===R.P1?u="bg-blue-950/40 border-blue-500 text-blue-200":a.owner===R.P2&&(u="bg-red-950/40 border-red-500 text-red-200"):u="bg-yellow-950/40 border-yellow-500 text-yellow-200",s.jsxs("div",{className:`p-2 rounded border-l-4 leading-tight font-bold text-xs ${u}`,children:[s.jsxs("span",{className:"opacity-60 text-[10px] mr-2 font-bold text-gray-400",children:["[",a.turn,"]"]}),pe(a.messageKey,a.params)]},c)})})]})]})]})]}),Wf(),p&&s.jsx(qm,{gameState:n,setShowEvolutionTree:v,flippedCardId:$,setFlippedCardId:C,t:pe,getUnitIcon:pu,getUnitTypeAbbr:Qm}),n.gameOver&&s.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center pointer-events-auto backdrop-blur-sm",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("h1",{className:"text-7xl font-black text-yellow-400 drop-shadow-2xl animate-pulse",children:pe("game_over")}),s.jsx("div",{className:"text-5xl font-black",children:n.winner===R.P1?s.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:["Player 1 ",pe("wins")]}):s.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-400 to-pink-500",children:["Player 2 ",pe("wins")]})}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx("button",{onClick:()=>{r(Wo(n.gameMode)),o(null)},className:"px-8 py-4 bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-500 hover:to-cyan-500 rounded-lg font-black text-lg shadow-2xl shadow-emerald-500/50 transform hover:scale-110 transition-all border-2 border-emerald-400",children:pe("play_again")}),s.jsx("button",{onClick:yt,className:"px-8 py-4 bg-gradient-to-r from-slate-700 to-slate-600 hover:from-slate-600 hover:to-slate-500 rounded-lg font-black text-lg shadow-2xl transform hover:scale-110 transition-all border-2 border-slate-500",children:pe("exit_lobby")})]})]})}),n.isPaused&&s.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center pointer-events-auto backdrop-blur-sm",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("h1",{className:"text-7xl font-black text-cyan-400 drop-shadow-2xl animate-pulse",children:pe("paused")}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx("button",{onClick:Hi,className:"px-8 py-4 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 rounded-lg font-black text-lg shadow-2xl shadow-cyan-500/50 transform hover:scale-110 transition-all border-2 border-cyan-400",children:pe("resume")}),s.jsx("button",{onClick:yt,className:"px-8 py-4 bg-gradient-to-r from-slate-700 to-slate-600 hover:from-slate-600 hover:to-slate-500 rounded-lg font-black text-lg shadow-2xl transform hover:scale-110 transition-all border-2 border-slate-500",children:pe("exit_lobby")})]})]})})]}),s.jsx(Wm,{gameState:n,setGameState:r,isSandboxCollapsed:lo,setIsSandboxCollapsed:_t,sandboxPos:jt,onSandboxDragStart:fr,language:j,addLog:O})]})}const zf=document.getElementById("root");if(!zf)throw new Error("Could not find root element to mount to");const Ym=qo.createRoot(zf);Ym.render(s.jsx(_r.StrictMode,{children:s.jsx(Xm,{})}));
